import{r as t,e as s,h as r,g as i,H as e}from"./p-8dfd188c.js";const o=class{constructor(r){t(this,r),this.bkkrChange=s(this,"bkkrChange",7),this.inputId="bkkr-rg-"+h++,this.labelId=`${this.inputId}-lbl`,this.allowEmptySelection=!0,this.name=this.inputId,this.setRadioTabindex=t=>{const s=this.getRadios(),r=s.find((t=>!t.disabled)),i=s.find((s=>s.value===t&&!s.disabled));if(!r&&!i)return;const e=i||r;for(const t of s)t.setButtonTabindex(t===e?0:-1)},this.onClick=t=>{t.preventDefault();const s=t.target&&t.target.closest("bkkr-radio");if(s){const t=s.value;t!==this.value?this.value=t:this.allowEmptySelection&&(this.value=void 0)}}}valueChanged(t){this.setRadioTabindex(t),this.bkkrChange.emit({value:t})}componentDidLoad(){this.setRadioTabindex(this.value)}async connectedCallback(){const t=this.el.querySelector("bkkr-list-header")||this.el.querySelector("bkkr-item-divider");if(t){const s=this.label=t.querySelector("bkkr-label");s&&(this.labelId=s.id=this.name+"-lbl")}}getRadios(){return Array.from(this.el.querySelectorAll("bkkr-radio"))}onKeydown(t){const s=!!this.el.closest("bkkr-select-popover"),r=!!this.el.closest("bkkr-select-drawer");if(t.target&&!this.el.contains(t.target))return;const i=Array.from(this.el.querySelectorAll("bkkr-radio")).filter((t=>!t.disabled));if(t.target&&i.includes(t.target)){const e=i.findIndex((s=>s===t.target)),o=i[e];let h;["ArrowDown","ArrowRight"].includes(t.code)&&(h=e===i.length-1?i[0]:i[e+1]),["ArrowUp","ArrowLeft"].includes(t.code)&&(h=0===e?i[i.length-1]:i[e-1]),h&&i.includes(h)&&(h.setFocus(t),s&&r||(this.value=h.value)),["Space"].includes(t.code)&&(this.value=o.value,t.preventDefault())}}render(){const{label:t,labelId:s}=this;return r(e,{role:"radiogroup","aria-labelledby":t?s:null,onClick:this.onClick})}get el(){return i(this)}static get watchers(){return{value:["valueChanged"]}}};let h=0;export{o as bkkr_radio_group}