import{r as t,e as i,h as s,g as a}from"./p-8dfd188c.js";import"./p-a7b47bff.js";import"./p-9b065740.js";import{a as e,d as o}from"./p-04115f59.js";import{t as r}from"./p-07114b4a.js";const n=class{constructor(s){t(this,s),this.bkkrNavWillLoad=i(this,"bkkrNavWillLoad",7),this.bkkrNavWillChange=i(this,"bkkrNavWillChange",3),this.bkkrNavDidChange=i(this,"bkkrNavDidChange",3),this.animated=!0}componentWillLoad(){this.bkkrNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async commit(t,i,s){const a=await this.lock();let e=!1;try{e=await this.transition(t,i,s)}catch(t){console.error(t)}return a(),e}async setRouteId(t,i,s){return{changed:await this.setRoot(t,i,{duration:"root"===s?0:void 0,direction:"back"===s?"back":"forward"}),element:this.activeEl}}async getRouteId(){const t=this.activeEl;return t?{id:t.tagName,element:t}:void 0}async setRoot(t,i,s){if(this.activeComponent===t)return!1;const a=this.activeEl,r=await e(this.delegate,this.el,t,["bkkr-page","bkkr-page-invisible"],i);return this.activeComponent=t,this.activeEl=r,await this.commit(r,a,s),await o(this.delegate,a),!0}async transition(t,i,s={}){if(i===t)return!1;this.bkkrNavWillChange.emit();const{el:a}=this,e=this.animated,o=this.animation||s.animationBuilder;return await r(Object.assign(Object.assign({animated:e,enteringEl:t,leavingEl:i,baseEl:a},s),{animationBuilder:o})),this.bkkrNavDidChange.emit(),!0}async lock(){const t=this.waitPromise;let i;return this.waitPromise=new Promise((t=>i=t)),void 0!==t&&await t,i}render(){return s("slot",null)}get el(){return a(this)}};n.style=":host{top:0;right:0;bottom:0;left:0;position:absolute;contain:layout size style;overflow:hidden;z-index:0}";export{n as bkkr_router_outlet}