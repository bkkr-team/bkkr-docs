import{r as t,c as s,h as o,H as i,g as r}from"./p-e501253c.js";import{s as a,h as e}from"./p-c50c697b.js";const l=class{constructor(o){t(this,o),this.bkkrCollapsedClick=s(this,"bkkrCollapsedClick",7),this.itemsBeforeCollapse=1,this.itemsAfterCollapse=1,this.breadcrumbsInit=()=>{this.setBreadcrumbSeparator(),this.setMaxItems()},this.resetActiveBreadcrumb=()=>{const t=this.getBreadcrumbs().find((t=>t.active));t&&this.activeChanged&&(t.active=!1)},this.setMaxItems=()=>{const{itemsAfterCollapse:t,itemsBeforeCollapse:s,maxItems:o}=this,i=this.getBreadcrumbs();for(const t of i)t.showCollapsedIndicator=!1,t.collapsed=!1;void 0!==o&&i.length>o&&s+t<=o&&i.forEach(((o,r)=>{r===s&&(o.showCollapsedIndicator=!0),r>=s&&r<i.length-t&&(o.collapsed=!0)}))},this.setBreadcrumbSeparator=()=>{const{itemsAfterCollapse:t,itemsBeforeCollapse:s,maxItems:o}=this,i=this.getBreadcrumbs(),r=i.find((t=>t.active));for(const a of i){const e=void 0!==o&&0===t?a===i[s]:a===i[i.length-1];a.last=e,a.separator=void 0!==a.separator?a.separator:!e||void 0,!r&&e&&(a.active=!0,this.activeChanged=!0)}},this.getBreadcrumbs=()=>Array.from(this.el.querySelectorAll("bkkr-breadcrumb"))}onCollapsedClick(t){const s=this.getBreadcrumbs().filter((t=>t.collapsed));this.bkkrCollapsedClick.emit(Object.assign(Object.assign({},t.detail),{collapsedBreadcrumbs:s}))}maxItemsChanged(){this.resetActiveBreadcrumb(),this.breadcrumbsInit()}componentWillLoad(){this.breadcrumbsInit()}render(){const{color:t,collapsed:s}=this;return o(i,{class:a(t,{"in-toolbar":e("bkkr-toolbar",this.el),"in-toolbar-color":e("bkkr-toolbar[color]",this.el),"breadcrumbs-collapsed":s})},o("slot",null))}get el(){return r(this)}static get watchers(){return{maxItems:["maxItemsChanged"],itemsBeforeCollapse:["maxItemsChanged"],itemsAfterCollapse:["maxItemsChanged"]}}};l.style=":host{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:center;align-items:center}:host(.in-toolbar){padding-left:20px;padding-right:20px;padding-top:0;padding-bottom:0;-ms-flex-pack:center;justify-content:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.in-toolbar){padding-left:unset;padding-right:unset;-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px}}:host(.in-toolbar-color),:host(.in-toolbar-color) .breadcrumbs-collapsed-indicator bkkr-icon{color:var(--color-contrast)}:host(.in-toolbar-color) .breadcrumbs-collapsed-indicator{background:var(--color-contrast, 0.11)}";export{l as bkkr_breadcrumbs}