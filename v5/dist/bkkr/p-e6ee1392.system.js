var __awaiter=this&&this.__awaiter||function(e,t,r,n){function a(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n["throw"](e))}catch(e){i(e)}}function l(e){e.done?r(e.value):a(e.value).then(o,s)}l((n=n.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return l([e,t])}}function l(o){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,a&&(i=o[0]&2?a["return"]:o[0]?a["throw"]||((i=a["return"])&&i.call(a),0):a.next)&&!(i=i.call(a,o[1])).done)return i;if(a=0,i)o=[o[0]&2,i.value];switch(o[0]){case 0:case 1:i=o;break;case 4:r.label++;return{value:o[1],done:false};case 5:r.label++;a=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){r.label=o[1];break}if(o[0]===6&&r.label<i[1]){r.label=i[1];i=o;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(o);break}if(i[2])r.ops.pop();r.trys.pop();continue}o=t.call(e,r)}catch(e){o=[6,e];a=0}finally{n=i=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}};var __spreadArray=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,a=e.length;r<n;r++,a++)e[a]=t[r];return e};
/*!
 * (C) BKKR Framework https://bkkr-team.github.io/bkkr-docs/ - MIT License
 */System.register(["./p-b938bf14.system.js","./p-0fe48761.system.js","./p-786e5946.system.js","./p-739d5869.system.js","./p-85e87925.system.js","./p-7c09dde3.system.js","./p-06c1d0dc.system.js","./p-e40acf31.system.js","./p-a2ff73d2.system.js","./p-213ca704.system.js","./p-9dffa89b.system.js","./p-42212b83.system.js"],(function(e){"use strict";var t,r,n,a,i,o,s,l,d,c,u,p,h,f,b,v,m,g,k,w,x,y,D,T,E,P,S;return{setters:[function(e){t=e.b},function(e){r=e.g;n=e.a;a=e.r;i=e.b;o=e.c;s=e.d},function(e){l=e.c;d=e.O},function(e){c=e.a;u=e.r;p=e.c;h=e.f;f=e.h;b=e.H;v=e.g},function(e){m=e.createGesture},function(e){g=e.g;k=e.s},function(e){w=e.C;x=e.a;y=e.d},function(e){D=e.e},function(e){T=e.i},function(e){E=e.s},function(e){P=e.B},function(e){S=e.S}],execute:function(){var C=this;var A=e("g",(function(e,t,r,n,a){return I(e[1],t[1],r[1],n[1],a).map((function(a){return _(e[0],t[0],r[0],n[0],a)}))}));var _=function(e,t,r,n,a){var i=3*t*Math.pow(a-1,2);var o=-3*r*a+3*r+n*a;var s=e*Math.pow(a-1,3);return a*(i+a*o)-s};var I=function(e,t,r,n,a){e-=a;t-=a;r-=a;n-=a;var i=z(n-3*r+3*t-e,3*r-6*t+3*e,3*t-3*e,e);return i.filter((function(e){return e>=0&&e<=1}))};var L=function(e,t,r){var n=t*t-4*e*r;if(n<0){return[]}else{return[(-t+Math.sqrt(n))/(2*e),(-t-Math.sqrt(n))/(2*e)]}};var z=function(e,t,r,n){if(e===0){return L(t,r,n)}t/=e;r/=e;n/=e;var a=(3*r-t*t)/3;var i=(2*t*t*t-9*t*r+27*n)/27;if(a===0){return[Math.pow(-i,1/3)]}else if(i===0){return[Math.sqrt(-a),-Math.sqrt(-a)]}var o=Math.pow(i/2,2)+Math.pow(a/3,3);if(o===0){return[Math.pow(i/2,1/2)-t/3]}else if(o>0){return[Math.pow(-(i/2)+Math.sqrt(o),1/3)-Math.pow(i/2+Math.sqrt(o),1/3)-t/3]}var s=Math.sqrt(Math.pow(-(a/3),3));var l=Math.acos(-(i/(2*Math.sqrt(Math.pow(-(a/3),3)))));var d=2*Math.pow(s,1/3);return[d*Math.cos(l/3)-t/3,d*Math.cos((l+2*Math.PI)/3)-t/3,d*Math.cos((l+4*Math.PI)/3)-t/3]};var B=function(e,t){var r;var n;var a=function(e,n){if(typeof document==="undefined"){return}var a=document.elementFromPoint(e,n);if(!a||!t(a)){o();return}if(a!==r){o();i(a)}};var i=function(e){r=e;if(!n){n=r}var t=r;c((function(){return t.classList.add("state-activated")}))};var o=function(e){if(e===void 0){e=false}if(!r){return}var t=r;c((function(){return t.classList.remove("state-activated")}));if(e&&n!==r){r.click()}r=undefined};return m({el:e,gestureName:"buttonActiveDrag",threshold:0,onStart:function(e){return a(e.currentX,e.currentY)},onMove:function(e){return a(e.currentX,e.currentY)},onEnd:function(){o(true);n=undefined}})};var j=function(e,t,r,n){if(n===void 0){n=400}var a=l().addElement(e.querySelector("bkkr-backdrop")).fromTo("opacity",0,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]);var i=l().addElement(e.querySelectorAll(".alert-wrapper, .alert-shadow")).beforeStyles({opacity:1});switch(t){case"top":i.fromTo("transform","translate3d(0, -200%, 0)","translate3d(0, 0, 0)");break;default:i.fromTo("transform","translate3d(0, 200%, 0)","translate3d(0, 0, 0)");break}var o=l().addElement(e).easing("cubic-bezier(0.32,0.72,0,1)").duration(n).addAnimation(i);if(r){var s=l().beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"});s.addElement(r);o.addAnimation(s)}o.addAnimation(a);return o};var O=function(e,t,r,n){if(n===void 0){n=400}var a=l().addElement(e.querySelector("bkkr-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0);var i=l().addElement(e.querySelectorAll(".alert-wrapper, .alert-shadow")).beforeStyles({opacity:1});switch(t){case"top":i.fromTo("transform","translate3d(0, 0, 0)","translate3d(0, -200%, 0)");break;default:i.fromTo("transform","translate3d(0, 0, 0)","translate3d(0, 200%, 0)");break}var o=l().addElement(e).easing("cubic-bezier(0.32,0.72,0,1)").duration(n).addAnimation(i);if(r){var s=l().beforeClearStyles(["transform"]).afterClearStyles(["transform"]).onFinish((function(e){if(e!==1){return}r.style.setProperty("overflow","")}));o.addAnimation(s)}o.addAnimation(a);return o};var W=".sc-bkkr-alert-h{--min-width:auto;--width:calc(100% - var(--bkkr-spacer, 16px));--min-height:auto;--height:auto;--max-height:90%;--background:var(--bkkr-overlay-background, var(--bkkr-background-color, #fff));--box-shadow:0 15px 25px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.1), 0 6px 20px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.12), 0 13.2px 40px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.08);--max-width:720px;--backdrop-opacity:var(--bkkr-backdrop-opacity, 0.3);--margin-top:calc(var(--safe-area-top) + 8px);--margin-bottom:calc(var(--safe-area-bottom) + 8px);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;top:0;right:0;bottom:0;left:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:end;align-items:flex-end;-ms-flex-pack:center;justify-content:center;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;outline:none;font-family:var(--bkkr-font-family);font-size:0.9rem;contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-bkkr-alert-h{display:none}.alert-wrapper.sc-bkkr-alert{border-radius:32px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:content;opacity:0;overflow:hidden;z-index:10}.alert-top.sc-bkkr-alert-h{-ms-flex-align:start;align-items:flex-start}.alert-top.sc-bkkr-alert-h .alert-wrapper.sc-bkkr-alert{margin-top:var(--margin-top);-webkit-transform:translate3d(0, -200%, 0);transform:translate3d(0, -200%, 0)}.alert-bottom.sc-bkkr-alert-h{-ms-flex-align:end;align-items:flex-end}.alert-bottom.sc-bkkr-alert-h .alert-wrapper.sc-bkkr-alert{margin-bottom:var(--margin-bottom);-webkit-transform:translate3d(0, 200%, 0);transform:translate3d(0, 200%, 0)}.alert-checkbox-group.sc-bkkr-alert::-webkit-scrollbar,.alert-radio-group.sc-bkkr-alert::-webkit-scrollbar,.alert-message.sc-bkkr-alert::-webkit-scrollbar{display:none}.alert-button.sc-bkkr-alert,.alert-checkbox.sc-bkkr-alert,.alert-input.sc-bkkr-alert,.alert-radio.sc-bkkr-alert{outline:none}.alert-radio-icon.sc-bkkr-alert,.alert-checkbox-icon.sc-bkkr-alert,.alert-checkbox-inner.sc-bkkr-alert{-webkit-box-sizing:border-box;box-sizing:border-box}.state-tappable.sc-bkkr-alert{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;contain:strict;-webkit-appearance:none;-moz-appearance:none;appearance:none}.alert-head.sc-bkkr-alert{padding-left:16px;padding-right:16px;padding-top:12px;padding-bottom:7px;text-align:left}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-head.sc-bkkr-alert{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.alert-title.sc-bkkr-alert{margin-top:8px;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--bkkr-text-color, #000);font-size:1.1rem;font-weight:600}.alert-sub-title.sc-bkkr-alert{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--color-step-600, #666666);font-size:0.9rem;font-weight:400}.alert-message.sc-bkkr-alert,.alert-input-group.sc-bkkr-alert{padding-left:16px;padding-right:16px;padding-top:0;padding-bottom:21px;color:var(--bkkr-text-color, #000);font-size:0.85rem;text-align:left;-webkit-box-sizing:border-box;box-sizing:border-box;overflow-y:auto;-webkit-overflow-scrolling:touch;overscroll-behavior-y:contain}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-message.sc-bkkr-alert,.alert-input-group.sc-bkkr-alert{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.alert-message.sc-bkkr-alert{max-height:240px}.alert-message.sc-bkkr-alert:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:12px}.alert-input.sc-bkkr-alert{border-radius:12px;margin-top:10px;padding-left:6px;padding-right:6px;padding-top:6px;padding-bottom:6px;width:100%;border:0.55px solid var(--color-step-250, #bfbfbf);background-color:var(--bkkr-background-color, #fff);-webkit-appearance:none;-moz-appearance:none;appearance:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-input.sc-bkkr-alert{padding-left:unset;padding-right:unset;-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px}}.alert-input.sc-bkkr-alert::-moz-placeholder{color:var(--bkkr-placeholder-color, var(--color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-bkkr-alert::-ms-input-placeholder{color:var(--bkkr-placeholder-color, var(--color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-bkkr-alert::-webkit-input-placeholder{color:var(--bkkr-placeholder-color, var(--color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-bkkr-alert:-ms-input-placeholder{color:var(--bkkr-placeholder-color, var(--color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-bkkr-alert::placeholder{color:var(--bkkr-placeholder-color, var(--color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-bkkr-alert::-ms-clear{display:none}textarea.alert-input.sc-bkkr-alert{min-height:37px;resize:none}.alert-radio-group.sc-bkkr-alert,.alert-checkbox-group.sc-bkkr-alert{-ms-scroll-chaining:none;overscroll-behavior:contain;max-height:240px;border-top:1px solid var(--bkkr-border, rgba(var(--bkkr-text-color-rgb, 0, 0, 0), 0.1));overflow-y:auto;-webkit-overflow-scrolling:touch}.state-tappable.sc-bkkr-alert{height:44px;-webkit-transition:0.2s opacity cubic-bezier(0.32, 0.72, 0, 1);transition:0.2s opacity cubic-bezier(0.32, 0.72, 0, 1)}.alert-checkbox.sc-bkkr-alert,.alert-radio.sc-bkkr-alert{cursor:pointer}@media (any-hover: hover){.alert-checkbox.sc-bkkr-alert:hover,.alert-radio.sc-bkkr-alert:hover{background-color:rgba(var(--bkkr-text-color-rgb, 0, 0, 0), 0.08)}}.alert-radio-label.sc-bkkr-alert,.alert-checkbox-label.sc-bkkr-alert{padding-left:13px;padding-right:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;-ms-flex-order:0;order:0;color:var(--bkkr-text-color, #000);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-radio-label.sc-bkkr-alert,.alert-checkbox-label.sc-bkkr-alert{padding-left:unset;padding-right:unset;-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px}}[aria-checked=true].sc-bkkr-alert .alert-radio-label.sc-bkkr-alert,[aria-checked=true].sc-bkkr-alert .alert-checkbox-label.sc-bkkr-alert{color:var(--color-base, var(--color-primary, #3880ff))}.alert-radio-icon.sc-bkkr-alert,.alert-checkbox-icon.sc-bkkr-alert{position:relative;-ms-flex-order:1;order:1;min-width:30px}[aria-checked=true].sc-bkkr-alert .alert-radio-inner.sc-bkkr-alert,[aria-checked=true].sc-bkkr-alert .alert-checkbox-inner.sc-bkkr-alert{top:-7px;left:7px;position:absolute;width:6px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--color-base, var(--color-primary, #3880ff))}.alert-button-group.sc-bkkr-alert{margin-right:-1px;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-button-group.sc-bkkr-alert{margin-right:unset;-webkit-margin-end:-1px;margin-inline-end:-1px}}.alert-button-group-vertical.sc-bkkr-alert{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-bkkr-alert{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:0;display:block;-ms-flex:1 1 auto;flex:1 1 auto;min-width:50%;height:44px;-webkit-transition:0.2s background-color cubic-bezier(0.32, 0.72, 0, 1);transition:0.2s background-color cubic-bezier(0.32, 0.72, 0, 1);border:0;border-top:1px solid var(--bkkr-border, rgba(var(--bkkr-text-color-rgb, 0, 0, 0), 0.1));border-right:1px solid var(--bkkr-border, rgba(var(--bkkr-text-color-rgb, 0, 0, 0), 0.1));background-color:transparent;color:var(--color-base, var(--color-primary, #3880ff));font-size:0.9rem;line-height:20px;cursor:pointer;overflow:hidden;z-index:0}.alert-button.sc-bkkr-alert:first-child{border-left:0}.alert-button.sc-bkkr-alert:last-child{border-right:0;font-weight:bold}.alert-button-inner.sc-bkkr-alert{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.alert-button.sc-bkkr-alert .alert-button-inner.sc-bkkr-alert{pointer-events:none}.alert-button-role-destructive.sc-bkkr-alert,.alert-button-role-destructive.state-activated.sc-bkkr-alert,.alert-button-role-destructive.state-focused.sc-bkkr-alert{color:var(--color-base, var(--color-danger, #eb445a))}@media (any-hover: hover){.alert-button.sc-bkkr-alert:hover{background-color:rgba(var(--bkkr-text-color-rgb, 0, 0, 0), 0.04)}}.alert-button.state-focused.sc-bkkr-alert,.state-tappable.state-focused.sc-bkkr-alert{background:rgba(var(--bkkr-text-color-rgb, 0, 0, 0), 0.04)}.alert-button.state-activated.sc-bkkr-alert{background-color:rgba(var(--bkkr-text-color-rgb, 0, 0, 0), 0.12)}.alert-input-disabled.sc-bkkr-alert,.alert-checkbox-button-disabled.sc-bkkr-alert .alert-button-inner.sc-bkkr-alert,.alert-radio-button-disabled.sc-bkkr-alert .alert-button-inner.sc-bkkr-alert{pointer-events:none;cursor:default;opacity:0.5}";var M=e("A",function(){function e(e){var t=this;u(this,e);this.didPresent=p(this,"bkkrAlertDidPresent",7);this.willPresent=p(this,"bkkrAlertWillPresent",7);this.willDismiss=p(this,"bkkrAlertWillDismiss",7);this.didDismiss=p(this,"bkkrAlertDidDismiss",7);this.didPresentShorthand=p(this,"didPresent",7);this.willPresentShorthand=p(this,"willPresent",7);this.willDismissShorthand=p(this,"willDismiss",7);this.didDismissShorthand=p(this,"didDismiss",7);this.processedInputs=[];this.processedButtons=[];this.presented=false;this.keyboardClose=true;this.buttons=[];this.inputs=[];this.backdropDismiss=true;this.animated=true;this.position="bottom";this.onBackdropTap=function(){t.dismiss(undefined,kt)};this.dispatchCancelHandler=function(e){var r=e.detail.role;if(gt(r)){var n=t.processedButtons.find((function(e){return e.role==="cancel"}));t.callButtonHandler(n)}}}e.prototype.onKeydown=function(e){var t=new Set(this.processedInputs.map((function(e){return e.type})));if(!t.has("radio")||e.target&&!this.el.contains(e.target)||e.target.classList.contains("alert-button")){return}var r=this.el.querySelectorAll(".alert-radio");var n=Array.from(r).filter((function(e){return!e.disabled}));var a=n.findIndex((function(t){return t.id===e.target.id}));var i;if(["ArrowDown","ArrowRight"].includes(e.code)){i=a===n.length-1?n[0]:n[a+1]}if(["ArrowUp","ArrowLeft"].includes(e.code)){i=a===0?n[n.length-1]:n[a-1]}if(i&&n.includes(i)){var o=this.processedInputs.find((function(e){return e.id===(i===null||i===void 0?void 0:i.id)}));if(o){this.rbClick(o);i.focus()}}};e.prototype.buttonsChanged=function(){var e=this.buttons;this.processedButtons=e.map((function(e){return typeof e==="string"?{text:e,role:e.toLowerCase()==="cancel"?"cancel":undefined}:e}))};e.prototype.inputsChanged=function(){var e=this;var t=this.inputs;var r=t.find((function(e){return!e.disabled}));var n=t.find((function(e){return e.checked&&!e.disabled}));var a=n||r;var i=new Set(t.map((function(e){return e.type})));if(i.has("checkbox")&&i.has("radio")){console.warn("Alert cannot mix input types: "+Array.from(i.values()).join("/")+". Please see alert docs for more info.")}this.inputType=i.values().next().value;this.processedInputs=t.map((function(t,r){return{type:t.type||"text",name:t.name||""+r,placeholder:t.placeholder||"",value:t.value,label:t.label,checked:!!t.checked,disabled:!!t.disabled,id:t.id||"alert-input-"+e.overlayIndex+"-"+r,handler:t.handler,min:t.min,max:t.max,cssClass:t.cssClass||"",attributes:t.attributes||{},tabindex:t.type==="radio"&&t!==a?-1:0}}))};e.prototype.connectedCallback=function(){Ze(this.el)};e.prototype.componentWillLoad=function(){this.inputsChanged();this.buttonsChanged()};e.prototype.disconnectedCallback=function(){if(this.gesture){this.gesture.destroy();this.gesture=undefined}};e.prototype.componentDidLoad=function(){if(this.gesture||!this.wrapperEl){return}this.gesture=B(this.wrapperEl,(function(e){return e.classList.contains("alert-button")}));this.gesture.enable(true)};e.prototype.present=function(){return ut(this,"alertEnter",j,this.position)};e.prototype.dismiss=function(e,t){return ht(this,e,t,"alertLeave",O,this.position)};e.prototype.onDidDismiss=function(){return vt(this.el,"bkkrAlertDidDismiss")};e.prototype.onWillDismiss=function(){return vt(this.el,"bkkrAlertWillDismiss")};e.prototype.rbClick=function(e){for(var t=0,r=this.processedInputs;t<r.length;t++){var n=r[t];n.checked=n===e;n.tabindex=n===e?0:-1}this.activeId=e.id;e.handler?e.handler(e):null;h(this)};e.prototype.cbClick=function(e){e.checked=!e.checked;e.handler?e.handler(e):null;h(this)};e.prototype.buttonClick=function(e){var t=e.role;var r=this.getValues();if(gt(t)){return this.dismiss({values:r},t)}var n=this.callButtonHandler(e,r);if(n!==false){return this.dismiss(Object.assign({values:r},n),e.role)}return Promise.resolve(false)};e.prototype.callButtonHandler=function(e,t){if(e&&e.handler){var r=e.handler(t);if(r===false){return false}if(typeof r==="object"){return r}}return{}};e.prototype.getValues=function(){if(this.processedInputs.length===0){return undefined}if(this.inputType==="radio"){var e=this.processedInputs.find((function(e){return!!e.checked}));return e?e.value:undefined}if(this.inputType==="checkbox"){return this.processedInputs.filter((function(e){return e.checked})).map((function(e){return e.value}))}var t={};this.processedInputs.forEach((function(e){t[e.name]=e.value||""}));return t};e.prototype.renderAlertInputs=function(){switch(this.inputType){case"checkbox":return this.renderCheckbox();case"radio":return this.renderRadio();default:return this.renderInput()}};e.prototype.renderCheckbox=function(){var e=this;var t=this.processedInputs;if(t.length===0){return null}return f("div",{class:"alert-checkbox-group"},t.map((function(t){return f("button",{type:"button",onClick:function(){return e.cbClick(t)},"aria-checked":""+t.checked,id:t.id,disabled:t.disabled,tabIndex:t.tabindex,role:"checkbox",class:Object.assign(Object.assign({},g(t.cssClass)),{"state-tappable":true,"alert-checkbox":true,"alert-checkbox-button":true,"state-focusable":true,"alert-checkbox-button-disabled":t.disabled||false})},f("div",{class:"alert-button-inner"},f("div",{class:"alert-checkbox-icon"},f("div",{class:"alert-checkbox-inner"})),f("div",{class:"alert-checkbox-label"},t.label)))})))};e.prototype.renderRadio=function(){var e=this;var t=this.processedInputs;if(t.length===0){return null}return f("div",{class:"alert-radio-group",role:"radiogroup","aria-activedescendant":this.activeId},t.map((function(t){return f("button",{type:"button",onClick:function(){return e.rbClick(t)},"aria-checked":""+t.checked,disabled:t.disabled,id:t.id,tabIndex:t.tabindex,class:Object.assign(Object.assign({},g(t.cssClass)),{"alert-radio-button":true,"state-tappable":true,"alert-radio":true,"state-focusable":true,"alert-radio-button-disabled":t.disabled||false}),role:"radio"},f("div",{class:"alert-button-inner"},f("div",{class:"alert-radio-icon"},f("div",{class:"alert-radio-inner"})),f("div",{class:"alert-radio-label"},t.label)))})))};e.prototype.renderInput=function(){var e=this.processedInputs;if(e.length===0){return null}return f("div",{class:"alert-input-group"},e.map((function(e){var t,r,n,a;if(e.type==="textarea"){return f("div",{class:"alert-input-wrapper"},f("textarea",Object.assign({placeholder:e.placeholder,value:e.value,id:e.id,tabIndex:e.tabindex},e.attributes,{disabled:(r=(t=e.attributes)===null||t===void 0?void 0:t.disabled)!==null&&r!==void 0?r:e.disabled,class:q(e),onInput:function(t){var r;e.value=t.target.value;if((r=e.attributes)===null||r===void 0?void 0:r.onInput){e.attributes.onInput(t)}}})))}else{return f("div",{class:"alert-input-wrapper"},f("input",Object.assign({placeholder:e.placeholder,type:e.type,min:e.min,max:e.max,value:e.value,id:e.id,tabIndex:e.tabindex},e.attributes,{disabled:(a=(n=e.attributes)===null||n===void 0?void 0:n.disabled)!==null&&a!==void 0?a:e.disabled,class:q(e),onInput:function(t){var r;e.value=t.target.value;if((r=e.attributes)===null||r===void 0?void 0:r.onInput){e.attributes.onInput(t)}}})))}})))};e.prototype.renderAlertButtons=function(){var e=this;var t=this.processedButtons;var r={"alert-button-group":true,"alert-button-group-vertical":t.length>2};return f("div",{class:r},t.map((function(t){return f("button",{type:"button",class:Y(t),tabIndex:0,onClick:function(){return e.buttonClick(t)}},f("span",{class:"alert-button-inner"},t.text))})))};e.prototype.render=function(){var e;var t=this;var r=this,n=r.overlayIndex,a=r.header,i=r.subHeader,o=r.position,s=r.htmlAttributes;var l="alert-"+n+"-hdr";var d="alert-"+n+"-sub-hdr";var c="alert-"+n+"-msg";var u=(s===null||s===void 0?void 0:s.role)||(this.inputs.length>0||this.buttons.length>0?"alertdialog":"alert");return f(b,Object.assign({role:u,"aria-modal":"true",tabindex:"-1",style:{zIndex:""+(2e4+n)},class:Object.assign(Object.assign({},g(this.cssClass)),(e={},e["alert-"+o]=true,e["overlay-hidden"]=true,e)),onBkkrAlertWillDismiss:this.dispatchCancelHandler,onBkkrBackdropTap:this.onBackdropTap},s),f("bkkr-backdrop",{tappable:this.backdropDismiss}),f("div",{tabindex:"0"}),f("div",{class:"alert-wrapper bkkr-overlay-wrapper",ref:function(e){return t.wrapperEl=e}},f("div",{class:"alert-head"},a&&f("h2",{id:l,class:"alert-title"},a),i&&f("h2",{id:d,class:"alert-sub-title"},i)),f("div",{id:c,class:"alert-message",innerHTML:E(this.message)}),this.renderAlertInputs(),this.renderAlertButtons()),f("div",{tabindex:"0"}))};Object.defineProperty(e.prototype,"el",{get:function(){return v(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{buttons:["buttonsChanged"],inputs:["inputsChanged"]}},enumerable:false,configurable:true});return e}());var q=function(e){var t,r,n;return Object.assign(Object.assign({"alert-input":true,"alert-input-disabled":((r=(t=e.attributes)===null||t===void 0?void 0:t.disabled)!==null&&r!==void 0?r:e.disabled)||false},g(e.cssClass)),g(e.attributes?(n=e.attributes.class)===null||n===void 0?void 0:n.toString():""))};var Y=function(e){var t;return Object.assign((t={"alert-button":true,"state-focusable":true,"state-activatable":true},t["alert-button-role-"+e.role]=e.role!==undefined,t),g(e.cssClass))};M.style=W;var N=function(e,t,n){if(n===void 0){n=400}var a=l();var i=r(e);var o=i.querySelector(".loading-wrapper");var s="calc(-10px - var(--safe-area-bottom, 0px))";var d="calc(10px + var(--safe-area-top, 0px))";a.addElement(o);switch(t){case"top":a.fromTo("transform","translate3d(-50%, -200%, 0)","translate3d(-50%, "+d+", 0)");break;case"middle":var c="50%";o.style.top=""+c;a.fromTo("opacity",.01,1);break;default:a.fromTo("transform","translate3d(-50%, 200%, 0)","translate3d(-50%, "+s+", 0)");break}var u=l().easing("cubic-bezier(.155,1.105,.295,1.12)").duration(n).addAnimation(a);return u};var F=function(e,t,n){if(n===void 0){n=300}var a=l();var i=r(e);var o=i.querySelector(".loading-wrapper");var s="calc(-10px - var(--safe-area-bottom, 0px))";var d="calc(10px + var(--safe-area-top, 0px))";a.addElement(o);switch(t){case"top":a.fromTo("transform","translate3d(-50%, "+d+", 0)","translate3d(-50%, -200%, 0)");break;case"middle":a.fromTo("opacity",.99,0);break;default:a.fromTo("transform","translate3d(-50%, "+s+", 0)","translate3d(-50%, 200%, 0)");break}var c=l().easing("cubic-bezier(.36,.66,.04,1)").duration(n).addAnimation(a);return c};var R=":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:0 15px 25px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.1), 0 6px 20px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.12), 0 13.2px 40px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.08);--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:pre-wrap;--background:var(--bkkr-overlay-background, var(--bkkr-background-color, #fff));--border-radius:32px;top:0;left:0;display:block;position:absolute;width:100%;height:100%;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;outline:none;font-family:var(--bkkr-font-family);contain:strict;z-index:1001;pointer-events:none}:host-context(bkkr-content){--safe-area-top:0px;--safe-area-bottom:0px}:host(.overlay-hidden){display:none}.loading-wrapper{border-radius:var(--border-radius);left:50%;margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-wrapper{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.loading-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:inherit;min-height:inherit;max-height:inherit;pointer-events:auto;contain:content}.loading-wrapper.loading-top{top:0;-webkit-transform:translate3d(-50%, -200%, 0);transform:translate3d(-50%, -200%, 0)}.loading-wrapper.loading-middle{opacity:0.01}.loading-wrapper.loading-bottom{bottom:0;-webkit-transform:translate3d(-50%, 200%, 0);transform:translate3d(-50%, 200%, 0)}.loading-content{padding-left:15px;padding-right:15px;padding-top:15px;padding-bottom:15px;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;text-align:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-content{padding-left:unset;padding-right:unset;-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px}}";var H=e("L",function(){function e(e){u(this,e);this.didPresent=p(this,"loadingDidPresent",7);this.willPresent=p(this,"loadingWillPresent",7);this.willDismiss=p(this,"loadingWillDismiss",7);this.didDismiss=p(this,"loadingDidDismiss",7);this.presented=false;this.color="primary";this.keyboardClose=false;this.position="top";this.animated=true}e.prototype.connectedCallback=function(){Ze(this.el)};e.prototype.componentWillLoad=function(){if(this.spinner===undefined){this.spinner=t.get("loadingSpinner","crescent")}};e.prototype.present=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,ut(this,"loadingEnter",N,this.position)];case 1:e.sent();return[2]}}))}))};e.prototype.dismiss=function(e,t){return ht(this,e,t,"loadingLeave",F,this.position)};e.prototype.onDidDismiss=function(){return vt(this.el,"loadingDidDismiss")};e.prototype.onWillDismiss=function(){return vt(this.el,"loadingWillDismiss")};e.prototype.render=function(){var e;var t=this,r=t.color,n=t.cssClass,a=t.spinner,i=t.position,o=t.htmlAttributes;return f(b,Object.assign({style:{zIndex:""+(6e4+this.overlayIndex)},class:k(r,Object.assign(Object.assign({},g(n)),{"overlay-hidden":true})),tabindex:"-1"},o),f("div",{class:(e={"loading-wrapper":true},e["loading-"+i]=true,e)},f("div",{class:"loading-container",part:"container"},f("div",{class:"loading-content"},f("bkkr-spinner",{slot:"end",type:a,color:r})))))};Object.defineProperty(e.prototype,"el",{get:function(){return v(this)},enumerable:false,configurable:true});return e}());H.style=R;var X=function(e,t,n){if(n===void 0){n=400}var a=r(e);var i=l().addElement(a.querySelector("bkkr-backdrop")).fromTo("opacity",0,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]);var o=l().addElement(a.querySelectorAll(".drawer-wrapper, .drawer-shadow")).beforeStyles({opacity:1}).fromTo("transform","translateY(100vh)","translateY(0vh)");var s=l().addElement(e).easing("cubic-bezier(0.32,0.72,0,1)").duration(n).addAnimation(o);if(t){var d=l().addElement(t).beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"});s.addAnimation(d)}s.addAnimation(i);return s};var K=function(e,t,n){if(n===void 0){n=400}var a=r(e);var i=l().addElement(a.querySelector("bkkr-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0);var o=l().addElement(a.querySelectorAll(".drawer-wrapper, .drawer-shadow")).beforeStyles({opacity:1}).fromTo("transform","translateY(0vh)","translateY(100vh)");var s=l().addElement(e).easing("cubic-bezier(0.32,0.72,0,1)").duration(n).addAnimation(o);if(t){var d=l().addElement(t).beforeClearStyles(["transform"]).afterClearStyles(["transform"]).onFinish((function(e){if(e!==1){return}t.style.setProperty("overflow","")}));s.addAnimation(d)}s.addAnimation(i);return s};var V=function(e,t,r){var a=e.offsetHeight;var i=false;var o=function(e){return __awaiter(C,void 0,void 0,(function(){var t,r,n;return __generator(this,(function(a){switch(a.label){case 0:t=e.event.target;if(t===null||!t.closest){return[2,true]}if(t.classList.contains("choices-item")){return[2,false]}r=t.closest("bkkr-content");if(!r)return[3,2];return[4,r.getScrollElement()];case 1:n=a.sent();if(n.scrollTop<=0){return[2,true]}return[3,3];case 2:if(t){return[2,true]}a.label=3;case 3:return[2,false]}}))}))};var s=function(){t.progressStart(true,i?1:0)};var l=function(e){var r=n(1e-4,e.deltaY/a,.9999);t.progressStep(r)};var d=function(e){var o=e.velocityY;var s=n(1e-4,e.deltaY/a,.9999);var l=(e.deltaY+o*1e3)/a;var d=l>=.5;var u=d?-.001:.001;if(!d){t.easing("cubic-bezier(1, 0, 0.68, 0.28)");u+=A([0,0],[1,0],[.68,.28],[1,1],s)[0]}else{t.easing("cubic-bezier(0.32, 0.72, 0, 1)");u+=A([0,0],[.32,.72],[0,1],[1,1],s)[0]}var p=e.event.target;if(p===null||!p.closest){return}var h=p.closest("bkkr-content");if(h){h.scrollY=true}var f=d?G(s*a,o):G((1-s)*a,o);i=d;c.enable(false);t.onFinish((function(){if(!d){c.enable(true)}})).progressEnd(d?1:0,u,f);if(d){r()}};var c=m({el:e,gestureName:"drawerSwipeToClose",gesturePriority:40,direction:"y",threshold:10,canStart:o,onStart:s,onMove:l,onEnd:d});return c};var G=function(e,t){return n(400,e/Math.abs(t*1.1),500)};var U=":host{--min-width:auto;--min-height:auto;--overflow:hidden;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--bkkr-overlay-background, var(--bkkr-background-color, #fff));--box-shadow:0 15px 25px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.1), 0 6px 20px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.12), 0 13.2px 40px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.08);--width:calc(100% - var(--bkkr-spacer, 16px));--height:calc(100vw - var(--bkkr-spacer, 16px));--margin-bottom:calc(var(--safe-area-bottom) + (var(--bkkr-spacer, 16px) * 0.5));--max-width:720px;--max-height:min(600px, calc(90vh - var(--safe-area-top)));--border-radius:24px;--backdrop-opacity:var(--bkkr-backdrop-opacity, 0.3);top:0;right:0;bottom:0;left:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:end;align-items:flex-end;-ms-flex-pack:center;justify-content:center;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;outline:none;contain:strict;pointer-events:none}:host(.drawer-interactive) .drawer-wrapper,:host(.drawer-interactive) bkkr-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.drawer-shadow,.drawer-wrapper{margin-bottom:var(--margin-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:calc(var(--height) - max(30px, var(--safe-area-top)) - 10px - var(--margin-bottom));min-height:var(--min-height);max-height:var(--max-height);-webkit-transform:translate3d(0, 100%, 0);transform:translate3d(0, 100%, 0);will-change:opacity, transform;z-index:10}.drawer-shadow{bottom:0;border-radius:var(--border-radius);position:absolute;pointer-events:none;background:transparent;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow)}.drawer-wrapper-inner{--safe-area-top:0px;--safe-area-bottom:0px;--safe-area-right:0px;--safe-area-left:0px;border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:100%;height:100%;border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:content;overflow:var(--overflow);z-index:10}bkkr-content:first-child{--padding-top:0;--padding-bottom:calc(var(--bkkr-spacer, 16px) + var(--safe-area-bottom))}.drawer-handle{--offset-top:34px}.drawer-handle-wrapper{--handle-height:6px;--handle-width:64px;--handle-color:var(--bkkr-text-color, #000);--handle-transition:0.2s transform cubic-bezier(0.25, 1.11, 0.78, 1.59), 0.2s box-shadow cubic-bezier(0.25, 1.11, 0.78, 1.59);--handle-transform:translate3d(0, -50%, 0);top:0;left:50%;position:absolute;width:var(--handle-width);height:32px;-webkit-transform:translateX(-50%);transform:translateX(-50%);cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:11}.drawer-handle-wrapper .drawer-handle-bar{top:50%;bottom:0;left:0;border-radius:var(--handle-height);position:absolute;width:100%;height:var(--handle-height);-webkit-transform:var(--handle-transform);transform:var(--handle-transform);-webkit-transition:var(--handle-transition);transition:var(--handle-transition);background-color:rgba(var(--bkkr-text-color-rgb, 0, 0, 0), 0.2);overflow:hidden}.drawer-handle-wrapper .drawer-handle-bar-fill{top:0;position:absolute;width:100%;height:100%;background-color:var(--handle-color)}.drawer-handle-animated .drawer-handle-bar-fill{-webkit-transform:scale(0, 1);transform:scale(0, 1);-webkit-transform-origin:left center;transform-origin:left center;-webkit-animation-name:countdown;animation-name:countdown;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-delay:400ms;animation-delay:400ms;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes countdown{100%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}}@keyframes countdown{100%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}}.drawer-handle-button{--handle-button-backround:var(--background);--handle-button-backround-hover:var(--background);--handle-button-backround-active:var(--background);--handle-button-color:var(--bkkr-text-color, #000);--handle-button-radius:50%;--handle-button-transform:scale(1.1);--handle-button-transition:0.2s transform cubic-bezier(0.32, 0.72, 0, 1), 0.2s background cubic-bezier(0.32, 0.72, 0, 1);top:-48px;right:var(--bkkr-spacer);border-radius:var(--handle-button-radius);display:none;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:36px;height:36px;-webkit-transition:var(--handle-button-transition);transition:var(--handle-button-transition);background:var(--handle-button-backround);color:var(--handle-button-color);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);cursor:pointer;-ms-touch-action:manipulation;touch-action:manipulation;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10}.handle-icon{font-size:1.25rem}@media screen and (min-width: 720px) and (min-height: 375px){:host{--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1)}.drawer-handle:not(.drawer-handle-animated){--offset-top:var(--bkkr-spacer)}.drawer-handle:not(.drawer-handle-animated) .drawer-handle-wrapper{display:none}.drawer-handle:not(.drawer-handle-animated) .drawer-handle-button{display:-ms-flexbox;display:flex}}@media (any-hover: hover){.drawer-handle-wrapper:hover{--handle-transform:translate3d(0, -100%, 0);--handle-transition:0.2s transform ease-out, 0.2s box-shadow ease-out}.drawer-handle-button:hover{-webkit-transform:var(--handle-button-transform);transform:var(--handle-button-transform);background:var(--handle-button-backround-hover)}}.drawer-handle-button.state-activated{-webkit-transform:var(--handle-button-transform);transform:var(--handle-button-transform);background:var(--handle-button-backround-active)}@media (prefers-reduced-motion: reduce){.drawer-handle-bar,.drawer-handle-button{-webkit-transition:none;transition:none}}";var J=e("D",function(){function e(e){var t=this;u(this,e);this.didPresent=p(this,"bkkrDrawerDidPresent",7);this.willPresent=p(this,"bkkrDrawerWillPresent",7);this.willDismiss=p(this,"bkkrDrawerWillDismiss",7);this.didDismiss=p(this,"bkkrDrawerDidDismiss",7);this.didPresentShorthand=p(this,"didPresent",7);this.willPresentShorthand=p(this,"willPresent",7);this.willDismissShorthand=p(this,"willDismiss",7);this.didDismissShorthand=p(this,"didDismiss",7);this.drawerIndex=Z++;this.coreDelegate=w();this.inline=false;this.gestureAnimationDismissing=false;this.presented=false;this.hasController=false;this.keyboardClose=true;this.duration=0;this.backdropDismiss=true;this.showBackdrop=true;this.animated=true;this.handle=true;this.closeButton=true;this.closeIcon="times";this.swipeToClose=true;this.presentingElement=document.querySelector("bkkr-router-outlet")||document.querySelector("bkkr-root")||document.body;this.isOpen=false;this.configureTriggerInteraction=function(){var e=t,r=e.trigger,n=e.el,a=e.destroyTriggerInteraction;if(a){a()}var i=r!==undefined?document.getElementById(r):null;if(!i){return}var o=function(e,t){var r=function(){t.present()};e.addEventListener("click",r);return function(){e.removeEventListener("click",r)}};t.destroyTriggerInteraction=o(i,n)};this.onBackdropTap=function(){t.dismiss(undefined,kt)};this.onDismiss=function(e){e.stopPropagation();e.preventDefault();t.dismiss()};this.onLifecycle=function(e){var r=t.usersElement;var n=Q[e.type];if(r&&n){var a=new CustomEvent(n,{bubbles:false,cancelable:false,detail:e.detail});r.dispatchEvent(a)}}}e.prototype.swipeToCloseChanged=function(e){if(this.gesture){this.gesture.enable(e)}else if(e){this.initSwipeToClose()}};e.prototype.onIsOpenChange=function(e,t){if(e===true&&t===false){this.present()}else if(e===false&&t===true){this.dismiss()}};e.prototype.onTriggerChange=function(){this.configureTriggerInteraction()};e.prototype.connectedCallback=function(){Ze(this.el)};e.prototype.componentWillLoad=function(){this.drawerId=this.el.hasAttribute("id")?this.el.getAttribute("id"):"bkkr-drawer-"+this.drawerIndex};e.prototype.componentDidLoad=function(){var e=this;if(this.isOpen===true){a((function(){return e.present()}))}this.configureTriggerInteraction()};e.prototype.getDelegate=function(e){if(e===void 0){e=false}if(this.workingDelegate&&!e){return{delegate:this.workingDelegate,inline:this.inline}}var t=this.el.parentNode;var r=this.inline=t!==null&&!this.hasController;var n=this.workingDelegate=r?this.delegate||this.coreDelegate:this.delegate;return{inline:r,delegate:n}};e.prototype.present=function(){return __awaiter(this,void 0,void 0,(function(){var e,t,r,n,a;var i=this;return __generator(this,(function(o){switch(o.label){case 0:if(this.presented){return[2]}if(!(this.currentTransition!==undefined))return[3,2];return[4,this.currentTransition];case 1:o.sent();o.label=2;case 2:e=Object.assign(Object.assign({},this.componentProps),{drawer:this.el});t=this.getDelegate(true),r=t.inline,n=t.delegate;a=this;return[4,x(n,this.el,this.component,["bkkr-page"],e,r)];case 3:a.usersElement=o.sent();return[4,D(this.usersElement)];case 4:o.sent();c((function(){return i.el.classList.add("show-drawer")}));this.currentTransition=ut(this,"drawerEnter",X,this.presentingElement);return[4,this.currentTransition];case 5:o.sent();this.currentTransition=undefined;if(this.swipeToClose){this.initSwipeToClose()}if(this.duration>0){this.durationTimeout=setTimeout((function(){return i.dismiss(undefined,"timeout")}),this.duration)}return[2]}}))}))};e.prototype.initSwipeToClose=function(){var e=this;var t=this.leaveAnimation||K;var r=this.animation=t(this.el,this.presentingElement);this.gesture=V(this.el,r,(function(){e.gestureAnimationDismissing=true;e.animation.onFinish((function(){return __awaiter(e,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,this.dismiss(undefined,"gesture")];case 1:e.sent();this.gestureAnimationDismissing=false;return[2]}}))}))}))}));this.gesture.enable(true)};e.prototype.dismiss=function(e,t){return __awaiter(this,void 0,void 0,(function(){var r,n,a,i;var o=this;return __generator(this,(function(s){switch(s.label){case 0:if(this.gestureAnimationDismissing&&t!=="gesture"){return[2,false]}if(this.durationTimeout){clearTimeout(this.durationTimeout);if((r=this.gesture)===null||r===void 0?void 0:r.running()){if(this.duration>0){this.durationTimeout=setTimeout((function(){return o.dismiss(undefined,"timeout")}),this.duration)}return[2,false]}}if(!(this.currentTransition!==undefined))return[3,2];return[4,this.currentTransition];case 1:s.sent();s.label=2;case 2:n=He.get(this)||[];this.currentTransition=ht(this,e,t,"drawerLeave",K,this.presentingElement);return[4,this.currentTransition];case 3:a=s.sent();if(!a)return[3,5];this.currentTransition=ht(this,e,t,"drawerLeave",K,this.presentingElement);i=this.getDelegate().delegate;return[4,y(i,this.usersElement)];case 4:s.sent();if(this.animation){this.animation.destroy()}n.forEach((function(e){return e.destroy()}));s.label=5;case 5:this.animation=undefined;this.currentTransition=undefined;return[2,a]}}))}))};e.prototype.onDidDismiss=function(){return vt(this.el,"bkkrDrawerDidDismiss")};e.prototype.onWillDismiss=function(){return vt(this.el,"bkkrDrawerWillDismiss")};e.prototype.render=function(){var e=this;var t=this,r=t.presented,n=t.drawerId,a=t.closeIcon,i=t.htmlAttributes;var o=this.duration>0;return f(b,Object.assign({"aria-drawer":"true",tabindex:"-1",class:Object.assign(Object.assign({},g(this.cssClass)),{"overlay-hidden":true,"drawer-interactive":r}),id:n},i,{style:{zIndex:""+(2e4+this.overlayIndex)},onBkkrBackdropTap:this.onBackdropTap,onBkkrDismiss:this.onDismiss,onBkkrDrawerDidPresent:this.onLifecycle,onBkkrDrawerWillPresent:this.onLifecycle,onBkkrDrawerWillDismiss:this.onLifecycle,onBkkrDrawerDidDismiss:this.onLifecycle}),f("bkkr-backdrop",{visible:this.showBackdrop,tappable:this.backdropDismiss,part:"backdrop"}),f("div",{class:"drawer-shadow"}),f("div",{role:"dialog",class:{"drawer-handle":this.handle,"drawer-handle-animated":o,"drawer-wrapper":true},part:"content"},(this.handle||o)&&f("div",{class:"drawer-handle-wrapper state-activatable",onClick:function(){return e.dismiss()}},f("span",{class:"drawer-handle-bar"},f("span",{class:"drawer-handle-bar-fill",style:{animationDuration:this.duration+"ms"}}))),this.closeButton&&!o&&f("div",{class:"drawer-handle-button state-activatable",onClick:function(){return e.dismiss()}},f("bkkr-icon",{class:"handle-icon",icon:a,lazy:false})),f("div",{class:"drawer-wrapper-inner"},f("slot",null))))};Object.defineProperty(e.prototype,"el",{get:function(){return v(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{swipeToClose:["swipeToCloseChanged"],isOpen:["onIsOpenChange"],trigger:["onTriggerChange"]}},enumerable:false,configurable:true});return e}());var Q={bkkrDrawerDidPresent:"bkkrViewDidEnter",bkkrDrawerWillPresent:"bkkrViewWillEnter",bkkrDrawerWillDismiss:"bkkrViewWillLeave",bkkrDrawerDidDismiss:"bkkrViewDidLeave"};var Z=0;J.style=U;var $={MIN_PRESENTING_SCALE:.93};var ee=function(e,t,r){var a=e.offsetHeight;var i=false;var o=function(e){return __awaiter(C,void 0,void 0,(function(){var t,r,n;return __generator(this,(function(a){switch(a.label){case 0:t=e.event.target;if(t===null||!t.closest){return[2,true]}r=t.closest("bkkr-content");if(r===null){return[2,true]}return[4,r.getScrollElement()];case 1:n=a.sent();if(n.scrollTop<=0){return[2,true]}return[2,false]}}))}))};var s=function(){t.progressStart(true,i?1:0)};var l=function(e){var r=n(1e-4,e.deltaY/a,.9999);t.progressStep(r)};var d=function(e){var o=e.velocityY;var s=n(1e-4,e.deltaY/a,.9999);var l=(e.deltaY+o*1e3)/a;var d=l>=.5;var u=d?-.001:.001;if(!d){t.easing("cubic-bezier(1, 0, 0.68, 0.28)");u+=A([0,0],[1,0],[.68,.28],[1,1],s)[0]}else{t.easing("cubic-bezier(0.32, 0.72, 0, 1)");u+=A([0,0],[.32,.72],[0,1],[1,1],s)[0]}var p=d?te(s*a,o):te((1-s)*a,o);i=d;c.enable(false);t.onFinish((function(){if(!d){c.enable(true)}})).progressEnd(d?1:0,u,p);if(d){r()}};var c=m({el:e,gestureName:"modalSwipeToClose",gesturePriority:40,direction:"y",threshold:10,canStart:o,onStart:s,onMove:l,onEnd:d});return c};var te=function(e,t){return n(400,e/Math.abs(t*1.1),500)};var re=function(e,t,n){if(n===void 0){n=400}var a=r(e);var i=l().addElement(a.querySelector("bkkr-backdrop")).fromTo("opacity",0,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]);var o=l().addElement(a.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1}).fromTo("transform","translateY(100vh)","translateY(0vh)");var s=l().addElement(e).easing("cubic-bezier(0.32,0.72,0,1)").duration(n).addAnimation(o);if(t){var d=window.innerWidth<768;var c=t.tagName==="BKKR-MODAL"&&t.presentingElement!==undefined;var u=r(t);var p=l().beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"});if(d){var h=!CSS.supports("width","max(0px, 1px)")?"30px":"max(30px, var(--safe-area-top))";var f=c?"-10px":h;var b=$.MIN_PRESENTING_SCALE;var v="translateY("+f+") scale("+b+")";p.afterStyles({transform:v}).addElement(t).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"},{offset:1,filter:"contrast(0.85)",transform:v,borderRadius:"32px 32px 0 0"}]);s.addAnimation(p)}else{s.addAnimation(i);if(!c){o.fromTo("opacity","0","1")}else{var b=c?$.MIN_PRESENTING_SCALE:1;var v="translateY(-10px) scale("+b+")";p.afterStyles({transform:v}).addElement(u.querySelector(".modal-wrapper")).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0) scale(1)"},{offset:1,filter:"contrast(0.85)",transform:v}]);var m=l().afterStyles({transform:v}).addElement(u.querySelector(".modal-shadow")).keyframes([{offset:0,opacity:"1",transform:"translateY(0) scale(1)"},{offset:1,opacity:"0",transform:v}]);s.addAnimation([p,m])}}}else{s.addAnimation(i)}return s};var ne=function(e,t,n){if(n===void 0){n=400}var a=r(e);var i=l().addElement(a.querySelector("bkkr-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0);var o=l().addElement(a.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1}).fromTo("transform","translateY(0vh)","translateY(100vh)");var s=l().addElement(e).easing("cubic-bezier(0.32,0.72,0,1)").duration(n).addAnimation(o);if(t){var d=window.innerWidth<768;var c=t.tagName==="BKKR-MODAL"&&t.presentingElement!==undefined;var u=r(t);var p=l().beforeClearStyles(["transform"]).afterClearStyles(["transform"]).onFinish((function(e){if(e!==1){return}t.style.setProperty("overflow","")}));if(d){var h=!CSS.supports("width","max(0px, 1px)")?"30px":"max(30px, var(--safe-area-top))";var f=c?"-10px":h;var b=$.MIN_PRESENTING_SCALE;var v="translateY("+f+") scale("+b+")";p.addElement(t).keyframes([{offset:0,filter:"contrast(0.85)",transform:v,borderRadius:"32px 32px 0 0"},{offset:1,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"}]);s.addAnimation(p)}else{s.addAnimation(i);if(!c){o.fromTo("opacity","1","0")}else{var b=c?$.MIN_PRESENTING_SCALE:1;var v="translateY(-10px) scale("+b+")";p.addElement(u.querySelector(".modal-wrapper")).afterStyles({transform:"translate3d(0, 0, 0)"}).keyframes([{offset:0,filter:"contrast(0.85)",transform:v},{offset:1,filter:"contrast(1)",transform:"translateY(0) scale(1)"}]);var m=l().addElement(u.querySelector(".modal-shadow")).afterStyles({transform:"translateY(0) scale(1)"}).keyframes([{offset:0,opacity:"0",transform:v},{offset:1,opacity:"1",transform:"translateY(0) scale(1)"}]);s.addAnimation([p,m])}}}else{s.addAnimation(i)}return s};var ae=":host{--width:100%;--min-width:auto;--max-width:auto;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--bkkr-overlay-background, var(--bkkr-background-color, #fff));--box-shadow:0 15px 25px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.1), 0 6px 20px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.12), 0 13.2px 40px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.08);--backdrop-opacity:var(--bkkr-backdrop-opacity, 0.3);top:0;right:0;bottom:0;left:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;outline:none;contain:strict;pointer-events:none}:host(.modal-interactive) .modal-wrapper,:host(.modal-interactive) bkkr-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-shadow,.modal-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);-webkit-transform:translate3d(0, 100%, 0);transform:translate3d(0, 100%, 0);will-change:opacity, transform;z-index:10}.modal-shadow{border-radius:var(--border-radius);position:absolute;pointer-events:none;background:transparent;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow)}.modal-wrapper-inner{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:100%;height:100%;border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:content;overflow:var(--overflow)}bkkr-content:first-child{--padding-top:0;--padding-bottom:calc(var(--bkkr-spacer, 16px) + var(--safe-area-bottom))}.modal-handle{--offset-top:34px}.modal-handle-wrapper{--handle-height:6px;--handle-width:64px;--handle-color:var(--bkkr-text-color, #000);--handle-transition:0.2s transform cubic-bezier(0.25, 1.11, 0.78, 1.59), 0.2s box-shadow cubic-bezier(0.25, 1.11, 0.78, 1.59);--handle-transform:translate3d(0, -50%, 0);top:0;left:50%;position:absolute;width:var(--handle-width);height:32px;-webkit-transform:translateX(-50%);transform:translateX(-50%);cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10}.modal-handle-wrapper .modal-handle-bar{top:50%;bottom:0;left:0;border-radius:var(--handle-height);position:absolute;width:100%;height:var(--handle-height);-webkit-transform:var(--handle-transform);transform:var(--handle-transform);-webkit-transition:var(--handle-transition);transition:var(--handle-transition);background-color:var(--handle-color)}.modal-handle-button{--handle-button-backround:var(--background);--handle-button-backround-hover:var(--background);--handle-button-backround-active:var(--background);--handle-button-color:var(--bkkr-text-color, #000);--handle-button-radius:50%;--handle-button-transform:scale(1.1);--handle-button-transition:0.2s transform cubic-bezier(0.32, 0.72, 0, 1), 0.2s background cubic-bezier(0.32, 0.72, 0, 1);top:-48px;right:var(--bkkr-spacer);border-radius:var(--handle-button-radius);display:none;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:36px;height:36px;-webkit-transition:var(--handle-button-transition);transition:var(--handle-button-transition);background:var(--handle-button-backround);color:var(--handle-button-color);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);cursor:pointer;-ms-touch-action:manipulation;touch-action:manipulation;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10}.handle-icon{font-size:1.25rem}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--safe-area-top:0px;--safe-area-bottom:0px;--safe-area-right:0px;--safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}@media screen and (max-width: 767px){@supports (width: 1px){:host(.modal-card){--height:calc(100% - max(30px, var(--safe-area-top)) - 10px)}}@supports not (width: 1px){:host(.modal-card){--height:calc(100% - 40px)}}:host(.modal-card){--border-radius:24px;--backdrop-opacity:0;--width:100%;-ms-flex-align:end;align-items:flex-end}:host(.modal-card) .modal-wrapper-inner{--safe-area-top:0px;--safe-area-bottom:0px;--safe-area-right:0px;--safe-area-left:0px}:host(.modal-card) bkkr-backdrop{pointer-events:none}}@media screen and (min-width: 768px){:host(.modal-card){--width:calc(100% - 120px);--max-width:720px;--min-height:300px;--max-height:1000px;--border-radius:24px;--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1)}:host(.modal-card) .modal-wrapper-inner{border-radius:var(--border-radius)}:host(.modal-card) .modal-handle{--offset-top:var(--bkkr-spacer)}:host(.modal-card) .modal-handle-wrapper{display:none}:host(.modal-card) .modal-handle-button{display:-ms-flexbox;display:flex}}@media (any-hover: hover){.modal-handle-wrapper:hover{--handle-transform:translate3d(0, -100%, 0);--handle-transition:0.2s transform ease-out, 0.2s box-shadow ease-out}.modal-handle-button:hover{-webkit-transform:var(--handle-button-transform);transform:var(--handle-button-transform);background:var(--handle-button-backround-hover)}}.modal-handle-button.state-activated{-webkit-transform:var(--handle-button-transform);transform:var(--handle-button-transform);background:var(--handle-button-backround-active)}@media (prefers-reduced-motion: reduce){.modal-handle-bar,.modal-handle-button{-webkit-transition:none;transition:none}}";var ie=e("M",function(){function e(e){var t=this;u(this,e);this.didPresent=p(this,"bkkrModalDidPresent",7);this.willPresent=p(this,"bkkrModalWillPresent",7);this.willDismiss=p(this,"bkkrModalWillDismiss",7);this.didDismiss=p(this,"bkkrModalDidDismiss",7);this.didPresentShorthand=p(this,"didPresent",7);this.willPresentShorthand=p(this,"willPresent",7);this.willDismissShorthand=p(this,"willDismiss",7);this.didDismissShorthand=p(this,"didDismiss",7);this.modalIndex=se++;this.coreDelegate=w();this.inline=false;this.gestureAnimationDismissing=false;this.presented=false;this.hasController=false;this.keyboardClose=true;this.backdropDismiss=true;this.showBackdrop=true;this.animated=true;this.handle=true;this.closeButton=true;this.closeIcon="times";this.swipeToClose=true;this.presentingElement=document.querySelector("bkkr-router-outlet")||document.querySelector("bkkr-root")||document.body;this.isOpen=false;this.configureTriggerInteraction=function(){var e=t,r=e.trigger,n=e.el,a=e.destroyTriggerInteraction;if(a){a()}var i=r!==undefined?document.getElementById(r):null;if(!i){return}var o=function(e,t){var r=function(){t.present()};e.addEventListener("click",r);return function(){e.removeEventListener("click",r)}};t.destroyTriggerInteraction=o(i,n)};this.onBackdropTap=function(){t.dismiss(undefined,kt)};this.onDismiss=function(e){e.stopPropagation();e.preventDefault();t.dismiss()};this.onLifecycle=function(e){var r=t.usersElement;var n=oe[e.type];if(r&&n){var a=new CustomEvent(n,{bubbles:false,cancelable:false,detail:e.detail});r.dispatchEvent(a)}}}e.prototype.swipeToCloseChanged=function(e){if(this.gesture){this.gesture.enable(e)}else if(e){this.initSwipeToClose()}};e.prototype.onIsOpenChange=function(e,t){if(e===true&&t===false){this.present()}else if(e===false&&t===true){this.dismiss()}};e.prototype.onTriggerChange=function(){this.configureTriggerInteraction()};e.prototype.connectedCallback=function(){Ze(this.el)};e.prototype.componentWillLoad=function(){this.modalId=this.el.hasAttribute("id")?this.el.getAttribute("id"):"bkkr-modal-"+this.modalIndex};e.prototype.componentDidLoad=function(){var e=this;if(this.isOpen===true){a((function(){return e.present()}))}this.configureTriggerInteraction()};e.prototype.getDelegate=function(e){if(e===void 0){e=false}if(this.workingDelegate&&!e){return{delegate:this.workingDelegate,inline:this.inline}}var t=this.el.parentNode;var r=this.inline=t!==null&&!this.hasController;var n=this.workingDelegate=r?this.delegate||this.coreDelegate:this.delegate;return{inline:r,delegate:n}};e.prototype.present=function(){return __awaiter(this,void 0,void 0,(function(){var e,t,r,n,a;var i=this;return __generator(this,(function(o){switch(o.label){case 0:if(this.presented){return[2]}if(!(this.currentTransition!==undefined))return[3,2];return[4,this.currentTransition];case 1:o.sent();o.label=2;case 2:e=Object.assign(Object.assign({},this.componentProps),{modal:this.el});t=this.getDelegate(true),r=t.inline,n=t.delegate;a=this;return[4,x(n,this.el,this.component,["bkkr-page"],e,r)];case 3:a.usersElement=o.sent();return[4,D(this.usersElement)];case 4:o.sent();c((function(){return i.el.classList.add("show-modal")}));this.currentTransition=ut(this,"modalEnter",re,this.presentingElement);return[4,this.currentTransition];case 5:o.sent();this.currentTransition=undefined;if(this.swipeToClose){this.initSwipeToClose()}return[2]}}))}))};e.prototype.initSwipeToClose=function(){var e=this;var t=this.leaveAnimation||ne;var r=this.animation=t(this.el,this.presentingElement);this.gesture=ee(this.el,r,(function(){e.gestureAnimationDismissing=true;e.animation.onFinish((function(){return __awaiter(e,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,this.dismiss(undefined,"gesture")];case 1:e.sent();this.gestureAnimationDismissing=false;return[2]}}))}))}))}));this.gesture.enable(true)};e.prototype.dismiss=function(e,t){return __awaiter(this,void 0,void 0,(function(){var r,n,a;return __generator(this,(function(i){switch(i.label){case 0:if(this.gestureAnimationDismissing&&t!=="gesture"){return[2,false]}if(!(this.currentTransition!==undefined))return[3,2];return[4,this.currentTransition];case 1:i.sent();i.label=2;case 2:r=He.get(this)||[];this.currentTransition=ht(this,e,t,"modalLeave",ne,this.presentingElement);return[4,this.currentTransition];case 3:n=i.sent();if(!n)return[3,6];a=this.getDelegate().delegate;if(!this.inline)return[3,5];return[4,y(a,this.usersElement)];case 4:i.sent();i.label=5;case 5:if(this.animation){this.animation.destroy()}r.forEach((function(e){return e.destroy()}));i.label=6;case 6:this.animation=undefined;this.currentTransition=undefined;return[2,n]}}))}))};e.prototype.onDidDismiss=function(){return vt(this.el,"bkkrModalDidDismiss")};e.prototype.onWillDismiss=function(){return vt(this.el,"bkkrModalWillDismiss")};e.prototype.render=function(){var e;var t=this;var r=this,n=r.presented,a=r.modalId,i=r.closeIcon,o=r.htmlAttributes;return f(b,Object.assign({"aria-modal":"true",tabindex:"-1",class:Object.assign((e={},e["modal-card"]=this.presentingElement!==undefined,e["overlay-hidden"]=true,e["modal-interactive"]=n,e),g(this.cssClass)),id:a},o,{style:{zIndex:""+(2e4+this.overlayIndex)},onBkkrBackdropTap:this.onBackdropTap,onBkkrDismiss:this.onDismiss,onBkkrModalDidPresent:this.onLifecycle,onBkkrModalWillPresent:this.onLifecycle,onBkkrModalWillDismiss:this.onLifecycle,onBkkrModalDidDismiss:this.onLifecycle}),f("bkkr-backdrop",{visible:this.showBackdrop,tappable:this.backdropDismiss,part:"backdrop"}),f("div",{class:"modal-shadow"}),f("div",{role:"dialog",class:{"modal-handle":this.handle,"modal-wrapper":true},part:"content"},this.handle&&f("div",{class:"modal-handle-wrapper state-activatable",onClick:function(){return t.dismiss()}},f("span",{class:"modal-handle-bar"})),this.closeButton&&f("div",{class:"modal-handle-button state-activatable",onClick:function(){return t.dismiss()}},f("bkkr-icon",{class:"handle-icon",icon:i,lazy:false})),f("div",{class:"modal-wrapper-inner"},f("slot",null))))};Object.defineProperty(e.prototype,"el",{get:function(){return v(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{swipeToClose:["swipeToCloseChanged"],isOpen:["onIsOpenChange"],trigger:["onTriggerChange"]}},enumerable:false,configurable:true});return e}());var oe={bkkrModalDidPresent:"bkkrViewDidEnter",bkkrModalWillPresent:"bkkrViewWillEnter",bkkrModalWillDismiss:"bkkrViewWillLeave",bkkrModalDidDismiss:"bkkrViewDidLeave"};var se=0;ie.style=ae;var le=function(e){if(!e){return{arrowWidth:0,arrowHeight:0}}var t=e.getBoundingClientRect(),r=t.width,n=t.height;return{arrowWidth:r,arrowHeight:n}};var de=function(e,t,r){var n=t.getBoundingClientRect();var a=n.height;var i=n.width;if(e==="cover"&&r){var o=r.getBoundingClientRect();i=o.width}return{contentWidth:i,contentHeight:a}};var ce=function(e,t,n,a){var i=[];var o=r(a);var s=o.querySelector(".popover-content");switch(t){case"hover":i=[{eventName:"mouseenter",callback:function(t){var r=document.elementFromPoint(t.clientX,t.clientY);if(r===e){return}n.dismiss(undefined,undefined,false)}}];break;case"context-menu":case"click":default:i=[{eventName:"click",callback:function(t){var r=t.target;var a=r.closest("[data-bkkr-popover-trigger]");if(a===e){t.stopPropagation();return}n.dismiss(undefined,undefined,false)}}];break}i.forEach((function(e){var t=e.eventName,r=e.callback;return s.addEventListener(t,r)}));return function(){i.forEach((function(e){var t=e.eventName,r=e.callback;return s.removeEventListener(t,r)}))}};var ue=function(e,t,r){var n=[];switch(t){case"hover":var i;n=[{eventName:"mouseenter",callback:function(e){return __awaiter(C,void 0,void 0,(function(){return __generator(this,(function(t){e.stopPropagation();if(i){clearTimeout(i)}i=setTimeout((function(){a((function(){r.presentFromTrigger(e);i=undefined}))}),100);return[2]}))}))}},{eventName:"mouseleave",callback:function(e){if(i){clearTimeout(i)}var t=e.relatedTarget;if(!t){return}if(t.closest("bkkr-popover")!==r){r.dismiss(undefined,undefined,false)}}},{eventName:"click",callback:function(e){return e.stopPropagation()}},{eventName:"bkkrPopoverActivateTrigger",callback:function(e){return r.presentFromTrigger(e,true)}}];break;case"context-menu":n=[{eventName:"contextmenu",callback:function(e){e.preventDefault();r.presentFromTrigger(e)}},{eventName:"click",callback:function(e){return e.stopPropagation()}},{eventName:"bkkrPopoverActivateTrigger",callback:function(e){return r.presentFromTrigger(e,true)}}];break;case"click":default:n=[{eventName:"click",callback:function(e){return r.presentFromTrigger(e)}},{eventName:"bkkrPopoverActivateTrigger",callback:function(e){return r.presentFromTrigger(e,true)}}];break}n.forEach((function(t){var r=t.eventName,n=t.callback;return e.addEventListener(r,n)}));e.setAttribute("data-bkkr-popover-trigger","true");return function(){n.forEach((function(t){var r=t.eventName,n=t.callback;return e.removeEventListener(r,n)}));e.removeAttribute("data-bkkr-popover-trigger")}};var pe=function(e,t){if(!t||t.tagName!=="BKKR-ITEM"){return-1}return e.findIndex((function(e){return e===t}))};var he=function(e,t){var r=pe(e,t);return e[r+1]};var fe=function(e,t){var r=pe(e,t);return e[r-1]};var be=function(e){var t=r(e);var n=t.querySelector("button");if(n){a((function(){return n.focus()}))}};var ve=function(e){return e.hasAttribute("data-bkkr-popover-trigger")};var me=function(e){var t=function(t){return __awaiter(C,void 0,void 0,(function(){var r,n,a,i,o,s,l,d,c;return __generator(this,(function(u){switch(u.label){case 0:r=document.activeElement;n=[];try{n=Array.from(e.querySelectorAll("bkkr-item:not(bkkr-popover bkkr-popover *):not([disabled])"))}catch(e){}a=t.key;switch(a){case"ArrowLeft":return[3,1];case"ArrowDown":return[3,3];case"ArrowUp":return[3,4];case"Home":return[3,5];case"End":return[3,6];case"ArrowRight":return[3,7];case" ":return[3,7];case"Enter":return[3,7]}return[3,8];case 1:return[4,e.getParentPopover()];case 2:i=u.sent();if(i){e.dismiss(undefined,undefined,false)}return[3,8];case 3:t.preventDefault();o=he(n,r);if(o!==undefined){be(o)}return[3,8];case 4:t.preventDefault();s=fe(n,r);if(s!==undefined){be(s)}return[3,8];case 5:t.preventDefault();l=n[0];if(l!==undefined){be(l)}return[3,8];case 6:t.preventDefault();d=n[n.length-1];if(d!==undefined){be(d)}return[3,8];case 7:if(r&&ve(r)){c=new CustomEvent("bkkrPopoverActivateTrigger");r.dispatchEvent(c)}return[3,8];case 8:return[2]}}))}))};e.addEventListener("keydown",t);return function(){return e.removeEventListener("keydown",t)}};var ge=function(e,t,r,n,a,i,o,s,l,d,c){var u;var p={top:0,left:0,width:0,height:0};switch(i){case"event":if(!c){return l}var h=c;p={top:h.clientY,left:h.clientX,width:1,height:1};break;case"trigger":default:var f=c;var b=d||((u=f===null||f===void 0?void 0:f.detail)===null||u===void 0?void 0:u.bkkrShadowTarget)||(f===null||f===void 0?void 0:f.target);if(!b){return l}var v=b.getBoundingClientRect();p={top:v.top,left:v.left,width:v.width,height:v.height};break}var m=De(o,p,t,r,n,a,e);var g=Te(s,o,p,t,r);var k=m.top+g.top;var w=m.left+g.left;var x=ye(o,n,a,k,w,t,r,e),y=x.arrowTop,D=x.arrowLeft;var T=ke(o,s,e),E=T.originX,P=T.originY;return{top:k,left:w,referenceCoordinates:p,arrowTop:y,arrowLeft:D,originX:E,originY:P}};var ke=function(e,t,r){switch(e){case"top":return{originX:we(t),originY:"bottom"};case"bottom":return{originX:we(t),originY:"top"};case"left":return{originX:"right",originY:xe(t)};case"right":return{originX:"left",originY:xe(t)};case"start":return{originX:r?"left":"right",originY:xe(t)};case"end":return{originX:r?"right":"left",originY:xe(t)}}};var we=function(e){switch(e){case"start":return"left";case"center":return"center";case"end":return"right"}};var xe=function(e){switch(e){case"start":return"top";case"center":return"center";case"end":return"bottom"}};var ye=function(e,t,r,n,a,i,o,s){var l={arrowTop:n+o/2-t/2,arrowLeft:a+i-t/2};var d={arrowTop:n+o/2-t/2,arrowLeft:a-t*1.5};switch(e){case"top":return{arrowTop:n+o,arrowLeft:a+i/2-t/2};case"bottom":return{arrowTop:n-r,arrowLeft:a+i/2-t/2};case"left":return l;case"right":return d;case"start":return s?d:l;case"end":return s?l:d;default:return{arrowTop:0,arrowLeft:0}}};var De=function(e,t,r,n,a,i,o){var s={top:t.top,left:t.left-r-a};var l={top:t.top,left:t.left+t.width+a};switch(e){case"top":return{top:t.top-n-i,left:t.left};case"right":return l;case"bottom":return{top:t.top+t.height+i,left:t.left};case"left":return s;case"start":return o?l:s;case"end":return o?s:l}};var Te=function(e,t,r,n,a){switch(e){case"center":return Pe(t,r,n,a);case"end":return Ee(t,r,n,a);case"start":default:return{top:0,left:0}}};var Ee=function(e,t,r,n){switch(e){case"start":case"end":case"left":case"right":return{top:-(n-t.height),left:0};case"top":case"bottom":default:return{top:0,left:-(r-t.width)}}};var Pe=function(e,t,r,n){switch(e){case"start":case"end":case"left":case"right":return{top:-(n/2-t.height/2),left:0};case"top":case"bottom":default:return{top:0,left:-(r/2-t.width/2)}}};var Se=function(e,t,r,n,a,i,o,s,l,d,c,u,p,h,f){if(p===void 0){p=0}if(h===void 0){h=0}if(f===void 0){f=0}var b=p;var v=h;var m=r;var g=t;var k;var w=d;var x=c;var y=false;var D=false;var T=u?u.top+u.height:i/2-s/2;var E=u?u.height:0;var P=false;if(m<n+l){m=n;y=true;w="left"}else if(o+n+m+l>a){D=true;m=a-o-n;w="right"}if(T+E+s>i&&(e==="top"||e==="bottom")){if(T-s>0){g=T-s-E-(f-1);b=g+s;x="bottom";P=true}else{k=n}}return{top:g,left:m,bottom:k,originX:w,originY:x,checkSafeAreaLeft:y,checkSafeAreaRight:D,arrowTop:b,arrowLeft:v,addPopoverBottomClass:P}};var Ce=function(e,t,r,n){if(t===void 0){t=false}if(!r&&!n){return false}if(e!=="top"&&e!=="bottom"&&t){return false}return true};var Ae=8;var _e=function(e,t){var n;var a=t.event,i=t.size,o=t.trigger,s=t.reference,d=t.side,c=t.align;var u=e.ownerDocument;var p=u.dir==="rtl";var h=u.defaultView.innerWidth;var f=u.defaultView.innerHeight;var b=r(e);var v=b.querySelector(".popover-content");var m=b.querySelector(".popover-arrow");var g=o||((n=a===null||a===void 0?void 0:a.detail)===null||n===void 0?void 0:n.bkkrShadowTarget)||(a===null||a===void 0?void 0:a.target);var k=de(i,v,g),w=k.contentWidth,x=k.contentHeight;var y=le(m),D=y.arrowWidth,T=y.arrowHeight;var E={top:f/2-x/2,left:h/2-w/2,originX:p?"right":"left",originY:"top"};var P=ge(p,w,x,D,T,s,d,c,E,o,a);var S=i==="cover"?0:Ae;var C=i==="cover"?0:25;var A=Se(d,P.top,P.left,S,h,f,w,x,C,P.originX,P.originY,P.referenceCoordinates,P.arrowTop,P.arrowLeft,T),_=A.originX,I=A.originY,L=A.top,z=A.left,B=A.bottom,j=A.checkSafeAreaLeft,O=A.checkSafeAreaRight,W=A.arrowTop,M=A.arrowLeft,q=A.addPopoverBottomClass;var Y=l();var N=l();var F=l();N.addElement(b.querySelector("bkkr-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]);F.addElement(b.querySelector(".popover-wrapper")).fromTo("opacity",.01,1);return Y.easing("ease").duration(100).beforeAddWrite((function(){if(i==="cover"){e.style.setProperty("--width",w+"px")}if(q){e.classList.add("popover-bottom")}if(B!==undefined){v.style.setProperty("bottom",B+"px")}var t=" + var(--safe-area-left, 0)";var r=" - var(--safe-area-right, 0)";var n=z+"px";if(j){n=z+"px"+t}if(O){n=z+"px"+r}v.style.setProperty("top","calc("+L+"px + var(--offset-y, 0))");v.style.setProperty("left","calc("+n+" + var(--offset-x, 0))");v.style.setProperty("transform-origin",I+" "+_);if(m!==null){var s=P.top!==L||P.left!==z;var l=Ce(d,s,a,o);if(l){m.style.setProperty("top","calc("+W+"px + var(--offset-y, 0))");m.style.setProperty("left","calc("+M+"px + var(--offset-x, 0))")}else{m.style.setProperty("display","none")}}})).addAnimation([N,F])};var Ie=function(e){var t=r(e);var n=t.querySelector(".popover-content");var a=t.querySelector(".popover-arrow");var i=l();var o=l();var s=l();o.addElement(t.querySelector("bkkr-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0);s.addElement(t.querySelector(".popover-wrapper")).fromTo("opacity",.99,0);return i.easing("ease").afterAddWrite((function(){e.style.removeProperty("--width");e.classList.remove("popover-bottom");n.style.removeProperty("top");n.style.removeProperty("left");n.style.removeProperty("bottom");n.style.removeProperty("transform-origin");if(a){a.style.removeProperty("top");a.style.removeProperty("left");a.style.removeProperty("display")}})).duration(300).addAnimation([o,s])};var Le=':host{--background:var(--bkkr-overlay-background, var(--bkkr-background-color, #fff));--min-width:250px;--min-height:0;--max-width:auto;--height:auto;--width:auto;--max-height:90%;--box-shadow:0 15px 25px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.1), 0 6px 20px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.12), 0 13.2px 40px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.08);--backdrop-opacity:0;--offset-x:0px;--offset-y:0px;--border:0;top:0;right:0;bottom:0;left:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;outline:none;color:var(--bkkr-text-color, #000);z-index:1001;pointer-events:none}:host(.popover-interactive) .popover-content,:host(.popover-interactive) bkkr-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}:host(.popover-desktop){--box-shadow:0px 4px 16px 0px rgba(0, 0, 0, 0.12);--border:0.5px solid var(--color-step-100, #e6e6e6)}.popover-wrapper{opacity:0;z-index:10}.popover-content{border-radius:16px;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border:var(--border);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}::slotted(.popover-viewport){--safe-area-top:0px;--safe-area-right:0px;--safe-area-bottom:0px;--safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}.popover-arrow{display:block;position:absolute;width:20px;height:10px;overflow:hidden;z-index:11}.popover-arrow::after{top:3px;left:3px;border-radius:3px;position:absolute;width:14px;height:14px;-webkit-transform:rotate(45deg);transform:rotate(45deg);background:var(--background);content:"";z-index:10}:host(.popover-bottom) .popover-arrow{top:auto;bottom:-10px}:host(.popover-bottom) .popover-arrow::after{top:-6px}:host(.popover-side-left) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host(.popover-side-right) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-top) .popover-arrow{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.popover-side-start) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host-context([dir=rtl]):host(.popover-side-start) .popover-arrow,:host-context([dir=rtl]).popover-side-start .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-end) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host-context([dir=rtl]):host(.popover-side-end) .popover-arrow,:host-context([dir=rtl]).popover-side-end .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}';var ze=e("P",function(){function e(e){var t=this;u(this,e);this.didPresent=p(this,"bkkrPopoverDidPresent",7);this.willPresent=p(this,"bkkrPopoverWillPresent",7);this.willDismiss=p(this,"bkkrPopoverWillDismiss",7);this.didDismiss=p(this,"bkkrPopoverDidDismiss",7);this.didPresentShorthand=p(this,"didPresent",7);this.willPresentShorthand=p(this,"willPresent",7);this.willDismissShorthand=p(this,"willDismiss",7);this.didDismissShorthand=p(this,"didDismiss",7);this.parentPopover=null;this.popoverIndex=je++;this.coreDelegate=w();this.inline=false;this.focusDescendantOnPresent=false;this.presented=false;this.hasController=false;this.keyboardClose=true;this.backdropDismiss=true;this.showBackdrop=false;this.animated=true;this.triggerAction="click";this.size="auto";this.dismissOnSelect=false;this.reference="trigger";this.side="bottom";this.alignment="start";this.arrow=true;this.isOpen=false;this.onDismiss=function(e){e.stopPropagation();e.preventDefault();t.dismiss()};this.onBackdropTap=function(){t.dismiss(undefined,kt)};this.onLifecycle=function(e){var r=t.usersElement;var n=Be[e.type];if(r&&n){var a=new CustomEvent(n,{bubbles:false,cancelable:false,detail:e.detail});r.dispatchEvent(a)}};this.configureTriggerInteraction=function(){var e=t,r=e.trigger,n=e.triggerAction,a=e.el,i=e.destroyTriggerInteraction;if(i){i()}var o=t.triggerEl=r!==undefined?document.getElementById(r):null;if(!o){return}t.destroyTriggerInteraction=ue(o,n,a)};this.configureKeyboardInteraction=function(){var e=t,r=e.destroyKeyboardInteraction,n=e.el;if(r){r()}t.destroyKeyboardInteraction=me(n)};this.configureDismissInteraction=function(){var e=t,r=e.destroyDismissInteraction,n=e.parentPopover,a=e.triggerAction,i=e.triggerEl,o=e.el;if(!n||!i){return}if(r){r()}t.destroyDismissInteraction=ce(i,a,o,n)}}e.prototype.onTriggerChange=function(){this.configureTriggerInteraction()};e.prototype.onIsOpenChange=function(e,t){if(e===true&&t===false){this.present()}else if(e===false&&t===true){this.dismiss()}};e.prototype.connectedCallback=function(){Ze(this.el)};e.prototype.componentWillLoad=function(){this.popoverId=this.el.hasAttribute("id")?this.el.getAttribute("id"):"bkkr-popover-"+this.popoverIndex;this.parentPopover=this.el.closest("bkkr-popover:not(#"+this.popoverId+")")};e.prototype.componentDidLoad=function(){var e=this;var t=this,r=t.parentPopover,n=t.isOpen;if(n===true){a((function(){return e.present()}))}if(r){i(r,"bkkrPopoverWillDismiss",(function(){e.dismiss(undefined,undefined,false)}))}this.configureTriggerInteraction()};e.prototype.presentFromTrigger=function(e,t){if(t===void 0){t=false}return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(r){switch(r.label){case 0:this.focusDescendantOnPresent=t;return[4,this.present(e)];case 1:r.sent();this.focusDescendantOnPresent=false;return[2]}}))}))};e.prototype.getDelegate=function(e){if(e===void 0){e=false}if(this.workingDelegate&&!e){return{delegate:this.workingDelegate,inline:this.inline}}var t=this.el.parentNode;var r=this.inline=t!==null&&!this.hasController;var n=this.workingDelegate=r?this.delegate||this.coreDelegate:this.delegate;return{inline:r,delegate:n}};e.prototype.present=function(e){return __awaiter(this,void 0,void 0,(function(){var t,r,n,a,i;return __generator(this,(function(o){switch(o.label){case 0:if(this.presented){return[2]}if(!(this.currentTransition!==undefined))return[3,2];return[4,this.currentTransition];case 1:o.sent();o.label=2;case 2:t=Object.assign(Object.assign({},this.componentProps),{popover:this.el});r=this.getDelegate(true),n=r.inline,a=r.delegate;i=this;return[4,x(a,this.el,this.component,["popover-viewport"],t,n)];case 3:i.usersElement=o.sent();return[4,D(this.usersElement)];case 4:o.sent();this.configureKeyboardInteraction();this.configureDismissInteraction();this.currentTransition=ut(this,"popoverEnter",_e,{event:e||this.event,size:this.size,trigger:this.triggerEl,reference:this.reference,side:this.side,align:this.alignment});return[4,this.currentTransition];case 5:o.sent();this.currentTransition=undefined;if(this.focusDescendantOnPresent){rt(this.el,this.el)}return[2]}}))}))};e.prototype.dismiss=function(e,t,r){if(r===void 0){r=true}return __awaiter(this,void 0,void 0,(function(){var n,a,i,o,s;return __generator(this,(function(l){switch(l.label){case 0:if(!(this.currentTransition!==undefined))return[3,2];return[4,this.currentTransition];case 1:l.sent();l.label=2;case 2:n=this,a=n.destroyKeyboardInteraction,i=n.destroyDismissInteraction;if(r&&this.parentPopover){this.parentPopover.dismiss(e,t,r)}this.currentTransition=ht(this,e,t,"popoverLeave",Ie,this.event);return[4,this.currentTransition];case 3:o=l.sent();if(!o)return[3,5];if(a){a();this.destroyKeyboardInteraction=undefined}if(i){i();this.destroyDismissInteraction=undefined}s=this.getDelegate().delegate;return[4,y(s,this.usersElement)];case 4:l.sent();l.label=5;case 5:this.currentTransition=undefined;return[2,o]}}))}))};e.prototype.getParentPopover=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){return[2,this.parentPopover]}))}))};e.prototype.onDidDismiss=function(){return vt(this.el,"bkkrPopoverDidDismiss")};e.prototype.onWillDismiss=function(){return vt(this.el,"bkkrPopoverWillDismiss")};e.prototype.render=function(){var e;var t=this;var r=this,n=r.onLifecycle,a=r.popoverId,i=r.parentPopover,o=r.dismissOnSelect,s=r.presented,l=r.side,d=r.arrow,c=r.htmlAttributes;var u=T("desktop");var p=d&&!i&&!u;return f(b,Object.assign({"aria-modal":"true","no-router":true,tabindex:"-1"},c,{style:{zIndex:""+(2e4+this.overlayIndex)},id:a,class:Object.assign(Object.assign({},g(this.cssClass)),(e={"overlay-hidden":true,"popover-interactive":s,"popover-desktop":u},e["popover-side-"+l]=true,e["popover-nested"]=!!i,e)),onBkkrPopoverDidPresent:n,onBkkrPopoverWillPresent:n,onBkkrPopoverWillDismiss:n,onBkkrPopoverDidDismiss:n,onBkkrDismiss:this.onDismiss,onBkkrBackdropTap:this.onBackdropTap}),!i&&f("bkkr-backdrop",{tappable:this.backdropDismiss,visible:this.showBackdrop,part:"backdrop"}),f("div",{class:"popover-wrapper bkkr-overlay-wrapper",onClick:o?function(){return t.dismiss()}:undefined},p&&f("div",{class:"popover-arrow",part:"arrow"}),f("div",{class:"popover-content",part:"content"},f("slot",null))))};Object.defineProperty(e.prototype,"el",{get:function(){return v(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}},enumerable:false,configurable:true});return e}());var Be={bkkrPopoverDidPresent:"bkkrViewDidEnter",bkkrPopoverWillPresent:"bkkrViewWillEnter",bkkrPopoverWillDismiss:"bkkrViewWillLeave",bkkrPopoverDidDismiss:"bkkrViewDidLeave"};var je=0;ze.style=Le;var Oe=function(e,t,n){if(n===void 0){n=400}var a=l();var i=r(e);var o=i.querySelector(".toast-wrapper");var s="calc(-12px - var(--safe-area-bottom, 0px))";var d="calc(12px + var(--safe-area-top, 0px))";a.addElement(o);switch(t){case"bottom":a.fromTo("transform","translate3d(0, 200%, 0)","translate3d(0, "+s+", 0)");break;case"middle":var c="50%";o.style.top=""+c;a.fromTo("opacity",.01,1);break;default:a.fromTo("transform","translate3d(0, -200%, 0)","translate3d(0, "+d+", 0)");break}var u=l().easing("cubic-bezier(.155,1.105,.295,1.12)").duration(n).addAnimation(a);var p=l().beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"});u.addAnimation(p);return u};var We=function(e,t,n){if(n===void 0){n=300}var a=l();var i=r(e);var o=i.querySelector(".toast-wrapper");var s="calc(-12px - var(--safe-area-bottom, 0px))";var d="calc(12px + var(--safe-area-top, 0px))";a.addElement(o);switch(t){case"bottom":a.fromTo("transform","translate3d(0, "+s+", 0)","translate3d(0, 200%, 0)");break;case"middle":a.fromTo("opacity",.99,0);break;default:a.fromTo("transform","translate3d(0, "+d+", 0)","translate3d(0, -200%, 0)");break}var c=l().easing("cubic-bezier(.36,.66,.04,1)").duration(n).addAnimation(a);var u=l().beforeClearStyles(["transform"]).afterClearStyles(["transform"]).onFinish((function(e){if(e!==1){return}}));c.addAnimation(u);return c};var Me=function(e,t,r,a){var i;var o=(i=e===null||e===void 0?void 0:e.shadowRoot)===null||i===void 0?void 0:i.querySelector(".toast-wrapper");var s=(o===null||o===void 0?void 0:o.clientHeight)||0;var l=false;var d=r==="top"?-1:1;var c=function(e){return __awaiter(C,void 0,void 0,(function(){var t;return __generator(this,(function(r){t=e.event.target;if(t){return[2,true]}return[2,false]}))}))};var u=function(){t.progressStart(true,l?1:0)};var p=function(e){var r=n(1e-4,e.deltaY*d/(s*2),.9999);t.progressStep(r)};var h=function(e){var r=e.velocityY;var i=n(1e-4,e.deltaY*d/(s*2),.9999);var o=(e.deltaY+r*1e3)/(s*2);var c=o*d>=.5;var u=c?-.001:.001;if(!c){t.easing("cubic-bezier(1, 0, 0.68, 0.28)");u+=A([0,0],[1,0],[.68,.28],[1,1],i)[0]}else{t.easing("cubic-bezier(0.32, 0.72, 0, 1)");u+=A([0,0],[.32,.72],[0,1],[1,1],i)[0]}var p=c?qe(i*s,r):qe((1-i)*s,r);l=c;f.enable(false);t.onFinish((function(){if(!c){f.enable(true)}})).progressEnd(c?1:0,u,p);if(c){a()}};var f=m({el:e,gestureName:"toastSwipeToClose",gesturePriority:40,direction:"y",threshold:10,canStart:c,onStart:u,onMove:p,onEnd:h});return f};var qe=function(e,t){return n(400,e/Math.abs(t*1.1),500)};var Ye=":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:0 15px 25px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.1), 0 6px 20px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.12), 0 13.2px 40px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.08);--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;--background:var(--bkkr-overlay-background, var(--bkkr-background-color, #fff));--border-radius:32px;--button-color:color-get(primary, base);--color:var(--bkkr-text-color, #000);--max-width:700px;--start:calc(var(--bkkr-spacer, 16px) * 0.5);--end:var(--start);top:0;left:0;display:block;position:absolute;width:100%;height:100%;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;outline:none;color:var(--color);font-family:var(--bkkr-font-family);font-size:0.85rem;contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001;pointer-events:none}:host(.overlay-hidden){display:none}.toast-wrapper{border-radius:var(--border-radius);right:var(--end);left:var(--start);margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-wrapper{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:inherit;min-height:inherit;max-height:inherit;pointer-events:auto;contain:content}.toast-content{padding-left:15px;padding-right:15px;padding-top:15px;padding-bottom:15px;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;text-align:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-content{padding-left:unset;padding-right:unset;-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px}}.toast-header{margin-bottom:2px;font-weight:700}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.toast-wrapper.toast-top{top:0;-webkit-transform:translate3d(0, -200%, 0);transform:translate3d(0, -200%, 0)}.toast-wrapper.toast-middle{opacity:0.01}.toast-wrapper.toast-bottom{bottom:0;-webkit-transform:translate3d(0, 200%, 0);transform:translate3d(0, 200%, 0)}:host(.bkkr-color){--button-color:inherit;color:current-color(contrast)}:host(.bkkr-color) .toast-button-cancel{color:inherit}:host(.bkkr-color) .toast-wrapper{background:current-color(base)}";var Ne=e("T",function(){function e(e){var t=this;u(this,e);this.didPresent=p(this,"toastDidPresent",7);this.willPresent=p(this,"toastWillPresent",7);this.willDismiss=p(this,"toastWillDismiss",7);this.didDismiss=p(this,"toastDidDismiss",7);this.gestureAnimationDismissing=false;this.presented=false;this.duration=0;this.keyboardClose=false;this.position="top";this.swipeToClose=true;this.animated=true;this.dispatchCancelHandler=function(e){var r=e.detail.role;if(gt(r)){var n=t.getButtons().find((function(e){return e.role==="cancel"}));t.callButtonHandler(n)}}}e.prototype.swipeToCloseChanged=function(e){if(this.gesture){this.gesture.enable(e)}else if(e){this.initSwipeToClose()}};e.prototype.connectedCallback=function(){Ze(this.el,{trapKeyboardFocus:false})};e.prototype.present=function(){return __awaiter(this,void 0,void 0,(function(){var e=this;return __generator(this,(function(t){switch(t.label){case 0:return[4,ut(this,"toastEnter",Oe,this.position)];case 1:t.sent();if(this.swipeToClose){this.initSwipeToClose()}if(this.duration>0){this.durationTimeout=setTimeout((function(){return e.dismiss(undefined,"timeout")}),this.duration)}return[2]}}))}))};e.prototype.initSwipeToClose=function(){var e=this;var t=this.leaveAnimation||We;var r=this.animation=t(this.el,this.position);this.gesture=Me(this.el,r,this.position,(function(){e.gestureAnimationDismissing=true;e.animation.onFinish((function(){return __awaiter(e,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,this.dismiss(undefined,"gesture")];case 1:e.sent();this.gestureAnimationDismissing=false;return[2]}}))}))}))}));this.gesture.enable(true)};e.prototype.dismiss=function(e,t){return __awaiter(this,void 0,void 0,(function(){var r,n,a;var i=this;return __generator(this,(function(o){switch(o.label){case 0:if(this.gestureAnimationDismissing&&t!=="gesture"){return[2,false]}if(this.durationTimeout){clearTimeout(this.durationTimeout);if((r=this.gesture)===null||r===void 0?void 0:r.running()){if(this.duration>0){this.durationTimeout=setTimeout((function(){return i.dismiss(undefined,"timeout")}),this.duration)}return[2,false]}}n=He.get(this)||[];return[4,ht(this,e,t,"toastLeave",We,this.position)];case 1:a=o.sent();if(a){if(this.animation){this.animation.destroy()}n.forEach((function(e){return e.destroy()}))}this.animation=undefined;return[2,a]}}))}))};e.prototype.onDidDismiss=function(){return vt(this.el,"toastDidDismiss")};e.prototype.onWillDismiss=function(){return vt(this.el,"toastWillDismiss")};e.prototype.getButtons=function(){var e=this.buttons?this.buttons.map((function(e){return typeof e==="string"?{text:e}:e})):[];return e};e.prototype.buttonClick=function(e){return __awaiter(this,void 0,void 0,(function(){var t,r;return __generator(this,(function(n){switch(n.label){case 0:t=e.role;if(gt(t)){return[2,this.dismiss(undefined,t)]}return[4,this.callButtonHandler(e)];case 1:r=n.sent();if(r){return[2,this.dismiss(undefined,t)]}return[2,Promise.resolve()]}}))}))};e.prototype.callButtonHandler=function(e){return __awaiter(this,void 0,void 0,(function(){var t,r;return __generator(this,(function(n){switch(n.label){case 0:if(!(e&&e.handler))return[3,4];n.label=1;case 1:n.trys.push([1,3,,4]);return[4,e.handler()];case 2:t=n.sent();if(t===false){return[2,false]}return[3,4];case 3:r=n.sent();console.error(r);return[3,4];case 4:return[2,true]}}))}))};e.prototype.renderButtons=function(e,t){var r;var n=this;if(e.length===0){return}var a=(r={"toast-button-group":true},r["toast-button-group-"+t]=true,r);return f("div",{class:a},e.map((function(e){return f("button",{type:"button",class:Fe(e),tabIndex:0,onClick:function(){return n.buttonClick(e)},part:"button"},f("div",{class:"toast-button-inner"},e.icon&&f("bkkr-icon",{icon:e.icon,slot:e.text===undefined?"icon-only":undefined,class:"toast-icon",lazy:false}),e.text))})))};e.prototype.render=function(){var e;var t;var r=this.getButtons();var n=r.filter((function(e){return e.side==="start"}));var a=r.filter((function(e){return e.side!=="start"}));var i=(e={"toast-wrapper":true},e["toast-"+this.position]=true,e["state-activatable"]=true,e);var o=((t=this.htmlAttributes)===null||t===void 0?void 0:t.role)||(r.length>0?"dialog":"status");return f(b,Object.assign({role:o,style:{zIndex:""+(6e4+this.overlayIndex)},class:k(this.color,Object.assign(Object.assign({},g(this.cssClass)),{"overlay-hidden":true})),onBkkrToastWillDismiss:this.dispatchCancelHandler},this.htmlAttributes),f("div",{class:i},f("div",{class:"toast-container",part:"container"},this.renderButtons(n,"start"),f("div",{class:"toast-content"},this.header!==undefined&&f("div",{class:"toast-header",part:"header"},this.header),this.message!==undefined&&f("div",{class:"toast-message",part:"message",innerHTML:E(this.message)})),this.renderButtons(a,"end"))))};Object.defineProperty(e.prototype,"el",{get:function(){return v(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{swipeToClose:["swipeToCloseChanged"]}},enumerable:false,configurable:true});return e}());var Fe=function(e){var t;return Object.assign((t={"toast-button":true,"toast-button-icon-only":e.icon!==undefined&&e.text===undefined},t["toast-button-"+e.role]=e.role!==undefined,t["state-focusable"]=true,t["state-activatable"]=true,t),g(e.cssClass))};Ne.style=Ye;var Re=0;var He=new WeakMap;var Xe=function(e,t,r){return{create:function(n){return $e(e,n,t,r)},dismiss:function(t,r,n){return ot(document,t,r,e,n)},getTop:function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,dt(document,e)]}))}))}}};var Ke=e("a",Xe("bkkr-alert",M,[{tagName:"bkkr-backdrop",customElement:P}]));var Ve=e("d",Xe("bkkr-drawer",J,[{tagName:"bkkr-backdrop",customElement:P}]));var Ge=e("l",Xe("bkkr-loading",H,[{tagName:"bkkr-backdrop",customElement:P},{tagName:"bkkr-spinner",customElement:S}]));var Ue=e("m",Xe("bkkr-modal",ie,[{tagName:"bkkr-backdrop",customElement:P}]));var Je=e("p",Xe("bkkr-popover",ze,[{tagName:"bkkr-backdrop",customElement:P}]));var Qe=e("t",Xe("bkkr-toast",Ne));var Ze=function(e,t){if(t===void 0){t={trapKeyboardFocus:true}}if(typeof document!=="undefined"){it(document,t)}var r=Re++;e.overlayIndex=r;if(!e.hasAttribute("id")){e.id="bkkr-overlay-"+r}};var $e=function(e,t,r,n){if(typeof window.customElements!=="undefined"){if(typeof window!=="undefined"&&window.customElements){if(!window.customElements.get(e)){window.customElements.define(e,r)}if(n){for(var a=0,i=n;a<i.length;a++){var s=i[a];if(!window.customElements.get(s.tagName)){window.customElements.define(s.tagName,s.customElement)}}}}return window.customElements.whenDefined(e).then((function(){var r=document.createElement(e);r.classList.add("overlay-hidden");Object.assign(r,Object.assign(Object.assign({},t),{hasController:true}));ft(document).appendChild(r);return new Promise((function(e){return o(r,e)}))}))}return Promise.resolve()};var et='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .state-focusable:not([tabindex^="-"])';var tt="input:not([type=hidden]), textarea, button, select";var rt=function(e,t){var r=e.querySelector(et);var n=r&&r.shadowRoot;if(n){r=n.querySelector(tt)||r}if(r){r.focus();if(r.classList.contains("state-focusable")){var a=t.closest("bkkr-root");if(a){a.setFocus([r])}}}else{t.focus()}};var nt=function(e,t){var r=Array.from(e.querySelectorAll(et));var n=r.length>0?r[r.length-1]:null;var a=n&&n.shadowRoot;if(a){n=a.querySelector(tt)||n}if(n){n.focus()}else{t.focus()}};var at=function(e,t){var n=lt(t);var a=e.target;if(!n||!a){return}var i=function(){if(n===a){n.lastFocus=undefined}else{var e=r(n);if(!e.contains(a)){return}var i=e.querySelector(".bkkr-overlay-wrapper");if(!i){return}if(i.contains(a)){n.lastFocus=a}else{var o=n.lastFocus;rt(i,n);if(o===t.activeElement){nt(i,n)}n.lastFocus=t.activeElement}}};var o=function(){if(n.contains(a)){n.lastFocus=a}else{var e=n.lastFocus;rt(n,n);if(e===t.activeElement){nt(n,n)}n.lastFocus=t.activeElement}};if(n.shadowRoot){o()}else{i()}};var it=function(e,t){if(Re===0){Re=1;if(t.trapKeyboardFocus){e.addEventListener("focus",(function(t){return at(t,e)}),true)}e.addEventListener("bkkrBackButton",(function(t){var r=lt(e);if(r&&r.backdropDismiss){t.detail.register(d,(function(){return r.dismiss(undefined,kt)}))}}));e.addEventListener("keyup",(function(t){if(t.key==="Escape"){var r=dt(e);if(r&&r.backdropDismiss){r.dismiss(undefined,kt)}}}))}};var ot=function(e,t,r,n,a){var i=dt(e,n,a);if(!i){return Promise.reject("overlay does not exist")}return i.dismiss(t,r)};var st=function(e,t){if(t===undefined){t="bkkr-alert,bkkr-drawer,bkkr-loading,bkkr-modal,bkkr-popover,bkkr-toast"}return Array.from(e.querySelectorAll(t)).filter((function(e){return e.overlayIndex>0}))};var lt=function(e){var t=st(e);for(var r=t.length-1;r>=0;r--){var n=t[r];if(!n.classList.contains("overlay-hidden")){return n}}return};var dt=e("b",(function(e,t,r){var n=st(e,t);return r===undefined?n[n.length-1]:n.find((function(e){return e.id===r}))}));var ct=function(e){if(e===void 0){e=false}var t=ft(document);var r=t.querySelector("bkkr-router-outlet, bkkr-nav, #bkkr-view-container-root");if(!r){return}if(e){r.setAttribute("aria-hidden","true")}else{r.removeAttribute("aria-hidden")}};var ut=function(e,r,n,a){return __awaiter(C,void 0,void 0,(function(){var i,o,s,l;return __generator(this,(function(d){switch(d.label){case 0:if(e.presented){return[2]}ct(true);e.presented=true;e.willPresent.emit();(i=e.willPresentShorthand)===null||i===void 0?void 0:i.emit();s=e.enterAnimation?e.enterAnimation:t.get(r,n);return[4,bt(e,s,e.el,a)];case 1:l=d.sent();if(l){e.didPresent.emit();(o=e.didPresentShorthand)===null||o===void 0?void 0:o.emit()}if(e.el.tagName!=="BKKR-TOAST"){pt(e.el)}if(e.keyboardClose){e.el.focus()}return[2]}}))}))};var pt=function(e){return __awaiter(C,void 0,void 0,(function(){var t,r;return __generator(this,(function(n){switch(n.label){case 0:t=document.activeElement;if(!t){return[2]}r=t&&t.shadowRoot;if(r){t=r.querySelector(tt)||t}return[4,e.onDidDismiss()];case 1:n.sent();t.focus();return[2]}}))}))};var ht=function(e,r,n,a,i,o){return __awaiter(C,void 0,void 0,(function(){var s,l,d,c;return __generator(this,(function(u){switch(u.label){case 0:if(!e.presented){return[2,false]}ct(false);e.presented=false;u.label=1;case 1:u.trys.push([1,4,,5]);e.el.style.setProperty("pointer-events","none");e.willDismiss.emit({data:r,role:n});(s=e.willDismissShorthand)===null||s===void 0?void 0:s.emit({data:r,role:n});d=e.leaveAnimation?e.leaveAnimation:t.get(a,i);if(!(n!=="gesture"))return[3,3];return[4,bt(e,d,e.el,o)];case 2:u.sent();u.label=3;case 3:e.didDismiss.emit({data:r,role:n});(l=e.didDismissShorthand)===null||l===void 0?void 0:l.emit({data:r,role:n});He.delete(e);e.el.classList.add("overlay-hidden");return[3,5];case 4:c=u.sent();console.error(c);return[3,5];case 5:e.el.remove();return[2,true]}}))}))};var ft=function(e){return e.querySelector("bkkr-root")||e.body};var bt=function(e,r,n,a){return __awaiter(C,void 0,void 0,(function(){var i,o,s;return __generator(this,(function(l){switch(l.label){case 0:n.classList.remove("overlay-hidden");i=e.el;o=r(i,a);if(!e.animated||!t.getBoolean("animated",true)){o.duration(0)}if(e.keyboardClose){o.beforeAddWrite((function(){var e=n.ownerDocument.activeElement;if(e&&e.matches("input,bkkr-input, bkkr-datepicker, bkkr-textarea")){e.blur()}}))}s=He.get(e)||[];He.set(e,__spreadArray(__spreadArray([],s),[o]));return[4,o.play()];case 1:l.sent();return[2,true]}}))}))};var vt=function(e,t){var r;var n=new Promise((function(e){return r=e}));mt(e,t,(function(e){r(e.detail)}));return n};var mt=function(e,t,r){var n=function(a){s(e,t,n);r(a)};i(e,t,n)};var gt=function(e){return e==="cancel"||e===kt};var kt="backdrop"}}}));