import{e as a}from"./p-0bf5078b.js";import{b as i,L as s,a as e,c as n}from"./p-9b065740.js";import{c as o}from"./p-378f38ff.js";const r=i=>new Promise(((s,e)=>{a((()=>{t(i),c(i).then((a=>{a.animation&&a.animation.destroy(),b(i),s(a)}),(a=>{b(i),e(a)}))}))})),t=a=>{const i=a.enteringEl,s=a.leavingEl;y(i,s,a.direction),v(i,!1),s&&v(s,!1)},c=async a=>d(a),b=a=>{const i=a.leavingEl;a.enteringEl.classList.remove("bkkr-page-invisible"),void 0!==i&&i.classList.remove("bkkr-page-invisible")},d=async a=>{const i=a.enteringEl,s=a.leavingEl;return await m(a,!1),f(i,s),l(i,s),{hasCompleted:!0}},m=async(a,i)=>{const s=(void 0!==a.deepWait?a.deepWait:i)?[u(a.enteringEl),u(a.leavingEl)]:[w(a.enteringEl),w(a.leavingEl)];await Promise.all(s),await p(a.viewIsReady,a.enteringEl)},p=async(a,i)=>{a&&await a(i)},f=(a,e)=>{k(e,i),k(a,s)},l=(a,i)=>{k(a,e),k(i,n)},k=(a,i)=>{if(a){const s=new CustomEvent(i,{bubbles:!1,cancelable:!1});a.dispatchEvent(s)}},w=a=>a?new Promise((i=>o(a,i))):Promise.resolve(),u=async a=>{const i=a;if(i){if(null!=i.componentOnReady&&null!=await i.componentOnReady())return;await Promise.all(Array.from(i.children).map(u))}},v=(a,i)=>{i?(a.setAttribute("aria-hidden","true"),a.classList.add("bkkr-page-hidden")):(a.hidden=!1,a.removeAttribute("aria-hidden"),a.classList.remove("bkkr-page-hidden"))},y=(a,i,s)=>{void 0!==a&&(a.style.zIndex="back"===s?"99":"101"),void 0!==i&&(i.style.zIndex="100")};export{u as d,r as t}