/*!
 * (C) BKKR Framework https://bkkr-team.github.io/bkkr-docs/ - MIT License
 */
import{e as t,a as r,r as a,h as o,H as e,g as i}from"./p-fef964f0.js";import{a as s,c as n}from"./p-bf8dbf30.js";import{h as d,s as c}from"./p-18201c80.js";const l=(a,o)=>{t((()=>{const t=a.scrollTop,e=o.clientHeight;if(t<0)return o.style.setProperty("--opacity-scale","0"),void a.style.setProperty("clip-path",`inset(${e}px 0px 0px 0px)`);const i=s(0,t/10,1);r((()=>{a.style.removeProperty("clip-path"),o.style.setProperty("--opacity-scale",i.toString())}))}))};let p=class{constructor(t){a(this,t),this.checkCollapsibleHeader=()=>{const{collapse:t}=this,r="fade"===t;if(this.destroyCollapsibleHeader(),r){const t=this.el.closest("bkkr-root,bkkr-page,.bkkr-page,page-inner"),r=t?t.querySelector("bkkr-content"):null;this.setupFadeHeader(r)}},this.setupFadeHeader=async t=>{if(!t)return void console.error("bkkr-header requires a content to collapse. Make sure there is an bkkr-content.");await new Promise((r=>n(t,r)));const r=this.scrollEl=await t.getScrollElement();this.contentScrollCallback=()=>{l(r,this.el)},r.addEventListener("scroll",this.contentScrollCallback),l(r,this.el)}}componentDidLoad(){this.checkCollapsibleHeader()}componentDidUpdate(){this.checkCollapsibleHeader()}destroyCollapsibleHeader(){this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0)}render(){const{color:t}=this,r=this.collapse||"none",a=d("bkkr-menu",this.el)?"none":"banner";return o(e,{role:a,class:c(t,{[`header-collapse-${r}`]:void 0!==r})},o("div",{class:"header-background"}),o("div",{class:"header-content"},o("slot",null)))}get el(){return i(this)}};p.style=":host{--background:var(--bkkr-toolbar-background, var(--bkkr-background-color, #fff));--color:var(--bkkr-toolbar-color, var(--bkkr-text-color, #000));--border-color:var(--bkkr-toolbar-border-color, rgba(var(--bkkr-text-color-rgb, 0, 0, 0), 0.1));--border-width:0.55px;--border-style:solid;--padding-top:0;--padding-bottom:0;--padding-start:0;--padding-end:0;--opacity:1;--opacity-scale:1;padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);top:0;left:0;display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;color:var(--color-contrast, var(--color));z-index:10}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.header-background{top:0;right:0;bottom:0;left:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-bottom:var(--border-width) var(--border-style) var(--border-color);background:var(--color-base, var(--background));contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}.header-content{-ms-flex:1 1 0%;flex:1 1 0%;min-width:0}.header-collapse-fade{--opacity-scale:0}";export{p as bkkr_header}