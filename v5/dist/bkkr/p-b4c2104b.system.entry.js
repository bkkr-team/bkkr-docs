var __awaiter=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function a(e){try{u(r.next(e))}catch(e){s(e)}}function o(e){try{u(r["throw"](e))}catch(e){s(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,o)}u((r=r.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(e){return function(t){return u([e,t])}}function u(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,i&&(s=a[0]&2?i["return"]:a[0]?i["throw"]||((s=i["return"])&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;if(i=0,s)a=[a[0]&2,s.value];switch(a[0]){case 0:case 1:s=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;i=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(s=n.trys,s=s.length>0&&s[s.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!s||a[1]>s[0]&&a[1]<s[3])){n.label=a[1];break}if(a[0]===6&&n.label<s[1]){n.label=s[1];s=a;break}if(s&&n.label<s[2]){n.label=s[2];n.ops.push(a);break}if(s[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];i=0}finally{r=s=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};
/*!
 * (C) BKKR Framework https://bkkr-team.github.io/bkkr-docs/ - MIT License
 */System.register(["./p-85995b21.system.js","./p-cb4a9e7d.system.js","./p-2218ee57.system.js","./p-e3e6838c.system.js","./p-a09c828e.system.js","./p-64d25547.system.js"],(function(e,t){"use strict";var n,r,i,s,a,o,u,c,l,f;return{setters:[function(e){n=e.r;r=e.c;i=e.h;s=e.H;a=e.g},function(e){o=e.g},function(e){u=e.a;c=e.d},function(e){l=e.s},function(e){f=e.t},function(){}],execute:function(){var h=":host{top:0;right:0;bottom:0;left:0;position:absolute;contain:layout size style;overflow:hidden;z-index:0}:host(.nested){position:relative;contain:unset;}:host(.nested) ::slotted(.bkkr-page){position:relative !important;contain:unset !important}";var d=e("bkkr_router_outlet",function(){function e(e){n(this,e);this.bkkrNavWillLoad=r(this,"bkkrNavWillLoad",7);this.bkkrNavWillChange=r(this,"bkkrNavWillChange",3);this.bkkrNavDidChange=r(this,"bkkrNavDidChange",3);this.gestureOrAnimationInProgress=false;this.animated=true;this.nested=false}e.prototype.swipeHandlerChanged=function(){if(this.gesture){this.gesture.enable(this.swipeHandler!==undefined)}};e.prototype.connectedCallback=function(){return __awaiter(this,void 0,void 0,(function(){var e,n;var r=this;return __generator(this,(function(i){switch(i.label){case 0:e=function(){r.gestureOrAnimationInProgress=true;if(r.swipeHandler){r.swipeHandler.onStart()}};n=this;return[4,t.import("./p-df312de0.system.js")];case 1:n.gesture=i.sent().createSwipeBackGesture(this.el,(function(){return!r.gestureOrAnimationInProgress&&!!r.swipeHandler&&r.swipeHandler.canStart()}),(function(){return e()}),(function(e){return r.ani&&r.ani.progressStep(e)}),(function(e,t,n){if(r.ani){r.ani.onFinish((function(){r.gestureOrAnimationInProgress=false;if(r.swipeHandler){r.swipeHandler.onEnd(e)}}),{oneTimeCallback:true});var i=e?-.001:.001;if(!e){r.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)");i+=o([0,0],[1,0],[.68,.28],[1,1],t)[0]}else{i+=o([0,0],[.32,.72],[0,1],[1,1],t)[0]}r.ani.progressEnd(e?1:0,i,n)}else{r.gestureOrAnimationInProgress=false}}));this.swipeHandlerChanged();return[2]}}))}))};e.prototype.componentWillLoad=function(){this.bkkrNavWillLoad.emit()};e.prototype.disconnectedCallback=function(){if(this.gesture){this.gesture.destroy();this.gesture=undefined}};e.prototype.commit=function(e,t,n){return __awaiter(this,void 0,void 0,(function(){var r,i,s;return __generator(this,(function(a){switch(a.label){case 0:return[4,this.lock()];case 1:r=a.sent();i=false;a.label=2;case 2:a.trys.push([2,4,,5]);return[4,this.transition(e,t,n)];case 3:i=a.sent();return[3,5];case 4:s=a.sent();console.error(s);return[3,5];case 5:r();return[2,i]}}))}))};e.prototype.setRouteId=function(e,t,n){return __awaiter(this,void 0,void 0,(function(){var r;return __generator(this,(function(i){switch(i.label){case 0:return[4,this.setRoot(e,t,{duration:n==="root"?0:undefined,direction:n==="back"?"back":"forward"})];case 1:r=i.sent();return[2,{changed:r,element:this.activeEl}]}}))}))};e.prototype.getRouteId=function(){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(t){e=this.activeEl;return[2,e?{id:e.tagName,element:e,params:this.activeParams}:undefined]}))}))};e.prototype.setRoot=function(e,t,n){return __awaiter(this,void 0,void 0,(function(){var r,i;return __generator(this,(function(s){switch(s.label){case 0:if(this.activeComponent===e&&l(t,this.activeParams)){return[2,false]}r=this.activeEl;return[4,u(this.delegate,this.el,e,["bkkr-page","bkkr-page-invisible"],t)];case 1:i=s.sent();this.activeComponent=e;this.activeEl=i;this.activeParams=t;return[4,this.commit(i,r,n)];case 2:s.sent();return[4,c(this.delegate,r)];case 3:s.sent();return[2,true]}}))}))};e.prototype.transition=function(e,t,n){if(n===void 0){n={}}return __awaiter(this,void 0,void 0,(function(){var r,i,s;var a=this;return __generator(this,(function(o){switch(o.label){case 0:if(t===e){return[2,false]}this.bkkrNavWillChange.emit();r=this.el;i=this.animated;s=n.animationBuilder||this.animation;return[4,f(Object.assign(Object.assign({animated:i,enteringEl:e,leavingEl:t,baseEl:r,progressCallback:n.progressAnimation?function(e){if(e!==undefined&&!a.gestureOrAnimationInProgress){a.gestureOrAnimationInProgress=true;e.onFinish((function(){a.gestureOrAnimationInProgress=false;if(a.swipeHandler){a.swipeHandler.onEnd(false)}}),{oneTimeCallback:true});e.progressEnd(0,0,0)}else{a.ani=e}}:undefined},n),{animationBuilder:s}))];case 1:o.sent();this.bkkrNavDidChange.emit();return[2,true]}}))}))};e.prototype.lock=function(){return __awaiter(this,void 0,void 0,(function(){var e,t;return __generator(this,(function(n){switch(n.label){case 0:e=this.waitPromise;this.waitPromise=new Promise((function(e){return t=e}));if(!(e!==undefined))return[3,2];return[4,e];case 1:n.sent();n.label=2;case 2:return[2,t]}}))}))};e.prototype.render=function(){var e=this.nested;return i(s,{class:{nested:e}},i("slot",null))};Object.defineProperty(e.prototype,"el",{get:function(){return a(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{swipeHandler:["swipeHandlerChanged"]}},enumerable:false,configurable:true});return e}());d.style=h}}}));