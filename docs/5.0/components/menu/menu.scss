@use "../../scss/mixins";
@use "../../scss/functions";
@use "../../scss/globals";


// Menu
// --------------------------------------------------

@use "menu.vars" as *;

.menu {
  /**
   * @prop --background: Background of the menu
   *
   * @prop --min-width: Minimum width of the menu
   * @prop --width: Width of the menu
   * @prop --max-width: Maximum width of the menu
   *
   * @prop --min-height: Minimum height of the menu
   * @prop --height: Height of the menu
   * @prop --max-height: Maximum height of the menu
   */
  --width: #{$menu-width};
  --min-width: auto;
  --max-width: auto;
  --height: 100%;
  --background: #fff;

  @include mixins.position-set(0, 0, 0, 0);
  display: none;

  position: absolute;

  contain: size style;
}

// Menu
.menu-inner {
  @include mixins.position-set(0, auto, 0, 0);
  display: flex;
  position: absolute;

  flex-direction: column;
  justify-content: space-between;

  width: var(--width);
  min-width: var(--min-width);
  max-width: var(--max-width);
  height: var(--height);

  transform: translate3d(-9999px, 0, 0);

  background: var(--background);

  contain: size style;

  z-index: globals.$z-index-menu;
}

// Show
.show-menu {
  display: block;
}


// Sides
.menu-side-start .menu-inner {
  --safe-area-right: 0;

  @include mixins.position-set(null, auto, null, 0);
}

.menu-side-end .menu-inner {
  --safe-area-left: 0;

  @include mixins.position-set(null, 0, null, auto);
}


// Backdrop
bkkr-backdrop {
  display: none;

  opacity: .01;
  z-index: -1;
}


// Menu types
// --------------------------------------------------

// Reveal
.menu-type-reveal {
  z-index: 0;
}

.menu-type-reveal.show-menu .menu-inner {
  transform: translate3d(0, 0, 0);
}


// Overlay
.menu-type-overlay {
  z-index: 100;
}

.menu-type-overlay .show-backdrop {
  display: block;

  cursor: pointer;
}


// Menu Split Pane
// --------------------------------------------------

:host(.menu-pane-visible) {
  width: var(--width);
  min-width: var(--min-width);
  max-width: var(--max-width);
}

:host(.menu-pane-visible) .menu-inner {
  @include mixins.position-set(0, null, 0, null);

  width: 100%;

  /* stylelint-disable declaration-no-important */
  transform: none !important;

  box-shadow: none !important;
}

:host(.menu-pane-visible) ion-backdrop {
  display: hidden !important;
  /* stylelint-enable declaration-no-important */
}