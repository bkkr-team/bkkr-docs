var __awaiter=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n["throw"](e))}catch(e){s(e)}}function c(e){e.done?i(e.value):r(e.value).then(o,a)}c((n=n.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var i={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,r,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return c([e,t])}}function c(o){if(n)throw new TypeError("Generator is already executing.");while(i)try{if(n=1,r&&(s=o[0]&2?r["return"]:o[0]?r["throw"]||((s=r["return"])&&s.call(r),0):r.next)&&!(s=s.call(r,o[1])).done)return s;if(r=0,s)o=[o[0]&2,s.value];switch(o[0]){case 0:case 1:s=o;break;case 4:i.label++;return{value:o[1],done:false};case 5:i.label++;r=o[1];o=[0];continue;case 7:o=i.ops.pop();i.trys.pop();continue;default:if(!(s=i.trys,s=s.length>0&&s[s.length-1])&&(o[0]===6||o[0]===2)){i=0;continue}if(o[0]===3&&(!s||o[1]>s[0]&&o[1]<s[3])){i.label=o[1];break}if(o[0]===6&&i.label<s[1]){i.label=s[1];s=o;break}if(s&&i.label<s[2]){i.label=s[2];i.ops.push(o);break}if(s[2])i.ops.pop();i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e];r=0}finally{n=s=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}};System.register(["./p-90bb25f5.system.js"],(function(e){"use strict";var t,i,n,r,s;return{setters:[function(e){t=e.r;i=e.e;n=e.h;r=e.H;s=e.g}],execute:function(){function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}function a(e,t,i){return i={path:t,exports:{},require:function(e,t){return c()}},e(i,i.exports),i.exports}function c(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var l=a((function(e,t){
/*! choices.js v9.0.1 | Â© 2019 Josh Johnson | https://github.com/jshjohnson/Choices#readme */
(function t(i,n){e.exports=n()})(window,(function(){return function(e){var t={};function i(n){if(t[n]){return t[n].exports}var r=t[n]={i:n,l:false,exports:{}};e[n].call(r.exports,r,r.exports,i);r.l=true;return r.exports}i.m=e;i.c=t;i.d=function(e,t,n){if(!i.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:n})}};i.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};i.t=function(e,t){if(t&1)e=i(e);if(t&8)return e;if(t&4&&typeof e==="object"&&e&&e.__esModule)return e;var n=Object.create(null);i.r(n);Object.defineProperty(n,"default",{enumerable:true,value:e});if(t&2&&typeof e!="string")for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n};i.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};i.d(t,"a",t);return t};i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};i.p="/public/assets/scripts/";return i(i.s=4)}([function(e,t,i){var n=function e(t){return r(t)&&!s(t)};function r(e){return!!e&&typeof e==="object"}function s(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||c(e)}var o=typeof Symbol==="function"&&Symbol.for;var a=o?Symbol.for("react.element"):60103;function c(e){return e.$$typeof===a}function l(e){return Array.isArray(e)?[]:{}}function u(e,t){return t.clone!==false&&t.isMergeableObject(e)?g(l(e),e,t):e}function h(e,t,i){return e.concat(t).map((function(e){return u(e,i)}))}function d(e,t){if(!t.customMerge){return g}var i=t.customMerge(e);return typeof i==="function"?i:g}function f(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}function p(e){return Object.keys(e).concat(f(e))}function v(e,t){try{return t in e&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}catch(e){return false}}function m(e,t,i){var n={};if(i.isMergeableObject(e)){p(e).forEach((function(t){n[t]=u(e[t],i)}))}p(t).forEach((function(r){if(v(e,r)){return}if(!i.isMergeableObject(t[r])||!e[r]){n[r]=u(t[r],i)}else{n[r]=d(r,i)(e[r],t[r],i)}}));return n}function g(e,t,i){i=i||{};i.arrayMerge=i.arrayMerge||h;i.isMergeableObject=i.isMergeableObject||n;i.cloneUnlessOtherwiseSpecified=u;var r=Array.isArray(t);var s=Array.isArray(e);var o=r===s;if(!o){return u(t,i)}else if(r){return i.arrayMerge(e,t,i)}else{return m(e,t,i)}}g.all=function e(t,i){if(!Array.isArray(t)){throw new Error("first argument should be an array")}return t.reduce((function(e,t){return g(e,t,i)}),{})};var _=g;e.exports=_},function(e,t,i){(function(e,n){var r=i(3);var s;if(typeof self!=="undefined"){s=self}else if(typeof window!=="undefined"){s=window}else if(typeof e!=="undefined"){s=e}else{s=n}var o=Object(r["a"])(s);t["a"]=o}).call(this,i(5),i(6)(e))},function(e,t,i){
/*!
               * Fuse.js v3.4.5 - Lightweight fuzzy-search (http://fusejs.io)
               *
               * Copyright (c) 2012-2017 Kirollos Risk (http://kiro.me)
               * All Rights Reserved. Apache Software License 2.0
               *
               * http://www.apache.org/licenses/LICENSE-2.0
               */
!function(t,i){e.exports=i()}(this,(function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=1)}([function(e,t){e.exports=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,i){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=i(2),o=i(8),a=i(0),c=function(){function e(t,i){var n=i.location,r=void 0===n?0:n,s=i.distance,a=void 0===s?100:s,c=i.threshold,l=void 0===c?.6:c,u=i.maxPatternLength,h=void 0===u?32:u,d=i.caseSensitive,f=void 0!==d&&d,p=i.tokenSeparator,v=void 0===p?/ +/g:p,m=i.findAllMatches,g=void 0!==m&&m,_=i.minMatchCharLength,b=void 0===_?1:_,y=i.id,E=void 0===y?null:y,w=i.keys,I=void 0===w?[]:w,S=i.shouldSort,C=void 0===S||S,O=i.getFn,A=void 0===O?o:O,x=i.sortFn,T=void 0===x?function(e,t){return e.score-t.score}:x,L=i.tokenize,k=void 0!==L&&L,P=i.matchAllTokens,D=void 0!==P&&P,M=i.includeMatches,N=void 0!==M&&M,j=i.includeScore,F=void 0!==j&&j,K=i.verbose,R=void 0!==K&&K;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:r,distance:a,threshold:l,maxPatternLength:h,isCaseSensitive:f,tokenSeparator:v,findAllMatches:g,minMatchCharLength:b,id:E,keys:I,includeMatches:N,includeScore:F,shouldSort:C,getFn:A,sortFn:T,verbose:R,tokenize:k,matchAllTokens:D},this.setCollection(t)}var t,i;return t=e,(i=[{key:"setCollection",value:function(e){return this.list=e,e}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\nSearch pattern: "'.concat(e,'"'));var i=this._prepareSearchers(e),n=i.tokenSearchers,r=i.fullSearcher,s=this._search(n,r),o=s.weights,a=s.results;return this._computeScore(o,a),this.options.shouldSort&&this._sort(a),t.limit&&"number"==typeof t.limit&&(a=a.slice(0,t.limit)),this._format(a)}},{key:"_prepareSearchers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];if(this.options.tokenize)for(var i=e.split(this.options.tokenSeparator),n=0,r=i.length;n<r;n+=1)t.push(new s(i[n],this.options));return{tokenSearchers:t,fullSearcher:new s(e,this.options)}}},{key:"_search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,i=this.list,n={},r=[];if("string"==typeof i[0]){for(var s=0,o=i.length;s<o;s+=1)this._analyze({key:"",value:i[s],record:s,index:s},{resultMap:n,results:r,tokenSearchers:e,fullSearcher:t});return{weights:null,results:r}}for(var a={},c=0,l=i.length;c<l;c+=1)for(var u=i[c],h=0,d=this.options.keys.length;h<d;h+=1){var f=this.options.keys[h];if("string"!=typeof f){if(a[f.name]={weight:1-f.weight||1},f.weight<=0||f.weight>1)throw new Error("Key weight has to be > 0 and <= 1");f=f.name}else a[f]={weight:1};this._analyze({key:f,value:this.options.getFn(u,f),record:u,index:c},{resultMap:n,results:r,tokenSearchers:e,fullSearcher:t})}return{weights:a,results:r}}},{key:"_analyze",value:function(e,t){var i=e.key,n=e.arrayIndex,r=void 0===n?-1:n,s=e.value,o=e.record,c=e.index,l=t.tokenSearchers,u=void 0===l?[]:l,h=t.fullSearcher,d=void 0===h?[]:h,f=t.resultMap,p=void 0===f?{}:f,v=t.results,m=void 0===v?[]:v;if(null!=s){var g=!1,_=-1,b=0;if("string"==typeof s){this._log("\nKey: ".concat(""===i?"-":i));var y=d.search(s);if(this._log('Full text: "'.concat(s,'", score: ').concat(y.score)),this.options.tokenize){for(var E=s.split(this.options.tokenSeparator),w=[],I=0;I<u.length;I+=1){var S=u[I];this._log('\nPattern: "'.concat(S.pattern,'"'));for(var C=!1,O=0;O<E.length;O+=1){var A=E[O],x=S.search(A),T={};x.isMatch?(T[A]=x.score,g=!0,C=!0,w.push(x.score)):(T[A]=1,this.options.matchAllTokens||w.push(1)),this._log('Token: "'.concat(A,'", score: ').concat(T[A]))}C&&(b+=1)}_=w[0];for(var L=w.length,k=1;k<L;k+=1)_+=w[k];_/=L,this._log("Token score average:",_)}var P=y.score;_>-1&&(P=(P+_)/2),this._log("Score average:",P);var D=!this.options.tokenize||!this.options.matchAllTokens||b>=u.length;if(this._log("\nCheck Matches: ".concat(D)),(g||y.isMatch)&&D){var M=p[c];M?M.output.push({key:i,arrayIndex:r,value:s,score:P,matchedIndices:y.matchedIndices}):(p[c]={item:o,output:[{key:i,arrayIndex:r,value:s,score:P,matchedIndices:y.matchedIndices}]},m.push(p[c]))}}else if(a(s))for(var N=0,j=s.length;N<j;N+=1)this._analyze({key:i,arrayIndex:N,value:s[N],record:o,index:c},{resultMap:p,results:m,tokenSearchers:u,fullSearcher:d})}}},{key:"_computeScore",value:function(e,t){this._log("\n\nComputing score:\n");for(var i=0,n=t.length;i<n;i+=1){for(var r=t[i].output,s=r.length,o=1,a=1,c=0;c<s;c+=1){var l=e?e[r[c].key].weight:1,u=(1===l?r[c].score:r[c].score||.001)*l;1!==l?a=Math.min(a,u):(r[c].nScore=u,o*=u)}t[i].score=1===a?o:a,this._log(t[i])}}},{key:"_sort",value:function(e){this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var t=[];if(this.options.verbose){var i=[];this._log("\n\nOutput:\n\n",JSON.stringify(e,(function(e,t){if("object"===n(t)&&null!==t){if(-1!==i.indexOf(t))return;i.push(t)}return t}))),i=null}var r=[];this.options.includeMatches&&r.push((function(e,t){var i=e.output;t.matches=[];for(var n=0,r=i.length;n<r;n+=1){var s=i[n];if(0!==s.matchedIndices.length){var o={indices:s.matchedIndices,value:s.value};s.key&&(o.key=s.key),s.hasOwnProperty("arrayIndex")&&s.arrayIndex>-1&&(o.arrayIndex=s.arrayIndex),t.matches.push(o)}}})),this.options.includeScore&&r.push((function(e,t){t.score=e.score}));for(var s=0,o=e.length;s<o;s+=1){var a=e[s];if(this.options.id&&(a.item=this.options.getFn(a.item,this.options.id)[0]),r.length){for(var c={item:a.item},l=0,u=r.length;l<u;l+=1)r[l](a,c);t.push(c)}else t.push(a.item)}return t}},{key:"_log",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}])&&r(t.prototype,i),e}();e.exports=c},function(e,t,i){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=i(3),s=i(4),o=i(7),a=function(){function e(t,i){var n=i.location,r=void 0===n?0:n,s=i.distance,a=void 0===s?100:s,c=i.threshold,l=void 0===c?.6:c,u=i.maxPatternLength,h=void 0===u?32:u,d=i.isCaseSensitive,f=void 0!==d&&d,p=i.tokenSeparator,v=void 0===p?/ +/g:p,m=i.findAllMatches,g=void 0!==m&&m,_=i.minMatchCharLength,b=void 0===_?1:_;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:r,distance:a,threshold:l,maxPatternLength:h,isCaseSensitive:f,tokenSeparator:v,findAllMatches:g,minMatchCharLength:b},this.pattern=this.options.isCaseSensitive?t:t.toLowerCase(),this.pattern.length<=h&&(this.patternAlphabet=o(this.pattern))}var t,i;return t=e,(i=[{key:"search",value:function(e){if(this.options.isCaseSensitive||(e=e.toLowerCase()),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};var t=this.options,i=t.maxPatternLength,n=t.tokenSeparator;if(this.pattern.length>i)return r(e,this.pattern,n);var o=this.options,a=o.location,c=o.distance,l=o.threshold,u=o.findAllMatches,h=o.minMatchCharLength;return s(e,this.pattern,this.patternAlphabet,{location:a,distance:c,threshold:l,findAllMatches:u,minMatchCharLength:h})}}])&&n(t.prototype,i),e}();e.exports=a},function(e,t){var i=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;e.exports=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,r=new RegExp(t.replace(i,"\\$&").replace(n,"|")),s=e.match(r),o=!!s,a=[];if(o)for(var c=0,l=s.length;c<l;c+=1){var u=s[c];a.push([e.indexOf(u),u.length-1])}return{score:o?.5:1,isMatch:o,matchedIndices:a}}},function(e,t,i){var n=i(5),r=i(6);e.exports=function(e,t,i,s){for(var o=s.location,a=void 0===o?0:o,c=s.distance,l=void 0===c?100:c,u=s.threshold,h=void 0===u?.6:u,d=s.findAllMatches,f=void 0!==d&&d,p=s.minMatchCharLength,v=void 0===p?1:p,m=a,g=e.length,_=h,b=e.indexOf(t,m),y=t.length,E=[],w=0;w<g;w+=1)E[w]=0;if(-1!==b){var I=n(t,{errors:0,currentLocation:b,expectedLocation:m,distance:l});if(_=Math.min(I,_),-1!==(b=e.lastIndexOf(t,m+y))){var S=n(t,{errors:0,currentLocation:b,expectedLocation:m,distance:l});_=Math.min(S,_)}}b=-1;for(var C=[],O=1,A=y+g,x=1<<y-1,T=0;T<y;T+=1){for(var L=0,k=A;L<k;){n(t,{errors:T,currentLocation:m+k,expectedLocation:m,distance:l})<=_?L=k:A=k,k=Math.floor((A-L)/2+L)}A=k;var P=Math.max(1,m-k+1),D=f?g:Math.min(m+k,g)+y,M=Array(D+2);M[D+1]=(1<<T)-1;for(var N=D;N>=P;N-=1){var j=N-1,F=i[e.charAt(j)];if(F&&(E[j]=1),M[N]=(M[N+1]<<1|1)&F,0!==T&&(M[N]|=(C[N+1]|C[N])<<1|1|C[N+1]),M[N]&x&&(O=n(t,{errors:T,currentLocation:j,expectedLocation:m,distance:l}))<=_){if(_=O,(b=j)<=m)break;P=Math.max(1,2*m-b)}}if(n(t,{errors:T+1,currentLocation:m,expectedLocation:m,distance:l})>_)break;C=M}return{isMatch:b>=0,score:0===O?.001:O,matchedIndices:r(E,v)}}},function(e,t){e.exports=function(e,t){var i=t.errors,n=void 0===i?0:i,r=t.currentLocation,s=void 0===r?0:r,o=t.expectedLocation,a=void 0===o?0:o,c=t.distance,l=void 0===c?100:c,u=n/e.length,h=Math.abs(a-s);return l?u+h/l:h?1:u}},function(e,t){e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=[],n=-1,r=-1,s=0,o=e.length;s<o;s+=1){var a=e[s];a&&-1===n?n=s:a||-1===n||((r=s-1)-n+1>=t&&i.push([n,r]),n=-1)}return e[s-1]&&s-n>=t&&i.push([n,s-1]),i}},function(e,t){e.exports=function(e){for(var t={},i=e.length,n=0;n<i;n+=1)t[e.charAt(n)]=0;for(var r=0;r<i;r+=1)t[e.charAt(r)]|=1<<i-r-1;return t}},function(e,t,i){var n=i(0);e.exports=function(e,t){return function e(t,i,r){if(i){var s=i.indexOf("."),o=i,a=null;-1!==s&&(o=i.slice(0,s),a=i.slice(s+1));var c=t[o];if(null!=c)if(a||"string"!=typeof c&&"number"!=typeof c)if(n(c))for(var l=0,u=c.length;l<u;l+=1)e(c[l],a,r);else a&&e(c,a,r);else r.push(c.toString())}else r.push(t);return r}(e,t,[])}}])}))},function(e,t,i){i.d(t,"a",(function(){return n}));function n(e){var t;var i=e.Symbol;if(typeof i==="function"){if(i.observable){t=i.observable}else{t=i("observable");i.observable=t}}else{t="@@observable"}return t}},function(e,t,i){e.exports=i(7)},function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){if(typeof window==="object")i=window}e.exports=i},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);if(!t.children)t.children=[];Object.defineProperty(t,"loaded",{enumerable:true,get:function(){return t.l}});Object.defineProperty(t,"id",{enumerable:true,get:function(){return t.i}});Object.defineProperty(t,"exports",{enumerable:true});t.webpackPolyfill=1}return t}},function(e,t,i){i.r(t);var n=i(2);var r=i.n(n);var s=i(0);var o=i.n(s);var a=i(1);var c=function e(){return Math.random().toString(36).substring(7).split("").join(".")};var l={INIT:"@@redux/INIT"+c(),REPLACE:"@@redux/REPLACE"+c(),PROBE_UNKNOWN_ACTION:function e(){return"@@redux/PROBE_UNKNOWN_ACTION"+c()}};function u(e){if(typeof e!=="object"||e===null)return false;var t=e;while(Object.getPrototypeOf(t)!==null){t=Object.getPrototypeOf(t)}return Object.getPrototypeOf(e)===t}function h(e,t,i){var n;if(typeof t==="function"&&typeof i==="function"||typeof i==="function"&&typeof arguments[3]==="function"){throw new Error("It looks like you are passing several store enhancers to "+"createStore(). This is not supported. Instead, compose them "+"together to a single function.")}if(typeof t==="function"&&typeof i==="undefined"){i=t;t=undefined}if(typeof i!=="undefined"){if(typeof i!=="function"){throw new Error("Expected the enhancer to be a function.")}return i(h)(e,t)}if(typeof e!=="function"){throw new Error("Expected the reducer to be a function.")}var r=e;var s=t;var o=[];var c=o;var d=false;function f(){if(c===o){c=o.slice()}}function p(){if(d){throw new Error("You may not call store.getState() while the reducer is executing. "+"The reducer has already received the state as an argument. "+"Pass it down from the top reducer instead of reading it from the store.")}return s}function v(e){if(typeof e!=="function"){throw new Error("Expected the listener to be a function.")}if(d){throw new Error("You may not call store.subscribe() while the reducer is executing. "+"If you would like to be notified after the store has been updated, subscribe from a "+"component and invoke store.getState() in the callback to access the latest state. "+"See https://redux.js.org/api-reference/store#subscribe(listener) for more details.")}var t=true;f();c.push(e);return function i(){if(!t){return}if(d){throw new Error("You may not unsubscribe from a store listener while the reducer is executing. "+"See https://redux.js.org/api-reference/store#subscribe(listener) for more details.")}t=false;f();var n=c.indexOf(e);c.splice(n,1)}}function m(e){if(!u(e)){throw new Error("Actions must be plain objects. "+"Use custom middleware for async actions.")}if(typeof e.type==="undefined"){throw new Error('Actions may not have an undefined "type" property. '+"Have you misspelled a constant?")}if(d){throw new Error("Reducers may not dispatch actions.")}try{d=true;s=r(s,e)}finally{d=false}var t=o=c;for(var i=0;i<t.length;i++){var n=t[i];n()}return e}function g(e){if(typeof e!=="function"){throw new Error("Expected the nextReducer to be a function.")}r=e;m({type:l.REPLACE})}function _(){var e;var t=v;return e={subscribe:function e(i){if(typeof i!=="object"||i===null){throw new TypeError("Expected the observer to be an object.")}function n(){if(i.next){i.next(p())}}n();var r=t(n);return{unsubscribe:r}}},e[a["a"]]=function(){return this},e}m({type:l.INIT});return n={dispatch:m,subscribe:v,getState:p,replaceReducer:g},n[a["a"]]=_,n}function d(e,t){var i=t&&t.type;var n=i&&'action "'+String(i)+'"'||"an action";return"Given "+n+', reducer "'+e+'" returned undefined. '+"To ignore an action, you must explicitly return the previous state. "+"If you want this reducer to hold no value, you can return null instead of undefined."}function f(e){Object.keys(e).forEach((function(t){var i=e[t];var n=i(undefined,{type:l.INIT});if(typeof n==="undefined"){throw new Error('Reducer "'+t+'" returned undefined during initialization. '+"If the state passed to the reducer is undefined, you must "+"explicitly return the initial state. The initial state may "+"not be undefined. If you don't want to set a value for this reducer, "+"you can use null instead of undefined.")}if(typeof i(undefined,{type:l.PROBE_UNKNOWN_ACTION()})==="undefined"){throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+l.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the "+"current state for any unknown actions, unless it is undefined, "+"in which case you must return the initial state, regardless of the "+"action type. The initial state may not be undefined, but can be null.")}}))}function p(e){var t=Object.keys(e);var i={};for(var n=0;n<t.length;n++){var r=t[n];if(typeof e[r]==="function"){i[r]=e[r]}}var s=Object.keys(i);var o;try{f(i)}catch(e){o=e}return function e(t,n){if(t===void 0){t={}}if(o){throw o}var r=false;var a={};for(var c=0;c<s.length;c++){var l=s[c];var u=i[l];var h=t[l];var f=u(h,n);if(typeof f==="undefined"){var p=d(l,n);throw new Error(p)}a[l]=f;r=r||f!==h}return r?a:t}}var v=[];function m(e,t){if(e===void 0){e=v}switch(t.type){case"ADD_ITEM":{var i=[].concat(e,[{id:t.id,choiceId:t.choiceId,groupId:t.groupId,value:t.value,label:t.label,active:true,highlighted:false,customProperties:t.customProperties,placeholder:t.placeholder||false,keyCode:null}]);return i.map((function(e){var t=e;t.highlighted=false;return t}))}case"REMOVE_ITEM":{return e.map((function(e){var i=e;if(i.id===t.id){i.active=false}return i}))}case"HIGHLIGHT_ITEM":{return e.map((function(e){var i=e;if(i.id===t.id){i.highlighted=t.highlighted}return i}))}default:{return e}}}var g=[];function _(e,t){if(e===void 0){e=g}switch(t.type){case"ADD_GROUP":{return[].concat(e,[{id:t.id,value:t.value,active:t.active,disabled:t.disabled}])}case"CLEAR_CHOICES":{return[]}default:{return e}}}var b=[];function y(e,t){if(e===void 0){e=b}switch(t.type){case"ADD_CHOICE":{return[].concat(e,[{id:t.id,elementId:t.elementId,groupId:t.groupId,value:t.value,label:t.label||t.value,disabled:t.disabled||false,selected:false,active:true,score:9999,customProperties:t.customProperties,placeholder:t.placeholder||false,keyCode:null}])}case"ADD_ITEM":{if(t.activateOptions){return e.map((function(e){var i=e;i.active=t.active;return i}))}if(t.choiceId>-1){return e.map((function(e){var i=e;if(i.id===parseInt(t.choiceId,10)){i.selected=true}return i}))}return e}case"REMOVE_ITEM":{if(t.choiceId>-1){return e.map((function(e){var i=e;if(i.id===parseInt(t.choiceId,10)){i.selected=false}return i}))}return e}case"FILTER_CHOICES":{return e.map((function(e){var i=e;i.active=t.results.some((function(e){var t=e.item,n=e.score;if(t.id===i.id){i.score=n;return true}return false}));return i}))}case"ACTIVATE_CHOICES":{return e.map((function(e){var i=e;i.active=t.active;return i}))}case"CLEAR_CHOICES":{return b}default:{return e}}}var E={loading:false};var w=function e(t,i){if(t===void 0){t=E}switch(i.type){case"SET_IS_LOADING":{return{loading:i.isLoading}}default:{return t}}};var I=w;var S=function e(t,i){return Math.floor(Math.random()*(i-t)+t)};var C=function e(t){return Array.from({length:t},(function(){return S(0,36).toString(36)})).join("")};var O=function e(t,i){var n=t.id||t.name&&t.name+"-"+C(2)||C(4);n=n.replace(/(:|\.|\[|\]|,)/g,"");n=i+"-"+n;return n};var A=function e(t){return Object.prototype.toString.call(t).slice(8,-1)};var x=function e(t,i){return i!==undefined&&i!==null&&A(i)===t};var T=function e(t,i){if(i===void 0){i=document.createElement("div")}if(t.nextSibling){t.parentNode.insertBefore(i,t.nextSibling)}else{t.parentNode.appendChild(i)}return i.appendChild(t)};var L=function e(t,i,n){if(n===void 0){n=1}if(!(t instanceof Element)||typeof i!=="string"){return undefined}var r=(n>0?"next":"previous")+"ElementSibling";var s=t[r];while(s){if(s.matches(i)){return s}s=s[r]}return s};var k=function e(t,i,n){if(n===void 0){n=1}if(!t){return false}var r;if(n>0){r=i.scrollTop+i.offsetHeight>=t.offsetTop+t.offsetHeight}else{r=t.offsetTop>=i.scrollTop}return r};var P=function e(t){if(typeof t!=="string"){return t}return t.replace(/&/g,"&amp;").replace(/>/g,"&rt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")};var D=function(){var e=document.createElement("div");return function(t){var i=t.trim();e.innerHTML=i;var n=e.children[0];while(e.firstChild){e.removeChild(e.firstChild)}return n}}();var M=function e(t,i){var n=t.value,r=t.label,s=r===void 0?n:r;var o=i.value,a=i.label,c=a===void 0?o:a;return s.localeCompare(c,[],{sensitivity:"base",ignorePunctuation:true,numeric:true})};var N=function e(t,i){return t.score-i.score};var j=function e(t,i,n){if(n===void 0){n=null}var r=new CustomEvent(i,{detail:n,bubbles:true,cancelable:true});return t.dispatchEvent(r)};var F=function e(t,i,n){if(n===void 0){n="value"}return t.some((function(e){if(typeof i==="string"){return e[n]===i.trim()}return e[n]===i}))};var K=function e(t){return JSON.parse(JSON.stringify(t))};var R=function e(t,i){var n=Object.keys(t).sort();var r=Object.keys(i).sort();return n.filter((function(e){return r.indexOf(e)<0}))};var H=p({items:m,groups:_,choices:y,general:I});var V=function e(t,i){var n=t;if(i.type==="CLEAR_ALL"){n=undefined}else if(i.type==="RESET_TO"){return K(i.state)}return H(n,i)};var B=V;function G(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function Y(e,t,i){if(t)G(e.prototype,t);if(i)G(e,i);return e}var q=function(){function e(){this._store=h(B,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())}var t=e.prototype;t.subscribe=function e(t){this._store.subscribe(t)};t.dispatch=function e(t){this._store.dispatch(t)};t.isLoading=function e(){return this.state.general.loading};t.getChoiceById=function e(t){return this.activeChoices.find((function(e){return e.id===parseInt(t,10)}))};t.getGroupById=function e(t){return this.groups.find((function(e){return e.id===t}))};Y(e,[{key:"state",get:function e(){return this._store.getState()}},{key:"items",get:function e(){return this.state.items}},{key:"activeItems",get:function e(){return this.items.filter((function(e){return e.active===true}))}},{key:"highlightedActiveItems",get:function e(){return this.items.filter((function(e){return e.active&&e.highlighted}))}},{key:"choices",get:function e(){return this.state.choices}},{key:"activeChoices",get:function e(){return this.choices.filter((function(e){return e.active===true}))}},{key:"selectableChoices",get:function e(){return this.choices.filter((function(e){return e.disabled!==true}))}},{key:"searchableChoices",get:function e(){return this.selectableChoices.filter((function(e){return e.placeholder!==true}))}},{key:"placeholderChoice",get:function e(){return[].concat(this.choices).reverse().find((function(e){return e.placeholder===true}))}},{key:"groups",get:function e(){return this.state.groups}},{key:"activeGroups",get:function e(){var t=this.groups,i=this.choices;return t.filter((function(e){var t=e.active===true&&e.disabled===false;var n=i.some((function(e){return e.active===true&&e.disabled===false}));return t&&n}),[])}}]);return e}();function U(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function z(e,t,i){if(t)U(e.prototype,t);if(i)U(e,i);return e}var W=function(){function e(e){var t=e.element,i=e.type,n=e.classNames;this.element=t;this.classNames=n;this.type=i;this.isActive=false}var t=e.prototype;t.getChild=function e(t){return this.element.querySelector(t)};t.show=function e(){this.element.classList.add(this.classNames.activeState);this.element.setAttribute("aria-expanded","true");this.isActive=true;return this};t.hide=function e(){this.element.classList.remove(this.classNames.activeState);this.element.setAttribute("aria-expanded","false");this.isActive=false;return this};z(e,[{key:"distanceFromTopWindow",get:function e(){return this.element.getBoundingClientRect().bottom}}]);return e}();var X={containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button",activeState:"is-active",focusState:"is-focused",openState:"is-open",disabledState:"is-disabled",highlightedState:"is-highlighted",selectedState:"is-selected",flippedState:"is-flipped",loadingState:"is-loading",noResults:"has-no-results",noChoices:"has-no-choices"};var $={items:[],choices:[],silent:false,renderChoiceLimit:-1,maxItemCount:-1,addItems:true,addItemFilter:null,removeItems:true,removeItemButton:false,editItems:false,duplicateItemsAllowed:true,delimiter:",",paste:true,searchEnabled:true,searchChoices:true,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:true,shouldSort:true,shouldSortItems:false,sorter:M,placeholder:true,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",uniqueItemText:"Only unique values can be added",customAddItemText:"Only values matching specific conditions can be added",addItemText:function e(t){return'Press Enter to add <b>"'+P(t)+'"</b>'},maxItemText:function e(t){return"Only "+t+" values can be added"},valueComparer:function e(t,i){return t===i},fuseOptions:{includeScore:true},callbackOnInit:null,callbackOnCreateTemplates:null,classNames:X};var J={showDropdown:"showDropdown",hideDropdown:"hideDropdown",change:"change",choice:"choice",search:"search",addItem:"addItem",removeItem:"removeItem",highlightItem:"highlightItem",highlightChoice:"highlightChoice"};var Z={ADD_CHOICE:"ADD_CHOICE",FILTER_CHOICES:"FILTER_CHOICES",ACTIVATE_CHOICES:"ACTIVATE_CHOICES",CLEAR_CHOICES:"CLEAR_CHOICES",ADD_GROUP:"ADD_GROUP",ADD_ITEM:"ADD_ITEM",REMOVE_ITEM:"REMOVE_ITEM",HIGHLIGHT_ITEM:"HIGHLIGHT_ITEM",CLEAR_ALL:"CLEAR_ALL"};var Q={BACK_KEY:46,DELETE_KEY:8,ENTER_KEY:13,A_KEY:65,ESC_KEY:27,UP_KEY:38,DOWN_KEY:40,PAGE_UP_KEY:33,PAGE_DOWN_KEY:34};var ee="text";var te="select-one";var ie="select-multiple";var ne=4;var re=function(){function e(e){var t=e.element,i=e.type,n=e.classNames,r=e.position;this.element=t;this.classNames=n;this.type=i;this.position=r;this.isOpen=false;this.isFlipped=false;this.isFocussed=false;this.isDisabled=false;this.isLoading=false;this._onFocus=this._onFocus.bind(this);this._onBlur=this._onBlur.bind(this)}var t=e.prototype;t.addEventListeners=function e(){this.element.addEventListener("focus",this._onFocus);this.element.addEventListener("blur",this._onBlur)};t.removeEventListeners=function e(){this.element.removeEventListener("focus",this._onFocus);this.element.removeEventListener("blur",this._onBlur)};t.shouldFlip=function e(t){if(typeof t!=="number"){return false}var e=false;if(this.position==="auto"){e=!window.matchMedia("(min-height: "+(t+1)+"px)").matches}else if(this.position==="top"){e=true}return e};t.setActiveDescendant=function e(t){this.element.setAttribute("aria-activedescendant",t)};t.removeActiveDescendant=function e(){this.element.removeAttribute("aria-activedescendant")};t.open=function e(t){this.element.classList.add(this.classNames.openState);this.element.setAttribute("aria-expanded","true");this.isOpen=true;if(this.shouldFlip(t)){this.element.classList.add(this.classNames.flippedState);this.isFlipped=true}};t.close=function e(){this.element.classList.remove(this.classNames.openState);this.element.setAttribute("aria-expanded","false");this.removeActiveDescendant();this.isOpen=false;if(this.isFlipped){this.element.classList.remove(this.classNames.flippedState);this.isFlipped=false}};t.focus=function e(){if(!this.isFocussed){this.element.focus()}};t.addFocusState=function e(){this.element.classList.add(this.classNames.focusState)};t.removeFocusState=function e(){this.element.classList.remove(this.classNames.focusState)};t.enable=function e(){this.element.classList.remove(this.classNames.disabledState);this.element.removeAttribute("aria-disabled");if(this.type===te){this.element.setAttribute("tabindex","0")}this.isDisabled=false};t.disable=function e(){this.element.classList.add(this.classNames.disabledState);this.element.setAttribute("aria-disabled","true");if(this.type===te){this.element.setAttribute("tabindex","-1")}this.isDisabled=true};t.wrap=function e(t){T(t,this.element)};t.unwrap=function e(t){this.element.parentNode.insertBefore(t,this.element);this.element.parentNode.removeChild(this.element)};t.addLoadingState=function e(){this.element.classList.add(this.classNames.loadingState);this.element.setAttribute("aria-busy","true");this.isLoading=true};t.removeLoadingState=function e(){this.element.classList.remove(this.classNames.loadingState);this.element.removeAttribute("aria-busy");this.isLoading=false};t._onFocus=function e(){this.isFocussed=true};t._onBlur=function e(){this.isFocussed=false};return e}();function se(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function oe(e,t,i){if(t)se(e.prototype,t);if(i)se(e,i);return e}var ae=function(){function e(e){var t=e.element,i=e.type,n=e.classNames,r=e.preventPaste;this.element=t;this.type=i;this.classNames=n;this.preventPaste=r;this.isFocussed=this.element===document.activeElement;this.isDisabled=t.disabled;this._onPaste=this._onPaste.bind(this);this._onInput=this._onInput.bind(this);this._onFocus=this._onFocus.bind(this);this._onBlur=this._onBlur.bind(this)}var t=e.prototype;t.addEventListeners=function e(){this.element.addEventListener("paste",this._onPaste);this.element.addEventListener("input",this._onInput,{passive:true});this.element.addEventListener("focus",this._onFocus,{passive:true});this.element.addEventListener("blur",this._onBlur,{passive:true})};t.removeEventListeners=function e(){this.element.removeEventListener("input",this._onInput,{passive:true});this.element.removeEventListener("paste",this._onPaste);this.element.removeEventListener("focus",this._onFocus,{passive:true});this.element.removeEventListener("blur",this._onBlur,{passive:true})};t.enable=function e(){this.element.removeAttribute("disabled");this.isDisabled=false};t.disable=function e(){this.element.setAttribute("disabled","");this.isDisabled=true};t.focus=function e(){if(!this.isFocussed){this.element.focus()}};t.blur=function e(){if(this.isFocussed){this.element.blur()}};t.clear=function e(t){if(t===void 0){t=true}if(this.element.value){this.element.value=""}if(t){this.setWidth()}return this};t.setWidth=function e(){var t=this.element,i=t.style,n=t.value,r=t.placeholder;i.minWidth=r.length+1+"ch";i.width=n.length+1+"ch"};t.setActiveDescendant=function e(t){this.element.setAttribute("aria-activedescendant",t)};t.removeActiveDescendant=function e(){this.element.removeAttribute("aria-activedescendant")};t._onInput=function e(){if(this.type!==te){this.setWidth()}};t._onPaste=function e(t){if(this.preventPaste){t.preventDefault()}};t._onFocus=function e(){this.isFocussed=true};t._onBlur=function e(){this.isFocussed=false};oe(e,[{key:"placeholder",set:function e(t){this.element.placeholder=t}},{key:"value",get:function e(){return P(this.element.value)},set:function e(t){this.element.value=t}}]);return e}();var ce=function(){function e(e){var t=e.element;this.element=t;this.scrollPos=this.element.scrollTop;this.height=this.element.offsetHeight}var t=e.prototype;t.clear=function e(){this.element.innerHTML=""};t.append=function e(t){this.element.appendChild(t)};t.getChild=function e(t){return this.element.querySelector(t)};t.hasChildren=function e(){return this.element.hasChildNodes()};t.scrollToTop=function e(){this.element.scrollTop=0};t.scrollToChildElement=function e(t,i){var n=this;if(!t){return}var r=this.element.offsetHeight;var s=this.element.scrollTop+r;var o=t.offsetHeight;var a=t.offsetTop+o;var c=i>0?this.element.scrollTop+a-s:t.offsetTop;requestAnimationFrame((function(){n._animateScroll(c,i)}))};t._scrollDown=function e(t,i,n){var r=(n-t)/i;var s=r>1?r:1;this.element.scrollTop=t+s};t._scrollUp=function e(t,i,n){var r=(t-n)/i;var s=r>1?r:1;this.element.scrollTop=t-s};t._animateScroll=function e(t,i){var n=this;var r=ne;var s=this.element.scrollTop;var o=false;if(i>0){this._scrollDown(s,r,t);if(s<t){o=true}}else{this._scrollUp(s,r,t);if(s>t){o=true}}if(o){requestAnimationFrame((function(){n._animateScroll(t,i)}))}};return e}();function le(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function ue(e,t,i){if(t)le(e.prototype,t);if(i)le(e,i);return e}var he=function(){function e(e){var t=e.element,i=e.classNames;this.element=t;this.classNames=i;if(!(t instanceof HTMLInputElement)&&!(t instanceof HTMLSelectElement)){throw new TypeError("Invalid element passed")}this.isDisabled=false}var t=e.prototype;t.conceal=function e(){this.element.classList.add(this.classNames.input);this.element.hidden=true;this.element.tabIndex=-1;var t=this.element.getAttribute("style");if(t){this.element.setAttribute("data-choice-orig-style",t)}this.element.setAttribute("data-choice","active")};t.reveal=function e(){this.element.classList.remove(this.classNames.input);this.element.hidden=false;this.element.removeAttribute("tabindex");var t=this.element.getAttribute("data-choice-orig-style");if(t){this.element.removeAttribute("data-choice-orig-style");this.element.setAttribute("style",t)}else{this.element.removeAttribute("style")}this.element.removeAttribute("data-choice");this.element.value=this.element.value};t.enable=function e(){this.element.removeAttribute("disabled");this.element.disabled=false;this.isDisabled=false};t.disable=function e(){this.element.setAttribute("disabled","");this.element.disabled=true;this.isDisabled=true};t.triggerEvent=function e(t,i){j(this.element,t,i)};ue(e,[{key:"isActive",get:function e(){return this.element.dataset.choice==="active"}},{key:"dir",get:function e(){return this.element.dir}},{key:"value",get:function e(){return this.element.value},set:function e(t){this.element.value=t}}]);return e}();function de(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function fe(e,t,i){if(t)de(e.prototype,t);if(i)de(e,i);return e}function pe(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}var ve=function(e){pe(t,e);function t(t){var i;var n=t.element,r=t.classNames,s=t.delimiter;i=e.call(this,{element:n,classNames:r})||this;i.delimiter=s;return i}fe(t,[{key:"value",get:function e(){return this.element.value},set:function e(t){var i=t.map((function(e){var t=e.value;return t}));var n=i.join(this.delimiter);this.element.setAttribute("value",n);this.element.value=n}}]);return t}(he);function me(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function ge(e,t,i){if(t)me(e.prototype,t);if(i)me(e,i);return e}function _e(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}var be=function(e){_e(t,e);function t(t){var i;var n=t.element,r=t.classNames,s=t.template;i=e.call(this,{element:n,classNames:r})||this;i.template=s;return i}var i=t.prototype;i.appendDocFragment=function e(t){this.element.innerHTML="";this.element.appendChild(t)};ge(t,[{key:"placeholderOption",get:function e(){return this.element.querySelector('option[value=""]')||this.element.querySelector("option[placeholder]")}},{key:"optionGroups",get:function e(){return Array.from(this.element.getElementsByTagName("OPTGROUP"))}},{key:"options",get:function e(){return Array.from(this.element.options)},set:function e(t){var i=this;var n=document.createDocumentFragment();var r=function e(t){var r=i.template(t);n.appendChild(r)};t.forEach((function(e){return r(e)}));this.appendDocFragment(n)}}]);return t}(he);var ye={containerOuter:function e(t,i,n,r,s,o){var a=t.containerOuter;var c=Object.assign(document.createElement("div"),{className:a});c.dataset.type=o;if(i){c.dir=i}if(r){c.tabIndex=0}if(n){c.setAttribute("role",s?"combobox":"listbox");if(s){c.setAttribute("aria-autocomplete","list")}}c.setAttribute("aria-haspopup","true");c.setAttribute("aria-expanded","false");return c},containerInner:function e(t){var i=t.containerInner;return Object.assign(document.createElement("div"),{className:i})},itemList:function e(t,i){var n=t.list,r=t.listSingle,s=t.listItems;return Object.assign(document.createElement("div"),{className:n+" "+(i?r:s)})},placeholder:function e(t,i){var n=t.placeholder;return Object.assign(document.createElement("div"),{className:n,innerHTML:i})},item:function e(t,i,n){var r=t.item,s=t.button,o=t.highlightedState,a=t.itemSelectable,c=t.placeholder;var l=i.id,u=i.value,h=i.label,d=i.customProperties,f=i.active,p=i.disabled,v=i.highlighted,m=i.placeholder;var g=Object.assign(document.createElement("div"),{className:r,innerHTML:h});Object.assign(g.dataset,{item:"",id:l,value:u,customProperties:d});if(f){g.setAttribute("aria-selected","true")}if(p){g.setAttribute("aria-disabled","true")}if(m){g.classList.add(c)}g.classList.add(v?o:a);if(n){if(p){g.classList.remove(a)}g.dataset.deletable="";var _="Remove item";var b=Object.assign(document.createElement("button"),{type:"button",className:s,innerHTML:_});b.setAttribute("aria-label",_+": '"+u+"'");b.dataset.button="";g.appendChild(b)}return g},choiceList:function e(t,i){var n=t.list;var r=Object.assign(document.createElement("div"),{className:n});if(!i){r.setAttribute("aria-multiselectable","true")}r.setAttribute("role","listbox");return r},choiceGroup:function e(t,i){var n=t.group,r=t.groupHeading,s=t.itemDisabled;var o=i.id,a=i.value,c=i.disabled;var l=Object.assign(document.createElement("div"),{className:n+" "+(c?s:"")});l.setAttribute("role","group");Object.assign(l.dataset,{group:"",id:o,value:a});if(c){l.setAttribute("aria-disabled","true")}l.appendChild(Object.assign(document.createElement("div"),{className:r,innerHTML:a}));return l},choice:function e(t,i,n){var r=t.item,s=t.itemChoice,o=t.itemSelectable,a=t.selectedState,c=t.itemDisabled,l=t.placeholder;var u=i.id,h=i.value,d=i.label,f=i.groupId,p=i.elementId,v=i.disabled,m=i.selected,g=i.placeholder;var _=Object.assign(document.createElement("div"),{id:p,innerHTML:d,className:r+" "+s});if(m){_.classList.add(a)}if(g){_.classList.add(l)}_.setAttribute("role",f>0?"treeitem":"option");Object.assign(_.dataset,{choice:"",id:u,value:h,selectText:n});if(v){_.classList.add(c);_.dataset.choiceDisabled="";_.setAttribute("aria-disabled","true")}else{_.classList.add(o);_.dataset.choiceSelectable=""}return _},input:function e(t,i){var n=t.input,r=t.inputCloned;var s=Object.assign(document.createElement("input"),{type:"text",className:n+" "+r,autocomplete:"off",autocapitalize:"off",spellcheck:false});s.setAttribute("role","textbox");s.setAttribute("aria-autocomplete","list");s.setAttribute("aria-label",i);return s},dropdown:function e(t){var i=t.list,n=t.listDropdown;var r=document.createElement("div");r.classList.add(i,n);r.setAttribute("aria-expanded","false");return r},notice:function e(t,i,n){var r=t.item,s=t.itemChoice,o=t.noResults,a=t.noChoices;if(n===void 0){n=""}var c=[r,s];if(n==="no-choices"){c.push(a)}else if(n==="no-results"){c.push(o)}return Object.assign(document.createElement("div"),{innerHTML:i,className:c.join(" ")})},option:function e(t){var i=t.label,n=t.value,r=t.customProperties,s=t.active,o=t.disabled;var a=new Option(i,n,false,s);if(r){a.dataset.customProperties=r}a.disabled=o;return a}};var Ee=function e(t){var i=t.value,n=t.label,r=t.id,s=t.groupId,o=t.disabled,a=t.elementId,c=t.customProperties,l=t.placeholder,u=t.keyCode;return{type:Z.ADD_CHOICE,value:i,label:n,id:r,groupId:s,disabled:o,elementId:a,customProperties:c,placeholder:l,keyCode:u}};var we=function e(t){return{type:Z.FILTER_CHOICES,results:t}};var Ie=function e(t){if(t===void 0){t=true}return{type:Z.ACTIVATE_CHOICES,active:t}};var Se=function e(){return{type:Z.CLEAR_CHOICES}};var Ce=function e(t){var i=t.value,n=t.label,r=t.id,s=t.choiceId,o=t.groupId,a=t.customProperties,c=t.placeholder,l=t.keyCode;return{type:Z.ADD_ITEM,value:i,label:n,id:r,choiceId:s,groupId:o,customProperties:a,placeholder:c,keyCode:l}};var Oe=function e(t,i){return{type:Z.REMOVE_ITEM,id:t,choiceId:i}};var Ae=function e(t,i){return{type:Z.HIGHLIGHT_ITEM,id:t,highlighted:i}};var xe=function e(t){var i=t.value,n=t.id,r=t.active,s=t.disabled;return{type:Z.ADD_GROUP,value:i,id:n,active:r,disabled:s}};var Te=function e(){return{type:"CLEAR_ALL"}};var Le=function e(t){return{type:"RESET_TO",state:t}};var ke=function e(t){return{type:"SET_IS_LOADING",isLoading:t}};function Pe(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function De(e,t,i){if(t)Pe(e.prototype,t);if(i)Pe(e,i);return e}var Me="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style;var Ne={};var je=function(){De(e,null,[{key:"defaults",get:function e(){return Object.preventExtensions({get options(){return Ne},get templates(){return ye}})}}]);function e(t,i){var n=this;if(t===void 0){t="[data-choice]"}if(i===void 0){i={}}this.config=o.a.all([$,e.defaults.options,i],{arrayMerge:function e(t,i){return[].concat(i)}});var r=R(this.config,$);if(r.length){console.warn("Unknown config option(s) passed",r.join(", "))}var s=typeof t==="string"?document.querySelector(t):t;if(!(s instanceof HTMLInputElement||s instanceof HTMLSelectElement)){throw TypeError("Expected one of the following types text|select-one|select-multiple")}this._isTextElement=s.type===ee;this._isSelectOneElement=s.type===te;this._isSelectMultipleElement=s.type===ie;this._isSelectElement=this._isSelectOneElement||this._isSelectMultipleElement;this.config.searchEnabled=this._isSelectMultipleElement||this.config.searchEnabled;if(!["auto","always"].includes(this.config.renderSelectedChoices)){this.config.renderSelectedChoices="auto"}if(i.addItemFilter&&typeof i.addItemFilter!=="function"){var a=i.addItemFilter instanceof RegExp?i.addItemFilter:new RegExp(i.addItemFilter);this.config.addItemFilter=a.test.bind(a)}if(this._isTextElement){this.passedElement=new ve({element:s,classNames:this.config.classNames,delimiter:this.config.delimiter})}else{this.passedElement=new be({element:s,classNames:this.config.classNames,template:function e(t){return n._templates.option(t)}})}this.initialised=false;this._store=new q;this._initialState={};this._currentState={};this._prevState={};this._currentValue="";this._canSearch=this.config.searchEnabled;this._isScrollingOnIe=false;this._highlightPosition=0;this._wasTap=true;this._placeholderValue=this._generatePlaceholderValue();this._baseId=O(this.passedElement.element,"choices-");this._direction=this.passedElement.dir;if(!this._direction){var c=window.getComputedStyle(this.passedElement.element),l=c.direction;var u=window.getComputedStyle(document.documentElement),h=u.direction;if(l!==h){this._direction=l}}this._idNames={itemChoice:"item-choice"};this._presetGroups=this.passedElement.optionGroups;this._presetOptions=this.passedElement.options;this._presetChoices=this.config.choices;this._presetItems=this.config.items;if(this.passedElement.value){this._presetItems=this._presetItems.concat(this.passedElement.value.split(this.config.delimiter))}if(this.passedElement.options){this.passedElement.options.forEach((function(e){n._presetChoices.push({value:e.value,label:e.innerHTML,selected:e.selected,disabled:e.disabled||e.parentNode.disabled,placeholder:e.value===""||e.hasAttribute("placeholder"),customProperties:e.getAttribute("data-custom-properties")})}))}this._render=this._render.bind(this);this._onFocus=this._onFocus.bind(this);this._onBlur=this._onBlur.bind(this);this._onKeyUp=this._onKeyUp.bind(this);this._onKeyDown=this._onKeyDown.bind(this);this._onClick=this._onClick.bind(this);this._onTouchMove=this._onTouchMove.bind(this);this._onTouchEnd=this._onTouchEnd.bind(this);this._onMouseDown=this._onMouseDown.bind(this);this._onMouseOver=this._onMouseOver.bind(this);this._onFormReset=this._onFormReset.bind(this);this._onAKey=this._onAKey.bind(this);this._onEnterKey=this._onEnterKey.bind(this);this._onEscapeKey=this._onEscapeKey.bind(this);this._onDirectionKey=this._onDirectionKey.bind(this);this._onDeleteKey=this._onDeleteKey.bind(this);if(this.passedElement.isActive){if(!this.config.silent){console.warn("Trying to initialise Choices on element already initialised")}this.initialised=true;return}this.init()}var t=e.prototype;t.init=function e(){if(this.initialised){return}this._createTemplates();this._createElements();this._createStructure();this._initialState=K(this._store.state);this._store.subscribe(this._render);this._render();this._addEventListeners();var t=!this.config.addItems||this.passedElement.element.hasAttribute("disabled");if(t){this.disable()}this.initialised=true;var i=this.config.callbackOnInit;if(i&&typeof i==="function"){i.call(this)}};t.destroy=function e(){if(!this.initialised){return}this._removeEventListeners();this.passedElement.reveal();this.containerOuter.unwrap(this.passedElement.element);this.clearStore();if(this._isSelectElement){this.passedElement.options=this._presetOptions}this._templates=null;this.initialised=false};t.enable=function e(){if(this.passedElement.isDisabled){this.passedElement.enable()}if(this.containerOuter.isDisabled){this._addEventListeners();this.input.enable();this.containerOuter.enable()}return this};t.disable=function e(){if(!this.passedElement.isDisabled){this.passedElement.disable()}if(!this.containerOuter.isDisabled){this._removeEventListeners();this.input.disable();this.containerOuter.disable()}return this};t.highlightItem=function e(t,i){if(i===void 0){i=true}if(!t){return this}var n=t.id,r=t.groupId,s=r===void 0?-1:r,o=t.value,a=o===void 0?"":o,c=t.label,l=c===void 0?"":c;var u=s>=0?this._store.getGroupById(s):null;this._store.dispatch(Ae(n,true));if(i){this.passedElement.triggerEvent(J.highlightItem,{id:n,value:a,label:l,groupValue:u&&u.value?u.value:null})}return this};t.unhighlightItem=function e(t){if(!t){return this}var i=t.id,n=t.groupId,r=n===void 0?-1:n,s=t.value,o=s===void 0?"":s,a=t.label,c=a===void 0?"":a;var l=r>=0?this._store.getGroupById(r):null;this._store.dispatch(Ae(i,false));this.passedElement.triggerEvent(J.highlightItem,{id:i,value:o,label:c,groupValue:l&&l.value?l.value:null});return this};t.highlightAll=function e(){var t=this;this._store.items.forEach((function(e){return t.highlightItem(e)}));return this};t.unhighlightAll=function e(){var t=this;this._store.items.forEach((function(e){return t.unhighlightItem(e)}));return this};t.removeActiveItemsByValue=function e(t){var i=this;this._store.activeItems.filter((function(e){return e.value===t})).forEach((function(e){return i._removeItem(e)}));return this};t.removeActiveItems=function e(t){var i=this;this._store.activeItems.filter((function(e){var i=e.id;return i!==t})).forEach((function(e){return i._removeItem(e)}));return this};t.removeHighlightedItems=function e(t){var i=this;if(t===void 0){t=false}this._store.highlightedActiveItems.forEach((function(e){i._removeItem(e);if(t){i._triggerChange(e.value)}}));return this};t.showDropdown=function e(t){var i=this;if(this.dropdown.isActive){return this}requestAnimationFrame((function(){i.dropdown.show();i.containerOuter.open(i.dropdown.distanceFromTopWindow);if(!t&&i._canSearch){i.input.focus()}i.passedElement.triggerEvent(J.showDropdown,{})}));return this};t.hideDropdown=function e(t){var i=this;if(!this.dropdown.isActive){return this}requestAnimationFrame((function(){i.dropdown.hide();i.containerOuter.close();if(!t&&i._canSearch){i.input.removeActiveDescendant();i.input.blur()}i.passedElement.triggerEvent(J.hideDropdown,{})}));return this};t.getValue=function e(t){if(t===void 0){t=false}var i=this._store.activeItems.reduce((function(e,i){var n=t?i.value:i;e.push(n);return e}),[]);return this._isSelectOneElement?i[0]:i};t.setValue=function e(t){var i=this;if(!this.initialised){return this}t.forEach((function(e){return i._setChoiceOrItem(e)}));return this};t.setChoiceByValue=function e(t){var i=this;if(!this.initialised||this._isTextElement){return this}var n=Array.isArray(t)?t:[t];n.forEach((function(e){return i._findAndSelectChoiceByValue(e)}));return this};t.setChoices=function e(t,i,n,r){var s=this;if(t===void 0){t=[]}if(i===void 0){i="value"}if(n===void 0){n="label"}if(r===void 0){r=false}if(!this.initialised){throw new ReferenceError("setChoices was called on a non-initialized instance of Choices")}if(!this._isSelectElement){throw new TypeError("setChoices can't be used with INPUT based Choices")}if(typeof i!=="string"||!i){throw new TypeError("value parameter must be a name of 'value' field in passed objects")}if(r){this.clearChoices()}if(typeof t==="function"){var o=t(this);if(typeof Promise==="function"&&o instanceof Promise){return new Promise((function(e){return requestAnimationFrame(e)})).then((function(){return s._handleLoadingState(true)})).then((function(){return o})).then((function(e){return s.setChoices(e,i,n,r)})).catch((function(e){if(!s.config.silent){console.error(e)}})).then((function(){return s._handleLoadingState(false)})).then((function(){return s}))}if(!Array.isArray(o)){throw new TypeError(".setChoices first argument function must return either array of choices or Promise, got: "+typeof o)}return this.setChoices(o,i,n,false)}if(!Array.isArray(t)){throw new TypeError(".setChoices must be called either with array of choices with a function resulting into Promise of array of choices")}this.containerOuter.removeLoadingState();this._startLoading();t.forEach((function(e){if(e.choices){s._addGroup({id:parseInt(e.id,10)||null,group:e,valueKey:i,labelKey:n})}else{s._addChoice({value:e[i],label:e[n],isSelected:e.selected,isDisabled:e.disabled,customProperties:e.customProperties,placeholder:e.placeholder})}}));this._stopLoading();return this};t.clearChoices=function e(){this._store.dispatch(Se());return this};t.clearStore=function e(){this._store.dispatch(Te());return this};t.clearInput=function e(){var t=!this._isSelectOneElement;this.input.clear(t);if(!this._isTextElement&&this._canSearch){this._isSearching=false;this._store.dispatch(Ie(true))}return this};t._render=function e(){if(this._store.isLoading()){return}this._currentState=this._store.state;var t=this._currentState.choices!==this._prevState.choices||this._currentState.groups!==this._prevState.groups||this._currentState.items!==this._prevState.items;var i=this._isSelectElement;var n=this._currentState.items!==this._prevState.items;if(!t){return}if(i){this._renderChoices()}if(n){this._renderItems()}this._prevState=this._currentState};t._renderChoices=function e(){var t=this;var i=this._store,n=i.activeGroups,r=i.activeChoices;var s=document.createDocumentFragment();this.choiceList.clear();if(this.config.resetScrollPosition){requestAnimationFrame((function(){return t.choiceList.scrollToTop()}))}if(n.length>=1&&!this._isSearching){var o=r.filter((function(e){return e.placeholder===true&&e.groupId===-1}));if(o.length>=1){s=this._createChoicesFragment(o,s)}s=this._createGroupsFragment(n,r,s)}else if(r.length>=1){s=this._createChoicesFragment(r,s)}if(s.childNodes&&s.childNodes.length>0){var a=this._store.activeItems;var c=this._canAddItem(a,this.input.value);if(c.response){this.choiceList.append(s);this._highlightChoice()}else{this.choiceList.append(this._getTemplate("notice",c.notice))}}else{var l;var u;if(this._isSearching){u=typeof this.config.noResultsText==="function"?this.config.noResultsText():this.config.noResultsText;l=this._getTemplate("notice",u,"no-results")}else{u=typeof this.config.noChoicesText==="function"?this.config.noChoicesText():this.config.noChoicesText;l=this._getTemplate("notice",u,"no-choices")}this.choiceList.append(l)}};t._renderItems=function e(){var t=this._store.activeItems||[];this.itemList.clear();var i=this._createItemsFragment(t);if(i.childNodes){this.itemList.append(i)}};t._createGroupsFragment=function e(t,i,n){var r=this;if(n===void 0){n=document.createDocumentFragment()}var s=function e(t){return i.filter((function(e){if(r._isSelectOneElement){return e.groupId===t.id}return e.groupId===t.id&&(r.config.renderSelectedChoices==="always"||!e.selected)}))};if(this.config.shouldSort){t.sort(this.config.sorter)}t.forEach((function(e){var t=s(e);if(t.length>=1){var i=r._getTemplate("choiceGroup",e);n.appendChild(i);r._createChoicesFragment(t,n,true)}}));return n};t._createChoicesFragment=function e(t,i,n){var r=this;if(i===void 0){i=document.createDocumentFragment()}if(n===void 0){n=false}var s=this.config,o=s.renderSelectedChoices,a=s.searchResultLimit,c=s.renderChoiceLimit;var l=this._isSearching?N:this.config.sorter;var u=function e(t){var n=o==="auto"?r._isSelectOneElement||!t.selected:true;if(n){var s=r._getTemplate("choice",t,r.config.itemSelectText);i.appendChild(s)}};var h=t;if(o==="auto"&&!this._isSelectOneElement){h=t.filter((function(e){return!e.selected}))}var d=h.reduce((function(e,t){if(t.placeholder){e.placeholderChoices.push(t)}else{e.normalChoices.push(t)}return e}),{placeholderChoices:[],normalChoices:[]}),f=d.placeholderChoices,p=d.normalChoices;if(this.config.shouldSort||this._isSearching){p.sort(l)}var v=h.length;var m=this._isSelectOneElement?[].concat(f,p):p;if(this._isSearching){v=a}else if(c&&c>0&&!n){v=c}for(var g=0;g<v;g+=1){if(m[g]){u(m[g])}}return i};t._createItemsFragment=function e(t,i){var n=this;if(i===void 0){i=document.createDocumentFragment()}var r=this.config,s=r.shouldSortItems,o=r.sorter,a=r.removeItemButton;if(s&&!this._isSelectOneElement){t.sort(o)}if(this._isTextElement){this.passedElement.value=t}else{this.passedElement.options=t}var c=function e(t){var r=n._getTemplate("item",t,a);i.appendChild(r)};t.forEach(c);return i};t._triggerChange=function e(t){if(t===undefined||t===null){return}this.passedElement.triggerEvent(J.change,{value:t})};t._selectPlaceholderChoice=function e(){var t=this._store.placeholderChoice;if(t){this._addItem({value:t.value,label:t.label,choiceId:t.id,groupId:t.groupId,placeholder:t.placeholder});this._triggerChange(t.value)}};t._handleButtonAction=function e(t,i){if(!t||!i||!this.config.removeItems||!this.config.removeItemButton){return}var n=i.parentNode.getAttribute("data-id");var r=t.find((function(e){return e.id===parseInt(n,10)}));this._removeItem(r);this._triggerChange(r.value);if(this._isSelectOneElement){this._selectPlaceholderChoice()}};t._handleItemAction=function e(t,i,n){var r=this;if(n===void 0){n=false}if(!t||!i||!this.config.removeItems||this._isSelectOneElement){return}var s=i.getAttribute("data-id");t.forEach((function(e){if(e.id===parseInt(s,10)&&!e.highlighted){r.highlightItem(e)}else if(!n&&e.highlighted){r.unhighlightItem(e)}}));this.input.focus()};t._handleChoiceAction=function e(t,i){if(!t||!i){return}var n=i.dataset.id;var r=this._store.getChoiceById(n);if(!r){return}var s=t[0]&&t[0].keyCode?t[0].keyCode:null;var o=this.dropdown.isActive;r.keyCode=s;this.passedElement.triggerEvent(J.choice,{choice:r});if(!r.selected&&!r.disabled){var a=this._canAddItem(t,r.value);if(a.response){this._addItem({value:r.value,label:r.label,choiceId:r.id,groupId:r.groupId,customProperties:r.customProperties,placeholder:r.placeholder,keyCode:r.keyCode});this._triggerChange(r.value)}}this.clearInput();if(o&&this._isSelectOneElement){this.hideDropdown(true);this.containerOuter.focus()}};t._handleBackspace=function e(t){if(!this.config.removeItems||!t){return}var i=t[t.length-1];var n=t.some((function(e){return e.highlighted}));if(this.config.editItems&&!n&&i){this.input.value=i.value;this.input.setWidth();this._removeItem(i);this._triggerChange(i.value)}else{if(!n){this.highlightItem(i,false)}this.removeHighlightedItems(true)}};t._startLoading=function e(){this._store.dispatch(ke(true))};t._stopLoading=function e(){this._store.dispatch(ke(false))};t._handleLoadingState=function e(t){if(t===void 0){t=true}var i=this.itemList.getChild("."+this.config.classNames.placeholder);if(t){this.disable();this.containerOuter.addLoadingState();if(this._isSelectOneElement){if(!i){i=this._getTemplate("placeholder",this.config.loadingText);this.itemList.append(i)}else{i.innerHTML=this.config.loadingText}}else{this.input.placeholder=this.config.loadingText}}else{this.enable();this.containerOuter.removeLoadingState();if(this._isSelectOneElement){i.innerHTML=this._placeholderValue||""}else{this.input.placeholder=this._placeholderValue||""}}};t._handleSearch=function e(t){if(!t||!this.input.isFocussed){return}var i=this._store.choices;var n=this.config,r=n.searchFloor,s=n.searchChoices;var o=i.some((function(e){return!e.active}));if(t&&t.length>=r){var a=s?this._searchChoices(t):0;this.passedElement.triggerEvent(J.search,{value:t,resultCount:a})}else if(o){this._isSearching=false;this._store.dispatch(Ie(true))}};t._canAddItem=function e(t,i){var n=true;var r=typeof this.config.addItemText==="function"?this.config.addItemText(i):this.config.addItemText;if(!this._isSelectOneElement){var s=F(t,i);if(this.config.maxItemCount>0&&this.config.maxItemCount<=t.length){n=false;r=typeof this.config.maxItemText==="function"?this.config.maxItemText(this.config.maxItemCount):this.config.maxItemText}if(!this.config.duplicateItemsAllowed&&s&&n){n=false;r=typeof this.config.uniqueItemText==="function"?this.config.uniqueItemText(i):this.config.uniqueItemText}if(this._isTextElement&&this.config.addItems&&n&&typeof this.config.addItemFilter==="function"&&!this.config.addItemFilter(i)){n=false;r=typeof this.config.customAddItemText==="function"?this.config.customAddItemText(i):this.config.customAddItemText}}return{response:n,notice:r}};t._searchChoices=function e(t){var i=typeof t==="string"?t.trim():t;var n=typeof this._currentValue==="string"?this._currentValue.trim():this._currentValue;if(i.length<1&&i===n+" "){return 0}var s=this._store.searchableChoices;var o=i;var a=[].concat(this.config.searchFields);var c=Object.assign(this.config.fuseOptions,{keys:a});var l=new r.a(s,c);var u=l.search(o);this._currentValue=i;this._highlightPosition=0;this._isSearching=true;this._store.dispatch(we(u));return u.length};t._addEventListeners=function e(){var t=document,i=t.documentElement;i.addEventListener("touchend",this._onTouchEnd,true);this.containerOuter.element.addEventListener("keydown",this._onKeyDown,true);this.containerOuter.element.addEventListener("mousedown",this._onMouseDown,true);i.addEventListener("click",this._onClick,{passive:true});i.addEventListener("touchmove",this._onTouchMove,{passive:true});this.dropdown.element.addEventListener("mouseover",this._onMouseOver,{passive:true});if(this._isSelectOneElement){this.containerOuter.element.addEventListener("focus",this._onFocus,{passive:true});this.containerOuter.element.addEventListener("blur",this._onBlur,{passive:true})}this.input.element.addEventListener("keyup",this._onKeyUp,{passive:true});this.input.element.addEventListener("focus",this._onFocus,{passive:true});this.input.element.addEventListener("blur",this._onBlur,{passive:true});if(this.input.element.form){this.input.element.form.addEventListener("reset",this._onFormReset,{passive:true})}this.input.addEventListeners()};t._removeEventListeners=function e(){var t=document,i=t.documentElement;i.removeEventListener("touchend",this._onTouchEnd,true);this.containerOuter.element.removeEventListener("keydown",this._onKeyDown,true);this.containerOuter.element.removeEventListener("mousedown",this._onMouseDown,true);i.removeEventListener("click",this._onClick);i.removeEventListener("touchmove",this._onTouchMove);this.dropdown.element.removeEventListener("mouseover",this._onMouseOver);if(this._isSelectOneElement){this.containerOuter.element.removeEventListener("focus",this._onFocus);this.containerOuter.element.removeEventListener("blur",this._onBlur)}this.input.element.removeEventListener("keyup",this._onKeyUp);this.input.element.removeEventListener("focus",this._onFocus);this.input.element.removeEventListener("blur",this._onBlur);if(this.input.element.form){this.input.element.form.removeEventListener("reset",this._onFormReset)}this.input.removeEventListeners()};t._onKeyDown=function e(t){var i;var n=t.target,r=t.keyCode,s=t.ctrlKey,o=t.metaKey;var a=this._store.activeItems;var c=this.input.isFocussed;var l=this.dropdown.isActive;var u=this.itemList.hasChildren();var h=String.fromCharCode(r);var d=Q.BACK_KEY,f=Q.DELETE_KEY,p=Q.ENTER_KEY,v=Q.A_KEY,m=Q.ESC_KEY,g=Q.UP_KEY,_=Q.DOWN_KEY,b=Q.PAGE_UP_KEY,y=Q.PAGE_DOWN_KEY;var E=s||o;if(!this._isTextElement&&/[a-zA-Z0-9-_ ]/.test(h)){this.showDropdown()}var w=(i={},i[v]=this._onAKey,i[p]=this._onEnterKey,i[m]=this._onEscapeKey,i[g]=this._onDirectionKey,i[b]=this._onDirectionKey,i[_]=this._onDirectionKey,i[y]=this._onDirectionKey,i[f]=this._onDeleteKey,i[d]=this._onDeleteKey,i);if(w[r]){w[r]({event:t,target:n,keyCode:r,metaKey:o,activeItems:a,hasFocusedInput:c,hasActiveDropdown:l,hasItems:u,hasCtrlDownKeyPressed:E})}};t._onKeyUp=function e(t){var i=t.target,n=t.keyCode;var r=this.input.value;var s=this._store.activeItems;var o=this._canAddItem(s,r);var a=Q.BACK_KEY,c=Q.DELETE_KEY;if(this._isTextElement){var l=o.notice&&r;if(l){var u=this._getTemplate("notice",o.notice);this.dropdown.element.innerHTML=u.outerHTML;this.showDropdown(true)}else{this.hideDropdown(true)}}else{var h=(n===a||n===c)&&!i.value;var d=!this._isTextElement&&this._isSearching;var f=this._canSearch&&o.response;if(h&&d){this._isSearching=false;this._store.dispatch(Ie(true))}else if(f){this._handleSearch(this.input.value)}}this._canSearch=this.config.searchEnabled};t._onAKey=function e(t){var i=t.hasItems,n=t.hasCtrlDownKeyPressed;if(n&&i){this._canSearch=false;var r=this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement;if(r){this.highlightAll()}}};t._onEnterKey=function e(t){var i=t.event,n=t.target,r=t.activeItems,s=t.hasActiveDropdown;var o=Q.ENTER_KEY;var a=n.hasAttribute("data-button");if(this._isTextElement&&n.value){var c=this.input.value;var l=this._canAddItem(r,c);if(l.response){this.hideDropdown(true);this._addItem({value:c});this._triggerChange(c);this.clearInput()}}if(a){this._handleButtonAction(r,n);i.preventDefault()}if(s){var u=this.dropdown.getChild("."+this.config.classNames.highlightedState);if(u){if(r[0]){r[0].keyCode=o}this._handleChoiceAction(r,u)}i.preventDefault()}else if(this._isSelectOneElement){this.showDropdown();i.preventDefault()}};t._onEscapeKey=function e(t){var i=t.hasActiveDropdown;if(i){this.hideDropdown(true);this.containerOuter.focus()}};t._onDirectionKey=function e(t){var i=t.event,n=t.hasActiveDropdown,r=t.keyCode,s=t.metaKey;var o=Q.DOWN_KEY,a=Q.PAGE_UP_KEY,c=Q.PAGE_DOWN_KEY;if(n||this._isSelectOneElement){this.showDropdown();this._canSearch=false;var l=r===o||r===c?1:-1;var u=s||r===c||r===a;var h="[data-choice-selectable]";var d;if(u){if(l>0){d=this.dropdown.element.querySelector(h+":last-of-type")}else{d=this.dropdown.element.querySelector(h)}}else{var f=this.dropdown.element.querySelector("."+this.config.classNames.highlightedState);if(f){d=L(f,h,l)}else{d=this.dropdown.element.querySelector(h)}}if(d){if(!k(d,this.choiceList.element,l)){this.choiceList.scrollToChildElement(d,l)}this._highlightChoice(d)}i.preventDefault()}};t._onDeleteKey=function e(t){var i=t.event,n=t.target,r=t.hasFocusedInput,s=t.activeItems;if(r&&!n.value&&!this._isSelectOneElement){this._handleBackspace(s);i.preventDefault()}};t._onTouchMove=function e(){if(this._wasTap){this._wasTap=false}};t._onTouchEnd=function e(t){var i=t||t.touches[0],n=i.target;var r=this._wasTap&&this.containerOuter.element.contains(n);if(r){var s=n===this.containerOuter.element||n===this.containerInner.element;if(s){if(this._isTextElement){this.input.focus()}else if(this._isSelectMultipleElement){this.showDropdown()}}t.stopPropagation()}this._wasTap=true};t._onMouseDown=function e(t){var i=t.target;if(!(i instanceof HTMLElement)){return}if(Me&&this.choiceList.element.contains(i)){var n=this.choiceList.element.firstElementChild;var r=this._direction==="ltr"?t.offsetX>=n.offsetWidth:t.offsetX<n.offsetLeft;this._isScrollingOnIe=r}if(i===this.input.element){return}var s=i.closest("[data-button],[data-item],[data-choice]");if(s instanceof HTMLElement){var o=t.shiftKey;var a=this._store.activeItems;var c=s.dataset;if("button"in c){this._handleButtonAction(a,s)}else if("item"in c){this._handleItemAction(a,s,o)}else if("choice"in c){this._handleChoiceAction(a,s)}}t.preventDefault()};t._onMouseOver=function e(t){var i=t.target;if(i instanceof HTMLElement&&"choice"in i.dataset){this._highlightChoice(i)}};t._onClick=function e(t){var i=t.target;var n=this.containerOuter.element.contains(i);if(n){if(!this.dropdown.isActive&&!this.containerOuter.isDisabled){if(this._isTextElement){if(document.activeElement!==this.input.element){this.input.focus()}}else{this.showDropdown();this.containerOuter.focus()}}else if(this._isSelectOneElement&&i!==this.input.element&&!this.dropdown.element.contains(i)){this.hideDropdown()}}else{var r=this._store.highlightedActiveItems.length>0;if(r){this.unhighlightAll()}this.containerOuter.removeFocusState();this.hideDropdown(true)}};t._onFocus=function e(t){var i=this,n;var r=t.target;var s=this.containerOuter.element.contains(r);if(!s){return}var o=(n={},n[ee]=function(){if(r===i.input.element){i.containerOuter.addFocusState()}},n[te]=function(){i.containerOuter.addFocusState();if(r===i.input.element){i.showDropdown(true)}},n[ie]=function(){if(r===i.input.element){i.showDropdown(true);i.containerOuter.addFocusState()}},n);o[this.passedElement.element.type]()};t._onBlur=function e(t){var i=this;var n=t.target;var r=this.containerOuter.element.contains(n);if(r&&!this._isScrollingOnIe){var s;var o=this._store.activeItems;var a=o.some((function(e){return e.highlighted}));var c=(s={},s[ee]=function(){if(n===i.input.element){i.containerOuter.removeFocusState();if(a){i.unhighlightAll()}i.hideDropdown(true)}},s[te]=function(){i.containerOuter.removeFocusState();if(n===i.input.element||n===i.containerOuter.element&&!i._canSearch){i.hideDropdown(true)}},s[ie]=function(){if(n===i.input.element){i.containerOuter.removeFocusState();i.hideDropdown(true);if(a){i.unhighlightAll()}}},s);c[this.passedElement.element.type]()}else{this._isScrollingOnIe=false;this.input.element.focus()}};t._onFormReset=function e(){this._store.dispatch(Le(this._initialState))};t._highlightChoice=function e(t){var i=this;if(t===void 0){t=null}var n=Array.from(this.dropdown.element.querySelectorAll("[data-choice-selectable]"));if(!n.length){return}var r=t;var s=Array.from(this.dropdown.element.querySelectorAll("."+this.config.classNames.highlightedState));s.forEach((function(e){e.classList.remove(i.config.classNames.highlightedState);e.setAttribute("aria-selected","false")}));if(r){this._highlightPosition=n.indexOf(r)}else{if(n.length>this._highlightPosition){r=n[this._highlightPosition]}else{r=n[n.length-1]}if(!r){r=n[0]}}r.classList.add(this.config.classNames.highlightedState);r.setAttribute("aria-selected","true");this.passedElement.triggerEvent(J.highlightChoice,{el:r});if(this.dropdown.isActive){this.input.setActiveDescendant(r.id);this.containerOuter.setActiveDescendant(r.id)}};t._addItem=function e(t){var i=t.value,n=t.label,r=n===void 0?null:n,s=t.choiceId,o=s===void 0?-1:s,a=t.groupId,c=a===void 0?-1:a,l=t.customProperties,u=l===void 0?null:l,h=t.placeholder,d=h===void 0?false:h,f=t.keyCode,p=f===void 0?null:f;var v=typeof i==="string"?i.trim():i;var m=p;var g=u;var _=this._store.items;var b=r||v;var y=o||-1;var E=c>=0?this._store.getGroupById(c):null;var w=_?_.length+1:1;if(this.config.prependValue){v=this.config.prependValue+v.toString()}if(this.config.appendValue){v+=this.config.appendValue.toString()}this._store.dispatch(Ce({value:v,label:b,id:w,choiceId:y,groupId:c,customProperties:u,placeholder:d,keyCode:m}));if(this._isSelectOneElement){this.removeActiveItems(w)}this.passedElement.triggerEvent(J.addItem,{id:w,value:v,label:b,customProperties:g,groupValue:E&&E.value?E.value:undefined,keyCode:m});return this};t._removeItem=function e(t){if(!t||!x("Object",t)){return this}var i=t.id,n=t.value,r=t.label,s=t.choiceId,o=t.groupId;var a=o>=0?this._store.getGroupById(o):null;this._store.dispatch(Oe(i,s));if(a&&a.value){this.passedElement.triggerEvent(J.removeItem,{id:i,value:n,label:r,groupValue:a.value})}else{this.passedElement.triggerEvent(J.removeItem,{id:i,value:n,label:r})}return this};t._addChoice=function e(t){var i=t.value,n=t.label,r=n===void 0?null:n,s=t.isSelected,o=s===void 0?false:s,a=t.isDisabled,c=a===void 0?false:a,l=t.groupId,u=l===void 0?-1:l,h=t.customProperties,d=h===void 0?null:h,f=t.placeholder,p=f===void 0?false:f,v=t.keyCode,m=v===void 0?null:v;if(typeof i==="undefined"||i===null){return}var g=this._store.choices;var _=r||i;var b=g?g.length+1:1;var y=this._baseId+"-"+this._idNames.itemChoice+"-"+b;this._store.dispatch(Ee({id:b,groupId:u,elementId:y,value:i,label:_,disabled:c,customProperties:d,placeholder:p,keyCode:m}));if(o){this._addItem({value:i,label:_,choiceId:b,customProperties:d,placeholder:p,keyCode:m})}};t._addGroup=function e(t){var i=this;var n=t.group,r=t.id,s=t.valueKey,o=s===void 0?"value":s,a=t.labelKey,c=a===void 0?"label":a;var l=x("Object",n)?n.choices:Array.from(n.getElementsByTagName("OPTION"));var u=r||Math.floor((new Date).valueOf()*Math.random());var h=n.disabled?n.disabled:false;if(l){this._store.dispatch(xe({value:n.label,id:u,active:true,disabled:h}));var d=function e(t){var n=t.disabled||t.parentNode&&t.parentNode.disabled;i._addChoice({value:t[o],label:x("Object",t)?t[c]:t.innerHTML,isSelected:t.selected,isDisabled:n,groupId:u,customProperties:t.customProperties,placeholder:t.placeholder})};l.forEach(d)}else{this._store.dispatch(xe({value:n.label,id:n.id,active:false,disabled:n.disabled}))}};t._getTemplate=function e(t){var i;if(!t){return null}var n=this.config.classNames;for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++){s[o-1]=arguments[o]}return(i=this._templates[t]).call.apply(i,[this,n].concat(s))};t._createTemplates=function e(){var t=this.config.callbackOnCreateTemplates;var i={};if(t&&typeof t==="function"){i=t.call(this,D)}this._templates=o()(ye,i)};t._createElements=function e(){this.containerOuter=new re({element:this._getTemplate("containerOuter",this._direction,this._isSelectElement,this._isSelectOneElement,this.config.searchEnabled,this.passedElement.element.type),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position});this.containerInner=new re({element:this._getTemplate("containerInner"),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position});this.input=new ae({element:this._getTemplate("input",this._placeholderValue),classNames:this.config.classNames,type:this.passedElement.element.type,preventPaste:!this.config.paste});this.choiceList=new ce({element:this._getTemplate("choiceList",this._isSelectOneElement)});this.itemList=new ce({element:this._getTemplate("itemList",this._isSelectOneElement)});this.dropdown=new W({element:this._getTemplate("dropdown"),classNames:this.config.classNames,type:this.passedElement.element.type})};t._createStructure=function e(){this.passedElement.conceal();this.containerInner.wrap(this.passedElement.element);this.containerOuter.wrap(this.containerInner.element);if(this._isSelectOneElement){this.input.placeholder=this.config.searchPlaceholderValue||""}else if(this._placeholderValue){this.input.placeholder=this._placeholderValue;this.input.setWidth()}this.containerOuter.element.appendChild(this.containerInner.element);this.containerOuter.element.appendChild(this.dropdown.element);this.containerInner.element.appendChild(this.itemList.element);if(!this._isTextElement){this.dropdown.element.appendChild(this.choiceList.element)}if(!this._isSelectOneElement){this.containerInner.element.appendChild(this.input.element)}else if(this.config.searchEnabled){this.dropdown.element.insertBefore(this.input.element,this.dropdown.element.firstChild)}if(this._isSelectElement){this._highlightPosition=0;this._isSearching=false;this._startLoading();if(this._presetGroups.length){this._addPredefinedGroups(this._presetGroups)}else{this._addPredefinedChoices(this._presetChoices)}this._stopLoading()}if(this._isTextElement){this._addPredefinedItems(this._presetItems)}};t._addPredefinedGroups=function e(t){var i=this;var n=this.passedElement.placeholderOption;if(n&&n.parentNode.tagName==="SELECT"){this._addChoice({value:n.value,label:n.innerHTML,isSelected:n.selected,isDisabled:n.disabled,placeholder:true})}t.forEach((function(e){return i._addGroup({group:e,id:e.id||null})}))};t._addPredefinedChoices=function e(t){var i=this;if(this.config.shouldSort){t.sort(this.config.sorter)}var n=t.some((function(e){return e.selected}));var r=t.findIndex((function(e){return e.disabled===undefined||!e.disabled}));t.forEach((function(e,t){var s=e.value,o=e.label,a=e.customProperties,c=e.placeholder;if(i._isSelectElement){if(e.choices){i._addGroup({group:e,id:e.id||null})}else{var l=i._isSelectOneElement&&!n&&t===r;var u=l?true:e.selected;var h=e.disabled;i._addChoice({value:s,label:o,isSelected:u,isDisabled:h,customProperties:a,placeholder:c})}}else{i._addChoice({value:s,label:o,isSelected:e.selected,isDisabled:e.disabled,customProperties:a,placeholder:c})}}))};t._addPredefinedItems=function e(t){var i=this;t.forEach((function(e){if(typeof e==="object"&&e.value){i._addItem({value:e.value,label:e.label,choiceId:e.id,customProperties:e.customProperties,placeholder:e.placeholder})}if(typeof e==="string"){i._addItem({value:e})}}))};t._setChoiceOrItem=function e(t){var i=this;var n=A(t).toLowerCase();var r={object:function e(){if(!t.value){return}if(!i._isTextElement){i._addChoice({value:t.value,label:t.label,isSelected:true,isDisabled:false,customProperties:t.customProperties,placeholder:t.placeholder})}else{i._addItem({value:t.value,label:t.label,choiceId:t.id,customProperties:t.customProperties,placeholder:t.placeholder})}},string:function e(){if(!i._isTextElement){i._addChoice({value:t,label:t,isSelected:true,isDisabled:false})}else{i._addItem({value:t})}}};r[n]()};t._findAndSelectChoiceByValue=function e(t){var i=this;var n=this._store.choices;var r=n.find((function(e){return i.config.valueComparer(e.value,t)}));if(r&&!r.selected){this._addItem({value:r.value,label:r.label,choiceId:r.id,groupId:r.groupId,customProperties:r.customProperties,placeholder:r.placeholder,keyCode:r.keyCode})}};t._generatePlaceholderValue=function e(){if(this._isSelectElement){var t=this.passedElement.placeholderOption;return t?t.text:false}var i=this.config,n=i.placeholder,r=i.placeholderValue;var s=this.passedElement.element.dataset;if(n){if(r){return r}if(s.placeholder){return s.placeholder}}return false};return e}();var Fe=t["default"]=je}])["default"]}))}));var u=o(l);var h=".choices{display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;height:100%}.drawer-viewport{padding-top:30px}.choices-inner{display:none}.choices-list-dropdown{height:100%;overflow-y:auto;padding-bottom:var(--safe-area-bottom)}.choices-search-enabled .choices-list-dropdown{margin-top:42px}.choices-input{top:0;right:calc(var(--bkkr-spacer) / 2);left:calc(var(--bkkr-spacer) / 2);border-radius:8px;padding-left:32px;padding-right:32px;padding-top:0;padding-bottom:0;display:inline-block;position:absolute;width:calc(100% - var(--bkkr-spacer));max-width:100%;min-height:32px;margin-bottom:5px;border:0;background-color:#f0f0f0;vertical-align:baseline;z-index:10}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.choices-input{padding-left:unset;padding-right:unset;-webkit-padding-start:32px;padding-inline-start:32px;-webkit-padding-end:32px;padding-inline-end:32px}}.choices-searchbar-icons{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;min-width:32px;min-height:32px;z-index:15}.search-icon{top:30px;left:calc(var(--bkkr-spacer) / 2);pointer-events:none}.close-icon{top:30px;right:calc(var(--bkkr-spacer) / 2);cursor:pointer}.choices-item{padding-left:10px;padding-right:10px;padding-top:10px;padding-bottom:10px;position:relative;font-size:14px;cursor:pointer}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.choices-item{padding-left:unset;padding-right:unset;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px}}.choices-item.is-highlighted{background-color:#eee}";var d=e("bkkr_select_choices",function(){function e(e){var n=this;t(this,e);this.bkkrSelectDidLoad=i(this,"bkkrSelectDidLoad",7);this.didInit=false;this.choicesReady=false;this.choicesId="bkkr-sel-"+f++;this.choices=new Promise((function(e){n.readyChoices=e}));this.multiple=false;this.name=this.choicesId;this.search=true;this.interfaceOptions={};this.options=[]}e.prototype.interfaceOptionsChanged=function(){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(t){switch(t.label){case 0:if(!this.choicesReady)return[3,3];return[4,this.getChoices()];case 1:e=t.sent();Object.assign(e.params,this.interfaceOptions);return[4,this.update()];case 2:t.sent();t.label=3;case 3:return[2]}}))}))};e.prototype.onSelect=function(e){console.log(e);var t=this.options.find((function(t){return t.value===e.target.value}));if(t){t.handler()}};e.prototype.connectedCallback=function(){var e=this;if(typeof MutationObserver!=="undefined"){var t=this.mutationO=new MutationObserver((function(){if(e.choicesReady){e.update()}console.log("mutation")}));t.observe(this.el,{childList:true,subtree:true});this.el.componentOnReady().then((function(){if(!e.didInit){e.didInit=true;e.initChoices()}}))}};e.prototype.disconnectedCallback=function(){var e=this;if(this.mutationO){this.mutationO.disconnect();this.mutationO=undefined}var t=this.syncChoices;if(t!==undefined){t.destroy();this.choices=new Promise((function(t){e.readyChoices=t}));this.choicesReady=false;this.syncChoices=undefined}};e.prototype.highlightItem=function(e,t){return __awaiter(this,void 0,void 0,(function(){var i;return __generator(this,(function(n){switch(n.label){case 0:return[4,Promise.all([this.getChoices()])];case 1:i=n.sent()[0];i.highlightItem(e,t);return[2,this]}}))}))};e.prototype.unhighlightItem=function(e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.getChoices()])];case 1:t=i.sent()[0];t.unhighlightItem(e);return[2,this]}}))}))};e.prototype.highlightAll=function(){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(t){switch(t.label){case 0:return[4,Promise.all([this.getChoices()])];case 1:e=t.sent()[0];e.highlightAll();return[2,this]}}))}))};e.prototype.unhighlightAll=function(){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(t){switch(t.label){case 0:return[4,Promise.all([this.getChoices()])];case 1:e=t.sent()[0];e.unhighlightAll();return[2,this]}}))}))};e.prototype.removeActiveItemsByValue=function(e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.getChoices()])];case 1:t=i.sent()[0];t.removeActiveItemsByValue(e);return[2,this]}}))}))};e.prototype.removeActiveItems=function(e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.getChoices()])];case 1:t=i.sent()[0];t.removeActiveItems(e);return[2,this]}}))}))};e.prototype.removeHighlightedItems=function(e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.getChoices()])];case 1:t=i.sent()[0];t.removeHighlightedItems(e);return[2,this]}}))}))};e.prototype.showDropdown=function(e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.getChoices()])];case 1:t=i.sent()[0];t.showDropdown(e);return[2,this]}}))}))};e.prototype.hideDropdown=function(e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.getChoices()])];case 1:t=i.sent()[0];t.hideDropdown(e);return[2,this]}}))}))};e.prototype.getValue=function(e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.getChoices()])];case 1:t=i.sent()[0];return[2,t.getValue(e)]}}))}))};e.prototype.setValue=function(e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.getChoices()])];case 1:t=i.sent()[0];t.setValue(e);return[2,this]}}))}))};e.prototype.setChoiceByValue=function(e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.getChoices()])];case 1:t=i.sent()[0];t.setChoiceByValue(e);return[2,this]}}))}))};e.prototype.setChoices=function(e,t,i,n){return __awaiter(this,void 0,void 0,(function(){var r;return __generator(this,(function(s){switch(s.label){case 0:return[4,Promise.all([this.getChoices()])];case 1:r=s.sent()[0];r.setChoices(e,t,i,n);return[2,this]}}))}))};e.prototype.clearChoices=function(){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(t){switch(t.label){case 0:return[4,Promise.all([this.getChoices()])];case 1:e=t.sent()[0];e.clearChoices();return[2,this]}}))}))};e.prototype.clearStore=function(){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(t){switch(t.label){case 0:return[4,Promise.all([this.getChoices()])];case 1:e=t.sent()[0];e.clearStore();return[2,this]}}))}))};e.prototype.clearInput=function(){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(t){switch(t.label){case 0:return[4,Promise.all([this.getChoices()])];case 1:e=t.sent()[0];e.clearInput();return[2,this]}}))}))};e.prototype.enable=function(){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(t){switch(t.label){case 0:return[4,Promise.all([this.getChoices()])];case 1:e=t.sent()[0];e.enable();return[2,this]}}))}))};e.prototype.disable=function(){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(t){switch(t.label){case 0:return[4,Promise.all([this.getChoices()])];case 1:e=t.sent()[0];e.disable();return[2,this]}}))}))};e.prototype.ajax=function(e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.getChoices()])];case 1:t=i.sent()[0];t.ajax(e);return[2,this]}}))}))};e.prototype.update=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){return[2]}))}))};e.prototype.getChoices=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){return[2,this.choices]}))}))};e.prototype.initChoices=function(){return __awaiter(this,void 0,void 0,(function(){var e,t,i;return __generator(this,(function(n){e=this;t=this.normalizeOptions();i=new u(this.el.querySelector("select"),t);this.el.addEventListener("change",(function(t){var i=e.options.find((function(e){return e.value===t.target.value}));if(i){i.handler()}}),false);this.choicesReady=true;this.syncChoices=i;this.readyChoices(i);return[2]}))}))};e.prototype.normalizeOptions=function(){var e=this;var t={silent:false,items:[],choices:this.options,renderChoiceLimit:-1,maxItemCount:-1,addItems:true,addItemFilter:null,removeItems:true,removeItemButton:false,editItems:false,duplicateItemsAllowed:true,delimiter:",",paste:true,searchEnabled:this.search,searchChoices:true,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:true,shouldSort:true,shouldSortItems:false,sorter:function(e,t){return t.label.length-e.label.length},placeholder:true,placeholderValue:null,searchPlaceholderValue:"Type something...",prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",addItemText:function(e){return'Press Enter to add <b>"'+e+'"</b>'},maxItemText:function(e){return"Only "+e+" values can be added"},valueComparer:function(e,t){return e===t}};var i={callbackOnInit:function(){setTimeout((function(){e.bkkrSelectDidLoad.emit()}),20)}};var n={classNames:{containerOuter:"choices",containerInner:"choices-inner",input:"choices-input",inputCloned:"choices-input-cloned",list:"choices-list",listItems:"choices-list-multiple",listSingle:"choices-list-single",listDropdown:"choices-list-dropdown",item:"choices-item",itemSelectable:"choices-item-selectable",itemDisabled:"choices-item-disabled",itemChoice:"choices-item-choice",placeholder:"choices-placeholder",group:"choices-group",groupHeading:"choices-heading",button:"choices-button",activeState:"is-active",focusState:"is-focused",openState:"is-open",disabledState:"is-disabled",highlightedState:"is-highlighted",selectedState:"is-selected",flippedState:"is-flipped",loadingState:"is-loading",noResults:"has-no-results",noChoices:"has-no-choices"}};return Object.assign(Object.assign(Object.assign(Object.assign({},t),this.interfaceOptions),n),i)};e.prototype.close=function(){console.log("TODO: close()");return false};e.prototype.render=function(){var e=this;var t=this,i=t.multiple,s=t.name,o=t.search;return n(r,{class:{"choices-container":true,"choices-search-enabled":o&&!i}},n("select",{part:"native",multiple:i,name:s,class:"native-select"}),o&&!i&&n("div",{class:"choices-searchbar-icons search-icon"},n("bkkr-icon",{name:"search"})),o&&!i&&n("div",{class:"choices-searchbar-icons close-icon"},n("bkkr-icon",{name:"times",onClick:function(){return e.close()}})))};Object.defineProperty(e.prototype,"el",{get:function(){return s(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{interfaceOptions:["interfaceOptionsChanged"]}},enumerable:false,configurable:true});return e}());var f=0;d.style=h}}}));