/*!
 * (C) BKKR Framework https://bkkr-team.github.io/bkkr-docs/ - MIT License
 */
import{b as t}from"./p-e7c3cb65.js";import{g as e,a as r,r as a,b as o,c as i,d as s}from"./p-bf8dbf30.js";import{c as n,O as l}from"./p-e4c83805.js";import{a as d,r as c,c as h,f as p,h as b,H as k,g as u}from"./p-fef964f0.js";import{createGesture as m}from"./p-b4206503.js";import{g as v,s as g}from"./p-18201c80.js";import{C as f,a as w,d as x}from"./p-b3cf3a9e.js";import{e as y}from"./p-31c5d132.js";import{g as D}from"./p-87969847.js";import{i as z}from"./p-5ab02a77.js";import{s as C}from"./p-464a016b.js";const P=(t,e,r,a=400)=>{const o=n().addElement(t.querySelector("bkkr-backdrop")).fromTo("opacity",0,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i=n().addElement(t.querySelectorAll(".alert-wrapper, .alert-shadow")).beforeStyles({opacity:1});switch(e){case"top":i.fromTo("transform","translate3d(0, -200%, 0)","translate3d(0, 0, 0)");break;default:i.fromTo("transform","translate3d(0, 200%, 0)","translate3d(0, 0, 0)")}const s=n().addElement(t).easing("cubic-bezier(0.32,0.72,0,1)").duration(a).addAnimation(i);if(r){const t=n().beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"});t.addElement(r),s.addAnimation(t)}return s.addAnimation(o),s},j=(t,e,r,a=400)=>{const o=n().addElement(t.querySelector("bkkr-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i=n().addElement(t.querySelectorAll(".alert-wrapper, .alert-shadow")).beforeStyles({opacity:1});switch(e){case"top":i.fromTo("transform","translate3d(0, 0, 0)","translate3d(0, -200%, 0)");break;default:i.fromTo("transform","translate3d(0, 0, 0)","translate3d(0, 200%, 0)")}const s=n().addElement(t).easing("cubic-bezier(0.32,0.72,0,1)").duration(a).addAnimation(i);if(r){const t=n().beforeClearStyles(["transform"]).afterClearStyles(["transform"]).onFinish((t=>{1===t&&r.style.setProperty("overflow","")}));s.addAnimation(t)}return s.addAnimation(o),s};let T=class{constructor(t){c(this,t),this.didPresent=h(this,"alertDidPresent",7),this.willPresent=h(this,"alertWillPresent",7),this.willDismiss=h(this,"alertWillDismiss",7),this.didDismiss=h(this,"alertDidDismiss",7),this.processedInputs=[],this.processedButtons=[],this.presented=!1,this.keyboardClose=!0,this.buttons=[],this.inputs=[],this.backdropDismiss=!0,this.animated=!0,this.position="bottom",this.onBackdropTap=()=>{this.dismiss(void 0,Bt)},this.dispatchCancelHandler=t=>{if(At(t.detail.role)){const t=this.processedButtons.find((t=>"cancel"===t.role));this.callButtonHandler(t)}}}onKeydown(t){if(!new Set(this.processedInputs.map((t=>t.type))).has("radio")||t.target&&!this.el.contains(t.target)||t.target.classList.contains("alert-button"))return;const e=this.el.querySelectorAll(".alert-radio"),r=Array.from(e).filter((t=>!t.disabled)),a=r.findIndex((e=>e.id===t.target.id));let o;if(["ArrowDown","ArrowRight"].includes(t.code)&&(o=a===r.length-1?r[0]:r[a+1]),["ArrowUp","ArrowLeft"].includes(t.code)&&(o=0===a?r[r.length-1]:r[a-1]),o&&r.includes(o)){const t=this.processedInputs.find((t=>t.id===(null==o?void 0:o.id)));t&&(this.rbClick(t),o.focus())}}buttonsChanged(){this.processedButtons=this.buttons.map((t=>"string"==typeof t?{text:t,role:"cancel"===t.toLowerCase()?"cancel":void 0}:t))}inputsChanged(){const t=this.inputs,e=t.find((t=>!t.disabled)),r=t.find((t=>t.checked&&!t.disabled))||e,a=new Set(t.map((t=>t.type)));a.has("checkbox")&&a.has("radio")&&console.warn(`Alert cannot mix input types: ${Array.from(a.values()).join("/")}. Please see alert docs for more info.`),this.inputType=a.values().next().value,this.processedInputs=t.map(((t,e)=>({type:t.type||"text",name:t.name||`${e}`,placeholder:t.placeholder||"",value:t.value,label:t.label,checked:!!t.checked,disabled:!!t.disabled,id:t.id||`alert-input-${this.overlayIndex}-${e}`,handler:t.handler,min:t.min,max:t.max,cssClass:t.cssClass||"",attributes:t.attributes||{},tabindex:"radio"===t.type&&t!==r?-1:0})))}connectedCallback(){kt(this.el)}componentWillLoad(){this.inputsChanged(),this.buttonsChanged()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}componentDidLoad(){!this.gesture&&this.wrapperEl&&(this.gesture=(()=>{let t,e;const r=(e,r)=>{if("undefined"==typeof document)return;const i=document.elementFromPoint(e,r);i&&i.classList.contains("alert-button")?i!==t&&(o(),a(i)):o()},a=r=>{t=r,e||(e=t);const a=t;d((()=>a.classList.add("state-activated")))},o=(r=!1)=>{if(!t)return;const a=t;d((()=>a.classList.remove("state-activated"))),r&&e!==t&&t.click(),t=void 0};return m({el:this.wrapperEl,gestureName:"buttonActiveDrag",threshold:0,onStart:t=>r(t.currentX,t.currentY),onMove:t=>r(t.currentX,t.currentY),onEnd:()=>{o(!0),e=void 0}})})(),this.gesture.enable(!0))}present(){return Pt(this,"alertEnter",P,this.position)}dismiss(t,e){return Tt(this,t,e,"alertLeave",j,this.position)}onDidDismiss(){return $t(this.el,"alertDidDismiss")}onWillDismiss(){return $t(this.el,"alertWillDismiss")}rbClick(t){for(const e of this.processedInputs)e.checked=e===t,e.tabindex=e===t?0:-1;this.activeId=t.id,t.handler&&t.handler(t),p(this)}cbClick(t){t.checked=!t.checked,t.handler&&t.handler(t),p(this)}buttonClick(t){const e=t.role,r=this.getValues();if(At(e))return this.dismiss({values:r},e);const a=this.callButtonHandler(t,r);return!1!==a?this.dismiss(Object.assign({values:r},a),t.role):Promise.resolve(!1)}callButtonHandler(t,e){if(t&&t.handler){const r=t.handler(e);if(!1===r)return!1;if("object"==typeof r)return r}return{}}getValues(){if(0===this.processedInputs.length)return;if("radio"===this.inputType){const t=this.processedInputs.find((t=>!!t.checked));return t?t.value:void 0}if("checkbox"===this.inputType)return this.processedInputs.filter((t=>t.checked)).map((t=>t.value));const t={};return this.processedInputs.forEach((e=>{t[e.name]=e.value||""})),t}renderAlertInputs(){switch(this.inputType){case"checkbox":return this.renderCheckbox();case"radio":return this.renderRadio();default:return this.renderInput()}}renderCheckbox(){const t=this.processedInputs;return 0===t.length?null:b("div",{class:"alert-checkbox-group"},t.map((t=>b("button",{type:"button",onClick:()=>this.cbClick(t),"aria-checked":`${t.checked}`,id:t.id,disabled:t.disabled,tabIndex:t.tabindex,role:"checkbox",class:Object.assign(Object.assign({},v(t.cssClass)),{"state-tappable":!0,"alert-checkbox":!0,"alert-checkbox-button":!0,"state-focusable":!0,"alert-checkbox-button-disabled":t.disabled||!1})},b("div",{class:"alert-button-inner"},b("div",{class:"alert-checkbox-icon"},b("div",{class:"alert-checkbox-inner"})),b("div",{class:"alert-checkbox-label"},t.label))))))}renderRadio(){const t=this.processedInputs;return 0===t.length?null:b("div",{class:"alert-radio-group",role:"radiogroup","aria-activedescendant":this.activeId},t.map((t=>b("button",{type:"button",onClick:()=>this.rbClick(t),"aria-checked":`${t.checked}`,disabled:t.disabled,id:t.id,tabIndex:t.tabindex,class:Object.assign(Object.assign({},v(t.cssClass)),{"alert-radio-button":!0,"state-tappable":!0,"alert-radio":!0,"state-focusable":!0,"alert-radio-button-disabled":t.disabled||!1}),role:"radio"},b("div",{class:"alert-button-inner"},b("div",{class:"alert-radio-icon"},b("div",{class:"alert-radio-inner"})),b("div",{class:"alert-radio-label"},t.label))))))}renderInput(){const t=this.processedInputs;return 0===t.length?null:b("div",{class:"alert-input-group"},t.map((t=>{var e,r,a,o;return b("div",{class:"alert-input-wrapper"},"textarea"===t.type?b("textarea",Object.assign({placeholder:t.placeholder,value:t.value,id:t.id,tabIndex:t.tabindex},t.attributes,{disabled:null!==(r=null===(e=t.attributes)||void 0===e?void 0:e.disabled)&&void 0!==r?r:t.disabled,class:W(t),onInput:e=>{var r;t.value=e.target.value,(null===(r=t.attributes)||void 0===r?void 0:r.onInput)&&t.attributes.onInput(e)}})):b("input",Object.assign({placeholder:t.placeholder,type:t.type,min:t.min,max:t.max,value:t.value,id:t.id,tabIndex:t.tabindex},t.attributes,{disabled:null!==(o=null===(a=t.attributes)||void 0===a?void 0:a.disabled)&&void 0!==o?o:t.disabled,class:W(t),onInput:e=>{var r;t.value=e.target.value,(null===(r=t.attributes)||void 0===r?void 0:r.onInput)&&t.attributes.onInput(e)}})))})))}renderAlertButtons(){const t=this.processedButtons;return b("div",{class:{"alert-button-group":!0,"alert-button-group-vertical":t.length>2}},t.map((t=>b("button",{type:"button",class:O(t),tabIndex:0,onClick:()=>this.buttonClick(t)},b("span",{class:"alert-button-inner"},t.text)))))}render(){const{overlayIndex:t,header:e,subHeader:r,position:a,htmlAttributes:o}=this,i=`alert-${t}-hdr`,s=`alert-${t}-sub-hdr`,n=`alert-${t}-msg`;return b(k,Object.assign({role:(null==o?void 0:o.role)||(this.inputs.length>0||this.buttons.length>0?"alertdialog":"alert"),"aria-modal":"true",tabindex:"-1",style:{zIndex:`${2e4+t}`},class:Object.assign(Object.assign({},v(this.cssClass)),{[`alert-${a}`]:!0,"overlay-hidden":!0}),onBkkrAlertWillDismiss:this.dispatchCancelHandler,onBkkrBackdropTap:this.onBackdropTap},o),b("bkkr-backdrop",{tappable:this.backdropDismiss}),b("div",{tabindex:"0"}),b("div",{class:"alert-wrapper bkkr-overlay-wrapper",ref:t=>this.wrapperEl=t},b("div",{class:"alert-head"},e&&b("h2",{id:i,class:"alert-title"},e),r&&b("h2",{id:s,class:"alert-sub-title"},r)),b("div",{id:n,class:"alert-message",innerHTML:C(this.message)}),this.renderAlertInputs(),this.renderAlertButtons()),b("div",{tabindex:"0"}))}get el(){return u(this)}static get watchers(){return{buttons:["buttonsChanged"],inputs:["inputsChanged"]}}};const W=t=>{var e,r,a;return Object.assign(Object.assign({"alert-input":!0,"alert-input-disabled":(null!==(r=null===(e=t.attributes)||void 0===e?void 0:e.disabled)&&void 0!==r?r:t.disabled)||!1},v(t.cssClass)),v(t.attributes?null===(a=t.attributes.class)||void 0===a?void 0:a.toString():""))},O=t=>Object.assign({"alert-button":!0,"state-focusable":!0,"state-activatable":!0,[`alert-button-role-${t.role}`]:void 0!==t.role},v(t.cssClass));T.style=".sc-bkkr-alert-h{--min-width:auto;--width:calc(100% - var(--bkkr-spacer, 16px));--min-height:auto;--height:auto;--max-height:90%;--background:var(--bkkr-overlay-background, var(--bkkr-background-color, #fff));--box-shadow:0 15px 25px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.1), 0 6px 20px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.12), 0 13.2px 40px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.08);--max-width:720px;--backdrop-opacity:var(--bkkr-backdrop-opacity, 0.3);--margin-top:calc(var(--safe-area-top) + 8px);--margin-bottom:calc(var(--safe-area-bottom) + 8px);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;top:0;right:0;bottom:0;left:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:end;align-items:flex-end;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--bkkr-font-family);font-size:0.9rem;contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-bkkr-alert-h{display:none}.alert-wrapper.sc-bkkr-alert{border-radius:32px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:content;opacity:0;overflow:hidden;z-index:10}.alert-top.sc-bkkr-alert-h{-ms-flex-align:start;align-items:flex-start}.alert-top.sc-bkkr-alert-h .alert-wrapper.sc-bkkr-alert{margin-top:var(--margin-top);-webkit-transform:translate3d(0, -200%, 0);transform:translate3d(0, -200%, 0)}.alert-bottom.sc-bkkr-alert-h{-ms-flex-align:end;align-items:flex-end}.alert-bottom.sc-bkkr-alert-h .alert-wrapper.sc-bkkr-alert{margin-bottom:var(--margin-bottom);-webkit-transform:translate3d(0, 200%, 0);transform:translate3d(0, 200%, 0)}.alert-checkbox-group.sc-bkkr-alert::-webkit-scrollbar,.alert-radio-group.sc-bkkr-alert::-webkit-scrollbar,.alert-message.sc-bkkr-alert::-webkit-scrollbar{display:none}.alert-button.sc-bkkr-alert,.alert-checkbox.sc-bkkr-alert,.alert-input.sc-bkkr-alert,.alert-radio.sc-bkkr-alert{outline:none}.alert-radio-icon.sc-bkkr-alert,.alert-checkbox-icon.sc-bkkr-alert,.alert-checkbox-inner.sc-bkkr-alert{-webkit-box-sizing:border-box;box-sizing:border-box}.state-tappable.sc-bkkr-alert{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;contain:strict;-webkit-appearance:none;-moz-appearance:none;appearance:none}.alert-head.sc-bkkr-alert{padding-left:16px;padding-right:16px;padding-top:12px;padding-bottom:7px;text-align:left}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-head.sc-bkkr-alert{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.alert-title.sc-bkkr-alert{margin-top:8px;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--bkkr-text-color, #000);font-size:1.1rem;font-weight:600}.alert-sub-title.sc-bkkr-alert{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--color-step-600, #666666);font-size:0.9rem;font-weight:400}.alert-message.sc-bkkr-alert,.alert-input-group.sc-bkkr-alert{padding-left:16px;padding-right:16px;padding-top:0;padding-bottom:21px;color:var(--bkkr-text-color, #000);font-size:0.85rem;text-align:left;-webkit-box-sizing:border-box;box-sizing:border-box;overflow-y:auto;-webkit-overflow-scrolling:touch;overscroll-behavior-y:contain}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-message.sc-bkkr-alert,.alert-input-group.sc-bkkr-alert{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.alert-message.sc-bkkr-alert{max-height:240px}.alert-message.sc-bkkr-alert:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:12px}.alert-input.sc-bkkr-alert{border-radius:12px;margin-top:10px;padding-left:6px;padding-right:6px;padding-top:6px;padding-bottom:6px;width:100%;border:0.55px solid var(--color-step-250, #bfbfbf);background-color:var(--bkkr-background-color, #fff);-webkit-appearance:none;-moz-appearance:none;appearance:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-input.sc-bkkr-alert{padding-left:unset;padding-right:unset;-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px}}.alert-input.sc-bkkr-alert::-moz-placeholder{color:var(--bkkr-placeholder-color, var(--color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-bkkr-alert::-ms-input-placeholder{color:var(--bkkr-placeholder-color, var(--color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-bkkr-alert::-webkit-input-placeholder{color:var(--bkkr-placeholder-color, var(--color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-bkkr-alert:-ms-input-placeholder{color:var(--bkkr-placeholder-color, var(--color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-bkkr-alert::placeholder{color:var(--bkkr-placeholder-color, var(--color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-bkkr-alert::-ms-clear{display:none}textarea.alert-input.sc-bkkr-alert{min-height:37px;resize:none}.alert-radio-group.sc-bkkr-alert,.alert-checkbox-group.sc-bkkr-alert{-ms-scroll-chaining:none;overscroll-behavior:contain;max-height:240px;border-top:1px solid var(--bkkr-border, rgba(var(--bkkr-text-color-rgb, 0, 0, 0), 0.1));overflow-y:auto;-webkit-overflow-scrolling:touch}.state-tappable.sc-bkkr-alert{height:44px;-webkit-transition:0.2s opacity cubic-bezier(0.32, 0.72, 0, 1);transition:0.2s opacity cubic-bezier(0.32, 0.72, 0, 1)}.alert-checkbox.sc-bkkr-alert,.alert-radio.sc-bkkr-alert{cursor:pointer}@media (any-hover: hover){.alert-checkbox.sc-bkkr-alert:hover,.alert-radio.sc-bkkr-alert:hover{background-color:rgba(var(--bkkr-text-color-rgb, 0, 0, 0), 0.08)}}.alert-radio-label.sc-bkkr-alert,.alert-checkbox-label.sc-bkkr-alert{padding-left:13px;padding-right:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;-ms-flex-order:0;order:0;color:var(--bkkr-text-color, #000);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-radio-label.sc-bkkr-alert,.alert-checkbox-label.sc-bkkr-alert{padding-left:unset;padding-right:unset;-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px}}[aria-checked=true].sc-bkkr-alert .alert-radio-label.sc-bkkr-alert,[aria-checked=true].sc-bkkr-alert .alert-checkbox-label.sc-bkkr-alert{color:var(--color-base, var(--color-primary, #3880ff))}.alert-radio-icon.sc-bkkr-alert,.alert-checkbox-icon.sc-bkkr-alert{position:relative;-ms-flex-order:1;order:1;min-width:30px}[aria-checked=true].sc-bkkr-alert .alert-radio-inner.sc-bkkr-alert,[aria-checked=true].sc-bkkr-alert .alert-checkbox-inner.sc-bkkr-alert{top:-7px;left:7px;position:absolute;width:6px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--color-base, var(--color-primary, #3880ff))}.alert-button-group.sc-bkkr-alert{margin-right:-1px;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-button-group.sc-bkkr-alert{margin-right:unset;-webkit-margin-end:-1px;margin-inline-end:-1px}}.alert-button-group-vertical.sc-bkkr-alert{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-bkkr-alert{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:0;display:block;-ms-flex:1 1 auto;flex:1 1 auto;min-width:50%;height:44px;-webkit-transition:0.2s background-color cubic-bezier(0.32, 0.72, 0, 1);transition:0.2s background-color cubic-bezier(0.32, 0.72, 0, 1);border:0;border-top:1px solid var(--bkkr-border, rgba(var(--bkkr-text-color-rgb, 0, 0, 0), 0.1));border-right:1px solid var(--bkkr-border, rgba(var(--bkkr-text-color-rgb, 0, 0, 0), 0.1));background-color:transparent;color:var(--color-base, var(--color-primary, #3880ff));font-size:0.9rem;line-height:20px;cursor:pointer;overflow:hidden;z-index:0}.alert-button.sc-bkkr-alert:first-child{border-left:0}.alert-button.sc-bkkr-alert:last-child{border-right:0;font-weight:bold}.alert-button-inner.sc-bkkr-alert{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.alert-button.sc-bkkr-alert .alert-button-inner.sc-bkkr-alert{pointer-events:none}.alert-button-role-destructive.sc-bkkr-alert,.alert-button-role-destructive.state-activated.sc-bkkr-alert,.alert-button-role-destructive.state-focused.sc-bkkr-alert{color:var(--color-base, var(--color-danger, #eb445a))}@media (any-hover: hover){.alert-button.sc-bkkr-alert:hover{background-color:rgba(var(--bkkr-text-color-rgb, 0, 0, 0), 0.04)}}.alert-button.state-focused.sc-bkkr-alert,.state-tappable.state-focused.sc-bkkr-alert{background:rgba(var(--bkkr-text-color-rgb, 0, 0, 0), 0.04)}.alert-button.state-activated.sc-bkkr-alert{background-color:rgba(var(--bkkr-text-color-rgb, 0, 0, 0), 0.12)}.alert-input-disabled.sc-bkkr-alert,.alert-checkbox-button-disabled.sc-bkkr-alert .alert-button-inner.sc-bkkr-alert,.alert-radio-button-disabled.sc-bkkr-alert .alert-button-inner.sc-bkkr-alert{pointer-events:none;cursor:default;opacity:0.5}";const $=(t,r,a=400)=>{const o=n(),i=e(t).querySelector(".loading-wrapper");switch(o.addElement(i),r){case"top":o.fromTo("transform","translate3d(-50%, -200%, 0)","translate3d(-50%, calc(10px + var(--safe-area-top, 0px)), 0)");break;case"middle":i.style.top="50%",o.fromTo("opacity",.01,1);break;default:o.fromTo("transform","translate3d(-50%, 200%, 0)","translate3d(-50%, calc(-10px - var(--safe-area-bottom, 0px)), 0)")}return n().easing("cubic-bezier(.155,1.105,.295,1.12)").duration(a).addAnimation(o)},L=(t,r,a=300)=>{const o=n(),i=e(t).querySelector(".loading-wrapper");switch(o.addElement(i),r){case"top":o.fromTo("transform","translate3d(-50%, calc(10px + var(--safe-area-top, 0px)), 0)","translate3d(-50%, -200%, 0)");break;case"middle":o.fromTo("opacity",.99,0);break;default:o.fromTo("transform","translate3d(-50%, calc(-10px - var(--safe-area-bottom, 0px)), 0)","translate3d(-50%, 200%, 0)")}return n().easing("cubic-bezier(.36,.66,.04,1)").duration(a).addAnimation(o)};let A=class{constructor(t){c(this,t),this.didPresent=h(this,"loadingDidPresent",7),this.willPresent=h(this,"loadingWillPresent",7),this.willDismiss=h(this,"loadingWillDismiss",7),this.didDismiss=h(this,"loadingDidDismiss",7),this.presented=!1,this.color="primary",this.keyboardClose=!1,this.position="top",this.animated=!0}connectedCallback(){kt(this.el)}componentWillLoad(){void 0===this.spinner&&(this.spinner=t.get("loadingSpinner","crescent"))}async present(){await Pt(this,"loadingEnter",$,this.position)}dismiss(t,e){return Tt(this,t,e,"loadingLeave",L,this.position)}onDidDismiss(){return $t(this.el,"loadingDidDismiss")}onWillDismiss(){return $t(this.el,"loadingWillDismiss")}render(){const{color:t,cssClass:e,spinner:r,position:a,htmlAttributes:o}=this;return b(k,Object.assign({style:{zIndex:`${6e4+this.overlayIndex}`},class:g(t,Object.assign(Object.assign({},v(e)),{"overlay-hidden":!0})),tabindex:"-1"},o),b("div",{class:{"loading-wrapper":!0,[`loading-${a}`]:!0}},b("div",{class:"loading-container",part:"container"},b("div",{class:"loading-content"},b("bkkr-spinner",{slot:"end",type:r,color:t})))))}get el(){return u(this)}};A.style=":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:0 15px 25px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.1), 0 6px 20px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.12), 0 13.2px 40px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.08);--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:pre-wrap;--background:var(--bkkr-overlay-background, var(--bkkr-background-color, #fff));--border-radius:32px;top:0;left:0;display:block;position:absolute;width:100%;height:100%;outline:none;font-family:var(--bkkr-font-family);contain:strict;z-index:1001;pointer-events:none}:host-context(bkkr-content){--safe-area-top:0px;--safe-area-bottom:0px}:host(.overlay-hidden){display:none}.loading-wrapper{border-radius:var(--border-radius);left:50%;margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-wrapper{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.loading-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:inherit;min-height:inherit;max-height:inherit;pointer-events:auto;contain:content}.loading-wrapper.loading-top{top:0;-webkit-transform:translate3d(-50%, -200%, 0);transform:translate3d(-50%, -200%, 0)}.loading-wrapper.loading-middle{opacity:0.01}.loading-wrapper.loading-bottom{bottom:0;-webkit-transform:translate3d(-50%, 200%, 0);transform:translate3d(-50%, 200%, 0)}.loading-content{padding-left:15px;padding-right:15px;padding-top:15px;padding-bottom:15px;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;text-align:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-content{padding-left:unset;padding-right:unset;-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px}}";const B=(t,r,a=400)=>{const o=e(t),i=n().addElement(o.querySelector("bkkr-backdrop")).fromTo("opacity",0,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),s=n().addElement(o.querySelectorAll(".drawer-wrapper, .drawer-shadow")).beforeStyles({opacity:1}).fromTo("transform","translateY(100vh)","translateY(0vh)"),l=n().addElement(t).easing("cubic-bezier(0.32,0.72,0,1)").duration(a).addAnimation(s);if(r){const t=n().addElement(r).beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"});l.addAnimation(t)}return l.addAnimation(i),l},I=(t,r,a=400)=>{const o=e(t),i=n().addElement(o.querySelector("bkkr-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),s=n().addElement(o.querySelectorAll(".drawer-wrapper, .drawer-shadow")).beforeStyles({opacity:1}).fromTo("transform","translateY(0vh)","translateY(100vh)"),l=n().addElement(t).easing("cubic-bezier(0.32,0.72,0,1)").duration(a).addAnimation(s);if(r){const t=n().addElement(r).beforeClearStyles(["transform"]).afterClearStyles(["transform"]).onFinish((t=>{1===t&&r.style.setProperty("overflow","")}));l.addAnimation(t)}return l.addAnimation(i),l};let Y=class{constructor(t){c(this,t),this.didPresent=h(this,"bkkrDrawerDidPresent",7),this.willPresent=h(this,"bkkrDrawerWillPresent",7),this.willDismiss=h(this,"bkkrDrawerWillDismiss",7),this.didDismiss=h(this,"bkkrDrawerDidDismiss",7),this.didPresentShorthand=h(this,"didPresent",7),this.willPresentShorthand=h(this,"willPresent",7),this.willDismissShorthand=h(this,"willDismiss",7),this.didDismissShorthand=h(this,"didDismiss",7),this.drawerIndex=S++,this.coreDelegate=f(),this.inline=!1,this.gestureAnimationDismissing=!1,this.presented=!1,this.hasController=!1,this.keyboardClose=!0,this.duration=0,this.backdropDismiss=!0,this.showBackdrop=!0,this.animated=!0,this.handle=!0,this.closeButton=!0,this.closeIcon="times",this.swipeToClose=!0,this.presentingElement=document.querySelector("bkkr-router-outlet")||document.querySelector("bkkr-root")||document.body,this.isOpen=!1,this.configureTriggerInteraction=()=>{const{trigger:t,el:e,destroyTriggerInteraction:r}=this;r&&r();const a=void 0!==t?document.getElementById(t):null;a&&(this.destroyTriggerInteraction=((t,e)=>{const r=()=>{e.present()};return t.addEventListener("click",r),()=>{t.removeEventListener("click",r)}})(a,e))},this.onBackdropTap=()=>{this.dismiss(void 0,Bt)},this.onDismiss=t=>{t.stopPropagation(),t.preventDefault(),this.dismiss()},this.onLifecycle=t=>{const e=this.usersElement,r=M[t.type];if(e&&r){const a=new CustomEvent(r,{bubbles:!1,cancelable:!1,detail:t.detail});e.dispatchEvent(a)}}}swipeToCloseChanged(t){this.gesture?this.gesture.enable(t):t&&this.initSwipeToClose()}onIsOpenChange(t,e){!0===t&&!1===e?this.present():!1===t&&!0===e&&this.dismiss()}onTriggerChange(){this.configureTriggerInteraction()}connectedCallback(){kt(this.el)}componentWillLoad(){this.drawerId=this.el.hasAttribute("id")?this.el.getAttribute("id"):`bkkr-drawer-${this.drawerIndex}`}componentDidLoad(){!0===this.isOpen&&a((()=>this.present())),this.configureTriggerInteraction()}getDelegate(t=!1){if(this.workingDelegate&&!t)return{delegate:this.workingDelegate,inline:this.inline};const e=this.inline=null!==this.el.parentNode&&!this.hasController;return{inline:e,delegate:this.workingDelegate=e?this.delegate||this.coreDelegate:this.delegate}}async present(){if(this.presented)return;void 0!==this.currentTransition&&await this.currentTransition;const t=Object.assign(Object.assign({},this.componentProps),{drawer:this.el}),{inline:e,delegate:r}=this.getDelegate(!0);this.usersElement=await w(r,this.el,this.component,["bkkr-page"],t,e),await y(this.usersElement),d((()=>this.el.classList.add("show-drawer"))),this.currentTransition=Pt(this,"drawerEnter",B,this.presentingElement),await this.currentTransition,this.currentTransition=void 0,this.swipeToClose&&this.initSwipeToClose(),this.duration>0&&(this.durationTimeout=setTimeout((()=>this.dismiss(void 0,"timeout")),this.duration))}initSwipeToClose(){const t=this.animation=(this.leaveAnimation||I)(this.el,this.presentingElement);this.gesture=((t,e,a)=>{const o=t.offsetHeight;let i=!1;const s=m({el:t,gestureName:"drawerSwipeToClose",gesturePriority:40,direction:"y",threshold:10,canStart:async t=>{const e=t.event.target;if(null===e||!e.closest)return!0;if(e.classList.contains("choices-item"))return!1;const r=e.closest("bkkr-content");if(r){if((await r.getScrollElement()).scrollTop<=0)return!0}else if(e)return!0;return!1},onStart:()=>{e.progressStart(!0,i?1:0)},onMove:t=>{const a=r(1e-4,t.deltaY/o,.9999);e.progressStep(a)},onEnd:t=>{const n=t.velocityY,l=r(1e-4,t.deltaY/o,.9999),d=(t.deltaY+1e3*n)/o>=.5;let c=d?-.001:.001;d?(e.easing("cubic-bezier(0.32, 0.72, 0, 1)"),c+=D([0,0],[.32,.72],[0,1],[1,1],l)[0]):(e.easing("cubic-bezier(1, 0, 0.68, 0.28)"),c+=D([0,0],[1,0],[.68,.28],[1,1],l)[0]);const h=t.event.target;if(null===h||!h.closest)return;const p=h.closest("bkkr-content");p&&(p.scrollY=!0);const b=((t,e)=>r(400,t/Math.abs(1.1*e),500))(d?l*o:(1-l)*o,n);i=d,s.enable(!1),e.onFinish((()=>{d||s.enable(!0)})).progressEnd(d?1:0,c,b),d&&a()}});return s})(this.el,t,(()=>{this.gestureAnimationDismissing=!0,this.animation.onFinish((async()=>{await this.dismiss(void 0,"gesture"),this.gestureAnimationDismissing=!1}))})),this.gesture.enable(!0)}async dismiss(t,e){var r;if(this.gestureAnimationDismissing&&"gesture"!==e)return!1;if(this.durationTimeout&&(clearTimeout(this.durationTimeout),null===(r=this.gesture)||void 0===r?void 0:r.running()))return this.duration>0&&(this.durationTimeout=setTimeout((()=>this.dismiss(void 0,"timeout")),this.duration)),!1;void 0!==this.currentTransition&&await this.currentTransition;const a=st.get(this)||[];this.currentTransition=Tt(this,t,e,"drawerLeave",I,this.presentingElement);const o=await this.currentTransition;if(o){this.currentTransition=Tt(this,t,e,"drawerLeave",I,this.presentingElement);const{delegate:r}=this.getDelegate();await x(r,this.usersElement),this.animation&&this.animation.destroy(),a.forEach((t=>t.destroy()))}return this.animation=void 0,this.currentTransition=void 0,o}onDidDismiss(){return $t(this.el,"bkkrDrawerDidDismiss")}onWillDismiss(){return $t(this.el,"bkkrDrawerWillDismiss")}render(){const{presented:t,drawerId:e,closeIcon:r,htmlAttributes:a}=this,o=this.duration>0;return b(k,Object.assign({"aria-drawer":"true",tabindex:"-1",class:Object.assign(Object.assign({},v(this.cssClass)),{"overlay-hidden":!0,"drawer-interactive":t}),id:e},a,{style:{zIndex:`${2e4+this.overlayIndex}`},onBkkrBackdropTap:this.onBackdropTap,onBkkrDismiss:this.onDismiss,onBkkrDrawerDidPresent:this.onLifecycle,onBkkrDrawerWillPresent:this.onLifecycle,onBkkrDrawerWillDismiss:this.onLifecycle,onBkkrDrawerDidDismiss:this.onLifecycle}),b("bkkr-backdrop",{visible:this.showBackdrop,tappable:this.backdropDismiss,part:"backdrop"}),b("div",{class:"drawer-shadow"}),b("div",{role:"dialog",class:{"drawer-handle":this.handle,"drawer-handle-animated":o,"drawer-wrapper":!0},part:"content"},(this.handle||o)&&b("div",{class:"drawer-handle-wrapper state-activatable",onClick:()=>this.dismiss()},b("span",{class:"drawer-handle-bar"},b("span",{class:"drawer-handle-bar-fill",style:{animationDuration:`${this.duration}ms`}}))),this.closeButton&&!o&&b("div",{class:"drawer-handle-button state-activatable",onClick:()=>this.dismiss()},b("bkkr-icon",{class:"handle-icon",icon:r,lazy:!1})),b("div",{class:"drawer-wrapper-inner"},b("slot",null))))}get el(){return u(this)}static get watchers(){return{swipeToClose:["swipeToCloseChanged"],isOpen:["onIsOpenChange"],trigger:["onTriggerChange"]}}};const M={bkkrDrawerDidPresent:"bkkrViewDidEnter",bkkrDrawerWillPresent:"bkkrViewWillEnter",bkkrDrawerWillDismiss:"bkkrViewWillLeave",bkkrDrawerDidDismiss:"bkkrViewDidLeave"};let S=0;Y.style=":host{--min-width:auto;--min-height:auto;--overflow:hidden;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--bkkr-overlay-background, var(--bkkr-background-color, #fff));--box-shadow:0 15px 25px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.1), 0 6px 20px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.12), 0 13.2px 40px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.08);--width:calc(100% - var(--bkkr-spacer, 16px));--height:calc(100vw - var(--bkkr-spacer, 16px));--margin-bottom:calc(var(--safe-area-bottom) + (var(--bkkr-spacer, 16px) * 0.5));--max-width:720px;--max-height:min(600px, calc(90vh - var(--safe-area-top)));--border-radius:24px;--backdrop-opacity:var(--bkkr-backdrop-opacity, 0.3);top:0;right:0;bottom:0;left:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:end;align-items:flex-end;-ms-flex-pack:center;justify-content:center;-webkit-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out;outline:none;contain:strict;pointer-events:none}:host(.drawer-interactive) .drawer-wrapper,:host(.drawer-interactive) bkkr-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.drawer-shadow,.drawer-wrapper{margin-bottom:var(--margin-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:calc(var(--height) - max(30px, var(--safe-area-top)) - 10px - var(--margin-bottom));min-height:var(--min-height);max-height:var(--max-height);-webkit-transform:translate3d(0, 100%, 0);transform:translate3d(0, 100%, 0);will-change:opacity, transform;z-index:10}.drawer-shadow{bottom:0;border-radius:var(--border-radius);position:absolute;pointer-events:none;background:transparent;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow)}.drawer-wrapper-inner{--safe-area-top:0px;--safe-area-bottom:0px;--safe-area-right:0px;--safe-area-left:0px;border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:100%;height:100%;border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:content;overflow:var(--overflow);z-index:10}bkkr-content:first-child{--padding-top:0;--padding-bottom:calc(var(--bkkr-spacer, 16px) + var(--safe-area-bottom))}.drawer-handle{--offset-top:34px}.drawer-handle-wrapper{--handle-height:6px;--handle-width:64px;--handle-color:var(--bkkr-text-color, #000);--handle-transition:0.2s transform cubic-bezier(0.25, 1.11, 0.78, 1.59), 0.2s box-shadow cubic-bezier(0.25, 1.11, 0.78, 1.59);--handle-transform:translate3d(0, -50%, 0);top:0;left:50%;position:absolute;width:var(--handle-width);height:32px;-webkit-transform:translateX(-50%);transform:translateX(-50%);cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:11}.drawer-handle-wrapper .drawer-handle-bar{top:50%;bottom:0;left:0;border-radius:var(--handle-height);position:absolute;width:100%;height:var(--handle-height);-webkit-transform:var(--handle-transform);transform:var(--handle-transform);-webkit-transition:var(--handle-transition);transition:var(--handle-transition);background-color:rgba(var(--bkkr-text-color-rgb, 0, 0, 0), 0.2);overflow:hidden}.drawer-handle-wrapper .drawer-handle-bar-fill{top:0;position:absolute;width:100%;height:100%;background-color:var(--handle-color)}.drawer-handle-animated .drawer-handle-bar-fill{-webkit-transform:scale(0, 1);transform:scale(0, 1);-webkit-transform-origin:left center;transform-origin:left center;-webkit-animation-name:countdown;animation-name:countdown;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-delay:400ms;animation-delay:400ms;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes countdown{100%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}}@keyframes countdown{100%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}}.drawer-handle-button{--handle-button-backround:var(--background);--handle-button-backround-hover:var(--background);--handle-button-backround-active:var(--background);--handle-button-color:var(--bkkr-text-color, #000);--handle-button-radius:50%;--handle-button-transform:scale(1.1);--handle-button-transition:0.2s transform cubic-bezier(0.32, 0.72, 0, 1), 0.2s background cubic-bezier(0.32, 0.72, 0, 1);top:-48px;right:var(--bkkr-spacer);border-radius:var(--handle-button-radius);display:none;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:36px;height:36px;-webkit-transition:var(--handle-button-transition);transition:var(--handle-button-transition);background:var(--handle-button-backround);color:var(--handle-button-color);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);cursor:pointer;-ms-touch-action:manipulation;touch-action:manipulation;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10}.handle-icon{font-size:1.25rem}@media screen and (min-width: 720px) and (min-height: 375px){:host{--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1)}.drawer-handle:not(.drawer-handle-animated){--offset-top:var(--bkkr-spacer)}.drawer-handle:not(.drawer-handle-animated) .drawer-handle-wrapper{display:none}.drawer-handle:not(.drawer-handle-animated) .drawer-handle-button{display:-ms-flexbox;display:flex}}@media (any-hover: hover){.drawer-handle-wrapper:hover{--handle-transform:translate3d(0, -100%, 0);--handle-transition:0.2s transform ease-out, 0.2s box-shadow ease-out}.drawer-handle-button:hover{-webkit-transform:var(--handle-button-transform);transform:var(--handle-button-transform);background:var(--handle-button-backround-hover)}}.drawer-handle-button.state-activated{-webkit-transform:var(--handle-button-transform);transform:var(--handle-button-transform);background:var(--handle-button-backround-active)}@media (prefers-reduced-motion: reduce){.drawer-handle-bar,.drawer-handle-button{-webkit-transition:none;transition:none}}";const E=(t,r,a=400)=>{const o=e(t),i=n().addElement(o.querySelector("bkkr-backdrop")).fromTo("opacity",0,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),s=n().addElement(o.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1}).fromTo("transform","translateY(100vh)","translateY(0vh)"),l=n().addElement(t).easing("cubic-bezier(0.32,0.72,0,1)").duration(a).addAnimation(s);if(r){const t=window.innerWidth<768,a="BKKR-MODAL"===r.tagName&&void 0!==r.presentingElement,o=e(r),d=n().beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"});if(t){const t=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--safe-area-top))":"30px",e=`translateY(${a?"-10px":t}) scale(0.93)`;d.afterStyles({transform:e}).addElement(r).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"},{offset:1,filter:"contrast(0.85)",transform:e,borderRadius:"32px 32px 0 0"}]),l.addAnimation(d)}else if(l.addAnimation(i),a){const t=`translateY(-10px) scale(${a?.93:1})`;d.afterStyles({transform:t}).addElement(o.querySelector(".modal-wrapper")).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0) scale(1)"},{offset:1,filter:"contrast(0.85)",transform:t}]);const e=n().afterStyles({transform:t}).addElement(o.querySelector(".modal-shadow")).keyframes([{offset:0,opacity:"1",transform:"translateY(0) scale(1)"},{offset:1,opacity:"0",transform:t}]);l.addAnimation([d,e])}else s.fromTo("opacity","0","1")}else l.addAnimation(i);return l},N=(t,r,a=400)=>{const o=e(t),i=n().addElement(o.querySelector("bkkr-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),s=n().addElement(o.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1}).fromTo("transform","translateY(0vh)","translateY(100vh)"),l=n().addElement(t).easing("cubic-bezier(0.32,0.72,0,1)").duration(a).addAnimation(s);if(r){const t=window.innerWidth<768,a="BKKR-MODAL"===r.tagName&&void 0!==r.presentingElement,o=e(r),d=n().beforeClearStyles(["transform"]).afterClearStyles(["transform"]).onFinish((t=>{1===t&&r.style.setProperty("overflow","")}));if(t){const t=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--safe-area-top))":"30px",e=`translateY(${a?"-10px":t}) scale(0.93)`;d.addElement(r).keyframes([{offset:0,filter:"contrast(0.85)",transform:e,borderRadius:"32px 32px 0 0"},{offset:1,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"}]),l.addAnimation(d)}else if(l.addAnimation(i),a){const t=`translateY(-10px) scale(${a?.93:1})`;d.addElement(o.querySelector(".modal-wrapper")).afterStyles({transform:"translate3d(0, 0, 0)"}).keyframes([{offset:0,filter:"contrast(0.85)",transform:t},{offset:1,filter:"contrast(1)",transform:"translateY(0) scale(1)"}]);const e=n().addElement(o.querySelector(".modal-shadow")).afterStyles({transform:"translateY(0) scale(1)"}).keyframes([{offset:0,opacity:"0",transform:t},{offset:1,opacity:"1",transform:"translateY(0) scale(1)"}]);l.addAnimation([d,e])}else s.fromTo("opacity","1","0")}else l.addAnimation(i);return l};let X=class{constructor(t){c(this,t),this.didPresent=h(this,"bkkrModalDidPresent",7),this.willPresent=h(this,"bkkrModalWillPresent",7),this.willDismiss=h(this,"bkkrModalWillDismiss",7),this.didDismiss=h(this,"bkkrModalDidDismiss",7),this.didPresentShorthand=h(this,"didPresent",7),this.willPresentShorthand=h(this,"willPresent",7),this.willDismissShorthand=h(this,"willDismiss",7),this.didDismissShorthand=h(this,"didDismiss",7),this.modalIndex=V++,this.coreDelegate=f(),this.inline=!1,this.gestureAnimationDismissing=!1,this.presented=!1,this.hasController=!1,this.keyboardClose=!0,this.backdropDismiss=!0,this.showBackdrop=!0,this.animated=!0,this.handle=!0,this.closeButton=!0,this.closeIcon="times",this.swipeToClose=!0,this.presentingElement=document.querySelector("bkkr-router-outlet")||document.querySelector("bkkr-root")||document.body,this.isOpen=!1,this.configureTriggerInteraction=()=>{const{trigger:t,el:e,destroyTriggerInteraction:r}=this;r&&r();const a=void 0!==t?document.getElementById(t):null;a&&(this.destroyTriggerInteraction=((t,e)=>{const r=()=>{e.present()};return t.addEventListener("click",r),()=>{t.removeEventListener("click",r)}})(a,e))},this.onBackdropTap=()=>{this.dismiss(void 0,Bt)},this.onDismiss=t=>{t.stopPropagation(),t.preventDefault(),this.dismiss()},this.onLifecycle=t=>{const e=this.usersElement,r=R[t.type];if(e&&r){const a=new CustomEvent(r,{bubbles:!1,cancelable:!1,detail:t.detail});e.dispatchEvent(a)}}}swipeToCloseChanged(t){this.gesture?this.gesture.enable(t):t&&this.initSwipeToClose()}onIsOpenChange(t,e){!0===t&&!1===e?this.present():!1===t&&!0===e&&this.dismiss()}onTriggerChange(){this.configureTriggerInteraction()}connectedCallback(){kt(this.el)}componentWillLoad(){this.modalId=this.el.hasAttribute("id")?this.el.getAttribute("id"):`bkkr-modal-${this.modalIndex}`}componentDidLoad(){!0===this.isOpen&&a((()=>this.present())),this.configureTriggerInteraction()}getDelegate(t=!1){if(this.workingDelegate&&!t)return{delegate:this.workingDelegate,inline:this.inline};const e=this.inline=null!==this.el.parentNode&&!this.hasController;return{inline:e,delegate:this.workingDelegate=e?this.delegate||this.coreDelegate:this.delegate}}async present(){if(this.presented)return;void 0!==this.currentTransition&&await this.currentTransition;const t=Object.assign(Object.assign({},this.componentProps),{modal:this.el}),{inline:e,delegate:r}=this.getDelegate(!0);this.usersElement=await w(r,this.el,this.component,["bkkr-page"],t,e),await y(this.usersElement),d((()=>this.el.classList.add("show-modal"))),this.currentTransition=Pt(this,"modalEnter",E,this.presentingElement),await this.currentTransition,this.currentTransition=void 0,this.swipeToClose&&this.initSwipeToClose()}initSwipeToClose(){const t=this.animation=(this.leaveAnimation||N)(this.el,this.presentingElement);this.gesture=((t,e,a)=>{const o=t.offsetHeight;let i=!1;const s=m({el:t,gestureName:"modalSwipeToClose",gesturePriority:40,direction:"y",threshold:10,canStart:async t=>{const e=t.event.target;if(null===e||!e.closest)return!0;const r=e.closest("bkkr-content");return null===r||(await r.getScrollElement()).scrollTop<=0},onStart:()=>{e.progressStart(!0,i?1:0)},onMove:t=>{const a=r(1e-4,t.deltaY/o,.9999);e.progressStep(a)},onEnd:t=>{const n=t.velocityY,l=r(1e-4,t.deltaY/o,.9999),d=(t.deltaY+1e3*n)/o>=.5;let c=d?-.001:.001;d?(e.easing("cubic-bezier(0.32, 0.72, 0, 1)"),c+=D([0,0],[.32,.72],[0,1],[1,1],l)[0]):(e.easing("cubic-bezier(1, 0, 0.68, 0.28)"),c+=D([0,0],[1,0],[.68,.28],[1,1],l)[0]);const h=((t,e)=>r(400,t/Math.abs(1.1*e),500))(d?l*o:(1-l)*o,n);i=d,s.enable(!1),e.onFinish((()=>{d||s.enable(!0)})).progressEnd(d?1:0,c,h),d&&a()}});return s})(this.el,t,(()=>{this.gestureAnimationDismissing=!0,this.animation.onFinish((async()=>{await this.dismiss(void 0,"gesture"),this.gestureAnimationDismissing=!1}))})),this.gesture.enable(!0)}async dismiss(t,e){if(this.gestureAnimationDismissing&&"gesture"!==e)return!1;void 0!==this.currentTransition&&await this.currentTransition;const r=st.get(this)||[];this.currentTransition=Tt(this,t,e,"modalLeave",N,this.presentingElement);const a=await this.currentTransition;if(a){const{delegate:t}=this.getDelegate();await x(t,this.usersElement),this.animation&&this.animation.destroy(),r.forEach((t=>t.destroy()))}return this.animation=void 0,this.currentTransition=void 0,a}onDidDismiss(){return $t(this.el,"bkkrModalDidDismiss")}onWillDismiss(){return $t(this.el,"bkkrModalWillDismiss")}render(){const{presented:t,modalId:e,closeIcon:r,htmlAttributes:a}=this;return b(k,Object.assign({"aria-modal":"true",tabindex:"-1",class:Object.assign({"modal-card":void 0!==this.presentingElement,"overlay-hidden":!0,"modal-interactive":t},v(this.cssClass)),id:e},a,{style:{zIndex:`${2e4+this.overlayIndex}`},onBkkrBackdropTap:this.onBackdropTap,onBkkrDismiss:this.onDismiss,onBkkrModalDidPresent:this.onLifecycle,onBkkrModalWillPresent:this.onLifecycle,onBkkrModalWillDismiss:this.onLifecycle,onBkkrModalDidDismiss:this.onLifecycle}),b("bkkr-backdrop",{visible:this.showBackdrop,tappable:this.backdropDismiss,part:"backdrop"}),b("div",{class:"modal-shadow"}),b("div",{role:"dialog",class:{"modal-handle":this.handle,"modal-wrapper":!0},part:"content"},this.handle&&b("div",{class:"modal-handle-wrapper state-activatable",onClick:()=>this.dismiss()},b("span",{class:"modal-handle-bar"})),this.closeButton&&b("div",{class:"modal-handle-button state-activatable",onClick:()=>this.dismiss()},b("bkkr-icon",{class:"handle-icon",icon:r,lazy:!1})),b("div",{class:"modal-wrapper-inner"},b("slot",null))))}get el(){return u(this)}static get watchers(){return{swipeToClose:["swipeToCloseChanged"],isOpen:["onIsOpenChange"],trigger:["onTriggerChange"]}}};const R={bkkrModalDidPresent:"bkkrViewDidEnter",bkkrModalWillPresent:"bkkrViewWillEnter",bkkrModalWillDismiss:"bkkrViewWillLeave",bkkrModalDidDismiss:"bkkrViewDidLeave"};let V=0;X.style=":host{--width:100%;--min-width:auto;--max-width:auto;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--bkkr-overlay-background, var(--bkkr-background-color, #fff));--box-shadow:0 15px 25px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.1), 0 6px 20px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.12), 0 13.2px 40px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.08);--backdrop-opacity:var(--bkkr-backdrop-opacity, 0.3);top:0;right:0;bottom:0;left:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;contain:strict;pointer-events:none}:host(.modal-interactive) .modal-wrapper,:host(.modal-interactive) bkkr-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-shadow,.modal-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);-webkit-transform:translate3d(0, 100%, 0);transform:translate3d(0, 100%, 0);will-change:opacity, transform;z-index:10}.modal-shadow{border-radius:var(--border-radius);position:absolute;pointer-events:none;background:transparent;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow)}.modal-wrapper-inner{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:100%;height:100%;border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:content;overflow:var(--overflow)}bkkr-content:first-child{--padding-top:0;--padding-bottom:calc(var(--bkkr-spacer, 16px) + var(--safe-area-bottom))}.modal-handle{--offset-top:34px}.modal-handle-wrapper{--handle-height:6px;--handle-width:64px;--handle-color:var(--bkkr-text-color, #000);--handle-transition:0.2s transform cubic-bezier(0.25, 1.11, 0.78, 1.59), 0.2s box-shadow cubic-bezier(0.25, 1.11, 0.78, 1.59);--handle-transform:translate3d(0, -50%, 0);top:0;left:50%;position:absolute;width:var(--handle-width);height:32px;-webkit-transform:translateX(-50%);transform:translateX(-50%);cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10}.modal-handle-wrapper .modal-handle-bar{top:50%;bottom:0;left:0;border-radius:var(--handle-height);position:absolute;width:100%;height:var(--handle-height);-webkit-transform:var(--handle-transform);transform:var(--handle-transform);-webkit-transition:var(--handle-transition);transition:var(--handle-transition);background-color:var(--handle-color)}.modal-handle-button{--handle-button-backround:var(--background);--handle-button-backround-hover:var(--background);--handle-button-backround-active:var(--background);--handle-button-color:var(--bkkr-text-color, #000);--handle-button-radius:50%;--handle-button-transform:scale(1.1);--handle-button-transition:0.2s transform cubic-bezier(0.32, 0.72, 0, 1), 0.2s background cubic-bezier(0.32, 0.72, 0, 1);top:-48px;right:var(--bkkr-spacer);border-radius:var(--handle-button-radius);display:none;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:36px;height:36px;-webkit-transition:var(--handle-button-transition);transition:var(--handle-button-transition);background:var(--handle-button-backround);color:var(--handle-button-color);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);cursor:pointer;-ms-touch-action:manipulation;touch-action:manipulation;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10}.handle-icon{font-size:1.25rem}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--safe-area-top:0px;--safe-area-bottom:0px;--safe-area-right:0px;--safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}@media screen and (max-width: 767px){@supports (width: 1px){:host(.modal-card){--height:calc(100% - max(30px, var(--safe-area-top)) - 10px)}}@supports not (width: 1px){:host(.modal-card){--height:calc(100% - 40px)}}:host(.modal-card){--border-radius:24px;--backdrop-opacity:0;--width:100%;-ms-flex-align:end;align-items:flex-end}:host(.modal-card) .modal-wrapper-inner{--safe-area-top:0px;--safe-area-bottom:0px;--safe-area-right:0px;--safe-area-left:0px}:host(.modal-card) bkkr-backdrop{pointer-events:none}}@media screen and (min-width: 768px){:host(.modal-card){--width:calc(100% - 120px);--max-width:720px;--min-height:300px;--max-height:1000px;--border-radius:24px;--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);-webkit-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}:host(.modal-card) .modal-wrapper-inner{border-radius:var(--border-radius)}:host(.modal-card) .modal-handle{--offset-top:var(--bkkr-spacer)}:host(.modal-card) .modal-handle-wrapper{display:none}:host(.modal-card) .modal-handle-button{display:-ms-flexbox;display:flex}}@media (any-hover: hover){.modal-handle-wrapper:hover{--handle-transform:translate3d(0, -100%, 0);--handle-transition:0.2s transform ease-out, 0.2s box-shadow ease-out}.modal-handle-button:hover{-webkit-transform:var(--handle-button-transform);transform:var(--handle-button-transform);background:var(--handle-button-backround-hover)}}.modal-handle-button.state-activated{-webkit-transform:var(--handle-button-transform);transform:var(--handle-button-transform);background:var(--handle-button-backround-active)}@media (prefers-reduced-motion: reduce){.modal-handle-bar,.modal-handle-button{-webkit-transition:none;transition:none}}";const H=(t,e)=>e&&"BKKR-ITEM"===e.tagName?t.findIndex((t=>t===e)):-1,K=t=>{const r=e(t).querySelector("button");r&&a((()=>r.focus()))},U=t=>{switch(t){case"start":return"left";case"center":return"center";case"end":return"right"}},F=t=>{switch(t){case"start":return"top";case"center":return"center";case"end":return"bottom"}},q=(t,e,r,a)=>{switch(t){case"start":case"end":case"left":case"right":return{top:-(a-e.height),left:0};case"top":case"bottom":default:return{top:0,left:-(r-e.width)}}},G=(t,e,r,a)=>{switch(t){case"start":case"end":case"left":case"right":return{top:-(a/2-e.height/2),left:0};case"top":case"bottom":default:return{top:0,left:-(r/2-e.width/2)}}},J=(t,r)=>{var a;const{event:o,size:i,trigger:s,reference:l,side:d,align:c}=r,h=t.ownerDocument,p="rtl"===h.dir,b=h.defaultView.innerWidth,k=h.defaultView.innerHeight,u=e(t),m=u.querySelector(".popover-content"),v=u.querySelector(".popover-arrow"),g=s||(null===(a=null==o?void 0:o.detail)||void 0===a?void 0:a.bkkrShadowTarget)||(null==o?void 0:o.target),{contentWidth:f,contentHeight:w}=((t,e,r)=>{const a=e.getBoundingClientRect(),o=a.height;let i=a.width;return"cover"===t&&r&&(i=r.getBoundingClientRect().width),{contentWidth:i,contentHeight:o}})(i,m,g),{arrowWidth:x,arrowHeight:y}=(t=>{if(!t)return{arrowWidth:0,arrowHeight:0};const{width:e,height:r}=t.getBoundingClientRect();return{arrowWidth:e,arrowHeight:r}})(v),D=((t,e,r,a,o,i,s,n,l,d,c)=>{var h;let p={top:0,left:0,width:0,height:0};switch(i){case"event":if(!c)return l;p={top:c.clientY,left:c.clientX,width:1,height:1};break;case"trigger":default:const t=c,e=d||(null===(h=null==t?void 0:t.detail)||void 0===h?void 0:h.bkkrShadowTarget)||(null==t?void 0:t.target);if(!e)return l;const r=e.getBoundingClientRect();p={top:r.top,left:r.left,width:r.width,height:r.height}}const b=((t,e,r,a,o,i,s)=>{const n={top:e.top,left:e.left-r-o},l={top:e.top,left:e.left+e.width+o};switch(t){case"top":return{top:e.top-a-i,left:e.left};case"right":return l;case"bottom":return{top:e.top+e.height+i,left:e.left};case"left":return n;case"start":return s?l:n;case"end":return s?n:l}})(s,p,e,r,a,o,t),k=((t,e,r,a,o)=>{switch(t){case"center":return G(e,r,a,o);case"end":return q(e,r,a,o);case"start":default:return{top:0,left:0}}})(n,s,p,e,r),u=b.top+k.top,m=b.left+k.left,{arrowTop:v,arrowLeft:g}=((t,e,r,a,o,i,s,n)=>{const l={arrowTop:a+s/2-e/2,arrowLeft:o+i-e/2},d={arrowTop:a+s/2-e/2,arrowLeft:o-1.5*e};switch(t){case"top":return{arrowTop:a+s,arrowLeft:o+i/2-e/2};case"bottom":return{arrowTop:a-r,arrowLeft:o+i/2-e/2};case"left":return l;case"right":return d;case"start":return n?d:l;case"end":return n?l:d;default:return{arrowTop:0,arrowLeft:0}}})(s,a,o,u,m,e,r,t),{originX:f,originY:w}=((t,e,r)=>{switch(t){case"top":return{originX:U(e),originY:"bottom"};case"bottom":return{originX:U(e),originY:"top"};case"left":return{originX:"right",originY:F(e)};case"right":return{originX:"left",originY:F(e)};case"start":return{originX:r?"left":"right",originY:F(e)};case"end":return{originX:r?"right":"left",originY:F(e)}}})(s,n,t);return{top:u,left:m,referenceCoordinates:p,arrowTop:v,arrowLeft:g,originX:f,originY:w}})(p,f,w,x,y,l,d,c,{top:k/2-w/2,left:b/2-f/2,originX:p?"right":"left",originY:"top"},s,o),z="cover"===i?0:8,C="cover"===i?0:25,{originX:P,originY:j,top:T,left:W,bottom:O,checkSafeAreaLeft:$,checkSafeAreaRight:L,arrowTop:A,arrowLeft:B,addPopoverBottomClass:I}=((t,e,r,a,o,i,s,n,l,d,c,h,p=0,b=0,k=0)=>{let u,m=p,v=r,g=e,f=d,w=c,x=!1,y=!1;const D=h?h.top+h.height:i/2-n/2,z=h?h.height:0;let C=!1;return v<a+l?(v=a,x=!0,f="left"):s+a+v+l>o&&(y=!0,v=o-s-a,f="right"),D+z+n>i&&("top"===t||"bottom"===t)&&(D-n>0?(g=D-n-z-(k-1),m=g+n,w="bottom",C=!0):u=a),{top:g,left:v,bottom:u,originX:f,originY:w,checkSafeAreaLeft:x,checkSafeAreaRight:y,arrowTop:m,arrowLeft:b,addPopoverBottomClass:C}})(d,D.top,D.left,z,b,k,f,w,C,D.originX,D.originY,D.referenceCoordinates,D.arrowTop,D.arrowLeft,y),Y=n(),M=n(),S=n();return M.addElement(u.querySelector("bkkr-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),S.addElement(u.querySelector(".popover-wrapper")).fromTo("opacity",.01,1),Y.easing("ease").duration(100).beforeAddWrite((()=>{"cover"===i&&t.style.setProperty("--width",`${f}px`),I&&t.classList.add("popover-bottom"),void 0!==O&&m.style.setProperty("bottom",`${O}px`);let e=`${W}px`;$&&(e=`${W}px + var(--safe-area-left, 0)`),L&&(e=`${W}px - var(--safe-area-right, 0)`),m.style.setProperty("top",`calc(${T}px + var(--offset-y, 0))`),m.style.setProperty("left",`calc(${e} + var(--offset-x, 0))`),m.style.setProperty("transform-origin",`${j} ${P}`),null!==v&&(((t,e=!1,r,a)=>!(!r&&!a||"top"!==t&&"bottom"!==t&&e))(d,D.top!==T||D.left!==W,o,s)?(v.style.setProperty("top",`calc(${A}px + var(--offset-y, 0))`),v.style.setProperty("left",`calc(${B}px + var(--offset-x, 0))`)):v.style.setProperty("display","none"))})).addAnimation([M,S])},Q=t=>{const r=e(t),a=r.querySelector(".popover-content"),o=r.querySelector(".popover-arrow"),i=n(),s=n(),l=n();return s.addElement(r.querySelector("bkkr-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),l.addElement(r.querySelector(".popover-wrapper")).fromTo("opacity",.99,0),i.easing("ease").afterAddWrite((()=>{t.style.removeProperty("--width"),t.classList.remove("popover-bottom"),a.style.removeProperty("top"),a.style.removeProperty("left"),a.style.removeProperty("bottom"),a.style.removeProperty("transform-origin"),o&&(o.style.removeProperty("top"),o.style.removeProperty("left"),o.style.removeProperty("display"))})).duration(300).addAnimation([s,l])};let Z=class{constructor(t){c(this,t),this.didPresent=h(this,"bkkrPopoverDidPresent",7),this.willPresent=h(this,"bkkrPopoverWillPresent",7),this.willDismiss=h(this,"bkkrPopoverWillDismiss",7),this.didDismiss=h(this,"bkkrPopoverDidDismiss",7),this.didPresentShorthand=h(this,"didPresent",7),this.willPresentShorthand=h(this,"willPresent",7),this.willDismissShorthand=h(this,"willDismiss",7),this.didDismissShorthand=h(this,"didDismiss",7),this.parentPopover=null,this.popoverIndex=tt++,this.coreDelegate=f(),this.inline=!1,this.focusDescendantOnPresent=!1,this.presented=!1,this.hasController=!1,this.keyboardClose=!0,this.backdropDismiss=!0,this.showBackdrop=!1,this.animated=!0,this.triggerAction="click",this.size="auto",this.dismissOnSelect=!1,this.reference="trigger",this.side="bottom",this.alignment="start",this.arrow=!0,this.isOpen=!1,this.onDismiss=t=>{t.stopPropagation(),t.preventDefault(),this.dismiss()},this.onBackdropTap=()=>{this.dismiss(void 0,Bt)},this.onLifecycle=t=>{const e=this.usersElement,r=_[t.type];if(e&&r){const a=new CustomEvent(r,{bubbles:!1,cancelable:!1,detail:t.detail});e.dispatchEvent(a)}},this.configureTriggerInteraction=()=>{const{trigger:t,triggerAction:e,el:r,destroyTriggerInteraction:o}=this;o&&o();const i=this.triggerEl=void 0!==t?document.getElementById(t):null;i&&(this.destroyTriggerInteraction=((t,e,r)=>{let o=[];switch(e){case"hover":let t;o=[{eventName:"mouseenter",callback:async e=>{e.stopPropagation(),t&&clearTimeout(t),t=setTimeout((()=>{a((()=>{r.presentFromTrigger(e),t=void 0}))}),100)}},{eventName:"mouseleave",callback:e=>{t&&clearTimeout(t);const a=e.relatedTarget;a&&a.closest("bkkr-popover")!==r&&r.dismiss(void 0,void 0,!1)}},{eventName:"click",callback:t=>t.stopPropagation()},{eventName:"bkkrPopoverActivateTrigger",callback:t=>r.presentFromTrigger(t,!0)}];break;case"context-menu":o=[{eventName:"contextmenu",callback:t=>{t.preventDefault(),r.presentFromTrigger(t)}},{eventName:"click",callback:t=>t.stopPropagation()},{eventName:"bkkrPopoverActivateTrigger",callback:t=>r.presentFromTrigger(t,!0)}];break;case"click":default:o=[{eventName:"click",callback:t=>r.presentFromTrigger(t)},{eventName:"bkkrPopoverActivateTrigger",callback:t=>r.presentFromTrigger(t,!0)}]}return o.forEach((({eventName:e,callback:r})=>t.addEventListener(e,r))),t.setAttribute("data-bkkr-popover-trigger","true"),()=>{o.forEach((({eventName:e,callback:r})=>t.removeEventListener(e,r))),t.removeAttribute("data-bkkr-popover-trigger")}})(i,e,r))},this.configureKeyboardInteraction=()=>{const{destroyKeyboardInteraction:t,el:e}=this;t&&t(),this.destroyKeyboardInteraction=(t=>{const e=async e=>{const r=document.activeElement;let a=[];try{a=Array.from(t.querySelectorAll("bkkr-item:not(bkkr-popover bkkr-popover *):not([disabled])"))}catch(t){}switch(e.key){case"ArrowLeft":await t.getParentPopover()&&t.dismiss(void 0,void 0,!1);break;case"ArrowDown":e.preventDefault();const o=((t,e)=>t[H(t,e)+1])(a,r);void 0!==o&&K(o);break;case"ArrowUp":e.preventDefault();const i=((t,e)=>t[H(t,e)-1])(a,r);void 0!==i&&K(i);break;case"Home":e.preventDefault();const s=a[0];void 0!==s&&K(s);break;case"End":e.preventDefault();const n=a[a.length-1];void 0!==n&&K(n);break;case"ArrowRight":case" ":case"Enter":if(r&&r.hasAttribute("data-bkkr-popover-trigger")){const t=new CustomEvent("bkkrPopoverActivateTrigger");r.dispatchEvent(t)}}};return t.addEventListener("keydown",e),()=>t.removeEventListener("keydown",e)})(e)},this.configureDismissInteraction=()=>{const{destroyDismissInteraction:t,parentPopover:r,triggerAction:a,triggerEl:o,el:i}=this;r&&o&&(t&&t(),this.destroyDismissInteraction=((t,r,a,o)=>{let i=[];const s=e(o).querySelector(".popover-content");switch(r){case"hover":i=[{eventName:"mouseenter",callback:e=>{document.elementFromPoint(e.clientX,e.clientY)!==t&&a.dismiss(void 0,void 0,!1)}}];break;case"context-menu":case"click":default:i=[{eventName:"click",callback:e=>{e.target.closest("[data-bkkr-popover-trigger]")!==t?a.dismiss(void 0,void 0,!1):e.stopPropagation()}}]}return i.forEach((({eventName:t,callback:e})=>s.addEventListener(t,e))),()=>{i.forEach((({eventName:t,callback:e})=>s.removeEventListener(t,e)))}})(o,a,i,r))}}onTriggerChange(){this.configureTriggerInteraction()}onIsOpenChange(t,e){!0===t&&!1===e?this.present():!1===t&&!0===e&&this.dismiss()}connectedCallback(){kt(this.el)}componentWillLoad(){this.popoverId=this.el.hasAttribute("id")?this.el.getAttribute("id"):`bkkr-popover-${this.popoverIndex}`,this.parentPopover=this.el.closest(`bkkr-popover:not(#${this.popoverId})`)}componentDidLoad(){const{parentPopover:t,isOpen:e}=this;!0===e&&a((()=>this.present())),t&&o(t,"bkkrPopoverWillDismiss",(()=>{this.dismiss(void 0,void 0,!1)})),this.configureTriggerInteraction()}async presentFromTrigger(t,e=!1){this.focusDescendantOnPresent=e,await this.present(t),this.focusDescendantOnPresent=!1}getDelegate(t=!1){if(this.workingDelegate&&!t)return{delegate:this.workingDelegate,inline:this.inline};const e=this.inline=null!==this.el.parentNode&&!this.hasController;return{inline:e,delegate:this.workingDelegate=e?this.delegate||this.coreDelegate:this.delegate}}async present(t){if(this.presented)return;void 0!==this.currentTransition&&await this.currentTransition;const e=Object.assign(Object.assign({},this.componentProps),{popover:this.el}),{inline:r,delegate:a}=this.getDelegate(!0);this.usersElement=await w(a,this.el,this.component,["popover-viewport"],e,r),await y(this.usersElement),this.configureKeyboardInteraction(),this.configureDismissInteraction(),this.currentTransition=Pt(this,"popoverEnter",J,{event:t||this.event,size:this.size,trigger:this.triggerEl,reference:this.reference,side:this.side,align:this.alignment}),await this.currentTransition,this.currentTransition=void 0,this.focusDescendantOnPresent&&gt(this.el,this.el)}async dismiss(t,e,r=!0){void 0!==this.currentTransition&&await this.currentTransition;const{destroyKeyboardInteraction:a,destroyDismissInteraction:o}=this;r&&this.parentPopover&&this.parentPopover.dismiss(t,e,r),this.currentTransition=Tt(this,t,e,"popoverLeave",Q,this.event);const i=await this.currentTransition;if(i){a&&(a(),this.destroyKeyboardInteraction=void 0),o&&(o(),this.destroyDismissInteraction=void 0);const{delegate:t}=this.getDelegate();await x(t,this.usersElement)}return this.currentTransition=void 0,i}async getParentPopover(){return this.parentPopover}onDidDismiss(){return $t(this.el,"bkkrPopoverDidDismiss")}onWillDismiss(){return $t(this.el,"bkkrPopoverWillDismiss")}render(){const{onLifecycle:t,popoverId:e,parentPopover:r,dismissOnSelect:a,presented:o,side:i,arrow:s,htmlAttributes:n}=this,l=z("desktop"),d=s&&!r&&!l;return b(k,Object.assign({"aria-modal":"true","no-router":!0,tabindex:"-1"},n,{style:{zIndex:`${2e4+this.overlayIndex}`},id:e,class:Object.assign(Object.assign({},v(this.cssClass)),{"overlay-hidden":!0,"popover-interactive":o,"popover-desktop":l,[`popover-side-${i}`]:!0,"popover-nested":!!r}),onBkkrPopoverDidPresent:t,onBkkrPopoverWillPresent:t,onBkkrPopoverWillDismiss:t,onBkkrPopoverDidDismiss:t,onBkkrDismiss:this.onDismiss,onBkkrBackdropTap:this.onBackdropTap}),!r&&b("bkkr-backdrop",{tappable:this.backdropDismiss,visible:this.showBackdrop,part:"backdrop"}),b("div",{class:"popover-wrapper bkkr-overlay-wrapper",onClick:a?()=>this.dismiss():void 0},d&&b("div",{class:"popover-arrow",part:"arrow"}),b("div",{class:"popover-content",part:"content"},b("slot",null))))}get el(){return u(this)}static get watchers(){return{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}}};const _={bkkrPopoverDidPresent:"bkkrViewDidEnter",bkkrPopoverWillPresent:"bkkrViewWillEnter",bkkrPopoverWillDismiss:"bkkrViewWillLeave",bkkrPopoverDidDismiss:"bkkrViewDidLeave"};let tt=0;Z.style=':host{--background:var(--bkkr-overlay-background, var(--bkkr-background-color, #fff));--min-width:250px;--min-height:0;--max-width:auto;--height:auto;--width:auto;--max-height:90%;--box-shadow:0 15px 25px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.1), 0 6px 20px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.12), 0 13.2px 40px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.08);--backdrop-opacity:0;--offset-x:0px;--offset-y:0px;--border:0;top:0;right:0;bottom:0;left:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--bkkr-text-color, #000);z-index:1001;pointer-events:none}:host(.popover-interactive) .popover-content,:host(.popover-interactive) bkkr-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}:host(.popover-desktop){--box-shadow:0px 4px 16px 0px rgba(0, 0, 0, 0.12);--border:0.5px solid var(--color-step-100, #e6e6e6)}.popover-wrapper{opacity:0;z-index:10}.popover-content{--safe-area-top:0px;--safe-area-right:0px;--safe-area-bottom:0px;--safe-area-left:0px;border-radius:16px;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border:var(--border);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}.popover-arrow{display:block;position:absolute;width:20px;height:10px;overflow:hidden;z-index:11}.popover-arrow::after{top:3px;left:3px;border-radius:3px;position:absolute;width:14px;height:14px;-webkit-transform:rotate(45deg);transform:rotate(45deg);background:var(--background);content:"";z-index:10}:host(.popover-bottom) .popover-arrow{top:auto;bottom:-10px}:host(.popover-bottom) .popover-arrow::after{top:-6px}:host(.popover-side-left) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host(.popover-side-right) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-top) .popover-arrow{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.popover-side-start) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host-context([dir=rtl]):host(.popover-side-start) .popover-arrow,:host-context([dir=rtl]).popover-side-start .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-end) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host-context([dir=rtl]):host(.popover-side-end) .popover-arrow,:host-context([dir=rtl]).popover-side-end .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}';const et=(t,r,a=400)=>{const o=n(),i=e(t).querySelector(".toast-wrapper");switch(o.addElement(i),r){case"bottom":o.fromTo("transform","translate3d(0, 200%, 0)","translate3d(0, calc(-12px - var(--safe-area-bottom, 0px)), 0)");break;case"middle":i.style.top="50%",o.fromTo("opacity",.01,1);break;default:o.fromTo("transform","translate3d(0, -200%, 0)","translate3d(0, calc(12px + var(--safe-area-top, 0px)), 0)")}const s=n().easing("cubic-bezier(.155,1.105,.295,1.12)").duration(a).addAnimation(o),l=n().beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"});return s.addAnimation(l),s},rt=(t,r,a=300)=>{const o=n(),i=e(t).querySelector(".toast-wrapper");switch(o.addElement(i),r){case"bottom":o.fromTo("transform","translate3d(0, calc(-12px - var(--safe-area-bottom, 0px)), 0)","translate3d(0, 200%, 0)");break;case"middle":o.fromTo("opacity",.99,0);break;default:o.fromTo("transform","translate3d(0, calc(12px + var(--safe-area-top, 0px)), 0)","translate3d(0, -200%, 0)")}const s=n().easing("cubic-bezier(.36,.66,.04,1)").duration(a).addAnimation(o),l=n().beforeClearStyles(["transform"]).afterClearStyles(["transform"]).onFinish((()=>{}));return s.addAnimation(l),s};let at=class{constructor(t){c(this,t),this.didPresent=h(this,"toastDidPresent",7),this.willPresent=h(this,"toastWillPresent",7),this.willDismiss=h(this,"toastWillDismiss",7),this.didDismiss=h(this,"toastDidDismiss",7),this.gestureAnimationDismissing=!1,this.presented=!1,this.duration=0,this.keyboardClose=!1,this.position="top",this.swipeToClose=!0,this.animated=!0,this.dispatchCancelHandler=t=>{if(At(t.detail.role)){const t=this.getButtons().find((t=>"cancel"===t.role));this.callButtonHandler(t)}}}swipeToCloseChanged(t){this.gesture?this.gesture.enable(t):t&&this.initSwipeToClose()}connectedCallback(){kt(this.el)}async present(){await Pt(this,"toastEnter",et,this.position),this.swipeToClose&&this.initSwipeToClose(),this.duration>0&&(this.durationTimeout=setTimeout((()=>this.dismiss(void 0,"timeout")),this.duration))}initSwipeToClose(){const t=this.animation=(this.leaveAnimation||rt)(this.el,this.position);this.gesture=((t,e,a,o)=>{var i;const s=null===(i=null==t?void 0:t.shadowRoot)||void 0===i?void 0:i.querySelector(".toast-wrapper"),n=(null==s?void 0:s.clientHeight)||0;let l=!1;const d="top"===a?-1:1,c=m({el:t,gestureName:"toastSwipeToClose",gesturePriority:40,direction:"y",threshold:10,canStart:async t=>!!t.event.target,onStart:()=>{e.progressStart(!0,l?1:0)},onMove:t=>{const a=r(1e-4,t.deltaY*d/(2*n),.9999);e.progressStep(a)},onEnd:t=>{const a=t.velocityY,i=r(1e-4,t.deltaY*d/(2*n),.9999),s=(t.deltaY+1e3*a)/(2*n)*d>=.5;let h=s?-.001:.001;s?(e.easing("cubic-bezier(0.32, 0.72, 0, 1)"),h+=D([0,0],[.32,.72],[0,1],[1,1],i)[0]):(e.easing("cubic-bezier(1, 0, 0.68, 0.28)"),h+=D([0,0],[1,0],[.68,.28],[1,1],i)[0]);const p=((t,e)=>r(400,t/Math.abs(1.1*e),500))(s?i*n:(1-i)*n,a);l=s,c.enable(!1),e.onFinish((()=>{s||c.enable(!0)})).progressEnd(s?1:0,h,p),s&&o()}});return c})(this.el,t,this.position,(()=>{this.gestureAnimationDismissing=!0,this.animation.onFinish((async()=>{await this.dismiss(void 0,"gesture"),this.gestureAnimationDismissing=!1}))})),this.gesture.enable(!0)}async dismiss(t,e){var r;if(this.gestureAnimationDismissing&&"gesture"!==e)return!1;if(this.durationTimeout&&(clearTimeout(this.durationTimeout),null===(r=this.gesture)||void 0===r?void 0:r.running()))return this.duration>0&&(this.durationTimeout=setTimeout((()=>this.dismiss(void 0,"timeout")),this.duration)),!1;const a=st.get(this)||[],o=await Tt(this,t,e,"toastLeave",rt,this.position);return o&&(this.animation&&this.animation.destroy(),a.forEach((t=>t.destroy()))),this.animation=void 0,o}onDidDismiss(){return $t(this.el,"toastDidDismiss")}onWillDismiss(){return $t(this.el,"toastWillDismiss")}getButtons(){return this.buttons?this.buttons.map((t=>"string"==typeof t?{text:t}:t)):[]}async buttonClick(t){const e=t.role;return At(e)||await this.callButtonHandler(t)?this.dismiss(void 0,e):Promise.resolve()}async callButtonHandler(t){if(t&&t.handler)try{if(!1===await t.handler())return!1}catch(t){console.error(t)}return!0}renderButtons(t,e){if(0!==t.length)return b("div",{class:{"toast-button-group":!0,[`toast-button-group-${e}`]:!0}},t.map((t=>b("button",{type:"button",class:ot(t),tabIndex:0,onClick:()=>this.buttonClick(t),part:"button"},b("div",{class:"toast-button-inner"},t.icon&&b("bkkr-icon",{icon:t.icon,slot:void 0===t.text?"icon-only":void 0,class:"toast-icon",lazy:!1}),t.text)))))}render(){var t;const e=this.getButtons(),r=e.filter((t=>"start"===t.side)),a=e.filter((t=>"start"!==t.side)),o={"toast-wrapper":!0,[`toast-${this.position}`]:!0,"state-activatable":!0},i=(null===(t=this.htmlAttributes)||void 0===t?void 0:t.role)||(e.length>0?"dialog":"status");return b(k,Object.assign({role:i,style:{zIndex:`${6e4+this.overlayIndex}`},class:g(this.color,Object.assign(Object.assign({},v(this.cssClass)),{"overlay-hidden":!0})),onBkkrToastWillDismiss:this.dispatchCancelHandler},this.htmlAttributes),b("div",{class:o},b("div",{class:"toast-container",part:"container"},this.renderButtons(r,"start"),b("div",{class:"toast-content"},void 0!==this.header&&b("div",{class:"toast-header",part:"header"},this.header),void 0!==this.message&&b("div",{class:"toast-message",part:"message",innerHTML:C(this.message)})),this.renderButtons(a,"end"))))}get el(){return u(this)}static get watchers(){return{swipeToClose:["swipeToCloseChanged"]}}};const ot=t=>Object.assign({"toast-button":!0,"toast-button-icon-only":void 0!==t.icon&&void 0===t.text,[`toast-button-${t.role}`]:void 0!==t.role,"state-focusable":!0,"state-activatable":!0},v(t.cssClass));at.style=":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:0 15px 25px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.1), 0 6px 20px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.12), 0 13.2px 40px 0 rgba(var(--box-shadow-color, 0, 0, 0), 0.08);--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;--background:var(--bkkr-overlay-background, var(--bkkr-background-color, #fff));--border-radius:32px;--button-color:color-get(primary, base);--color:var(--bkkr-text-color, #000);--max-width:700px;--start:calc(var(--bkkr-spacer, 16px) * 0.5);--end:var(--start);top:0;left:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--bkkr-font-family);font-size:0.85rem;contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001;pointer-events:none}:host(.overlay-hidden){display:none}.toast-wrapper{border-radius:var(--border-radius);right:var(--end);left:var(--start);margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-wrapper{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:inherit;min-height:inherit;max-height:inherit;pointer-events:auto;contain:content}.toast-content{padding-left:15px;padding-right:15px;padding-top:15px;padding-bottom:15px;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;text-align:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-content{padding-left:unset;padding-right:unset;-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px}}.toast-header{margin-bottom:2px;font-weight:700}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.toast-wrapper.toast-top{top:0;-webkit-transform:translate3d(0, -200%, 0);transform:translate3d(0, -200%, 0)}.toast-wrapper.toast-middle{opacity:0.01}.toast-wrapper.toast-bottom{bottom:0;-webkit-transform:translate3d(0, 200%, 0);transform:translate3d(0, 200%, 0)}:host(.bkkr-color){--button-color:inherit;color:current-color(contrast)}:host(.bkkr-color) .toast-button-cancel{color:inherit}:host(.bkkr-color) .toast-wrapper{background:current-color(base)}";let it=0;const st=new WeakMap,nt=(t,e)=>({create:r=>ut(t,r,e),dismiss:(e,r,a)=>xt(document,e,r,t,a),getTop:async()=>zt(document,t)}),lt=nt("bkkr-alert",T),dt=nt("bkkr-drawer",Y),ct=nt("bkkr-loading",A),ht=nt("bkkr-modal",X),pt=nt("bkkr-popover",Z),bt=nt("bkkr-toast",at),kt=t=>{"undefined"!=typeof document&&wt(document);const e=it++;t.overlayIndex=e,t.hasAttribute("id")||(t.id=`bkkr-overlay-${e}`)},ut=(t,e,r)=>void 0!==window.customElements?("undefined"!=typeof window&&window.customElements&&!window.customElements.get(t)&&window.customElements.define(t,r),window.customElements.whenDefined(t).then((()=>{const r=document.createElement(t);return r.classList.add("overlay-hidden"),Object.assign(r,Object.assign(Object.assign({},e),{hasController:!0})),Wt(document).appendChild(r),new Promise((t=>i(r,t)))}))):Promise.resolve(),mt='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .state-focusable:not([tabindex^="-"])',vt="input:not([type=hidden]), textarea, button, select",gt=(t,e)=>{let r=t.querySelector(mt);const a=r&&r.shadowRoot;if(a&&(r=a.querySelector(vt)||r),r){if(r.focus(),r.classList.contains("state-focusable")){const t=e.closest("bkkr-root");t&&t.setFocus([r])}}else e.focus()},ft=(t,e)=>{const r=Array.from(t.querySelectorAll(mt));let a=r.length>0?r[r.length-1]:null;const o=a&&a.shadowRoot;o&&(a=o.querySelector(vt)||a),a?a.focus():e.focus()},wt=t=>{0===it&&(it=1,t.addEventListener("focus",(r=>((t,r)=>{const a=Dt(r),o=t.target;a&&o&&(a.shadowRoot?(()=>{if(a.contains(o))a.lastFocus=o;else{const t=a.lastFocus;gt(a,a),t===r.activeElement&&ft(a,a),a.lastFocus=r.activeElement}})():(()=>{if(a===o)a.lastFocus=void 0;else{const t=e(a);if(!t.contains(o))return;const i=t.querySelector(".bkkr-overlay-wrapper");if(!i)return;if(i.contains(o))a.lastFocus=o;else{const t=a.lastFocus;gt(i,a),t===r.activeElement&&ft(i,a),a.lastFocus=r.activeElement}}})())})(r,t)),!0),t.addEventListener("bkkrBackButton",(e=>{const r=Dt(t);r&&r.backdropDismiss&&e.detail.register(l,(()=>r.dismiss(void 0,Bt)))})),t.addEventListener("keyup",(e=>{if("Escape"===e.key){const e=zt(t);e&&e.backdropDismiss&&e.dismiss(void 0,Bt)}})))},xt=(t,e,r,a,o)=>{const i=zt(t,a,o);return i?i.dismiss(e,r):Promise.reject("overlay does not exist")},yt=(t,e)=>(void 0===e&&(e="bkkr-alert,bkkr-drawer,bkkr-loading,bkkr-modal,bkkr-popover,bkkr-toast"),Array.from(t.querySelectorAll(e)).filter((t=>t.overlayIndex>0))),Dt=t=>{const e=yt(t);for(let t=e.length-1;t>=0;t--){const r=e[t];if(!r.classList.contains("overlay-hidden"))return r}},zt=(t,e,r)=>{const a=yt(t,e);return void 0===r?a[a.length-1]:a.find((t=>t.id===r))},Ct=(t=!1)=>{const e=Wt(document).querySelector("bkkr-router-outlet, bkkr-nav, #bkkr-view-container-root");e&&(t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden"))},Pt=async(e,r,a,o)=>{var i,s;if(e.presented)return;Ct(!0),e.presented=!0,e.willPresent.emit(),null===(i=e.willPresentShorthand)||void 0===i||i.emit();const n=e.enterAnimation?e.enterAnimation:t.get(r,a);await Ot(e,n,e.el,o)&&(e.didPresent.emit(),null===(s=e.didPresentShorthand)||void 0===s||s.emit()),"BKKR-TOAST"!==e.el.tagName&&jt(e.el),e.keyboardClose&&e.el.focus()},jt=async t=>{let e=document.activeElement;if(!e)return;const r=e&&e.shadowRoot;r&&(e=r.querySelector(vt)||e),await t.onDidDismiss(),e.focus()},Tt=async(e,r,a,o,i,s)=>{var n,l;if(!e.presented)return!1;Ct(!1),e.presented=!1;try{e.el.style.setProperty("pointer-events","none"),e.willDismiss.emit({data:r,role:a}),null===(n=e.willDismissShorthand)||void 0===n||n.emit({data:r,role:a});const d=e.leaveAnimation?e.leaveAnimation:t.get(o,i);"gesture"!==a&&await Ot(e,d,e.el,s),e.didDismiss.emit({data:r,role:a}),null===(l=e.didDismissShorthand)||void 0===l||l.emit({data:r,role:a}),st.delete(e),e.el.classList.add("overlay-hidden")}catch(t){console.error(t)}return e.el.remove(),!0},Wt=t=>t.querySelector("bkkr-root")||t.body,Ot=async(e,r,a,o)=>{a.classList.remove("overlay-hidden");const i=r(e.el,o);e.animated&&t.getBoolean("animated",!0)||i.duration(0),e.keyboardClose&&i.beforeAddWrite((()=>{const t=a.ownerDocument.activeElement;t&&t.matches("input,bkkr-input, bkkr-datepicker, bkkr-textarea")&&t.blur()}));const s=st.get(e)||[];return st.set(e,[...s,i]),await i.play(),!0},$t=(t,e)=>{let r;const a=new Promise((t=>r=t));return Lt(t,e,(t=>{r(t.detail)})),a},Lt=(t,e,r)=>{const a=o=>{s(t,e,a),r(o)};o(t,e,a)},At=t=>"cancel"===t||t===Bt,Bt="backdrop";export{T as A,Y as D,A as L,X as M,Z as P,at as T,lt as a,dt as d,ct as l,ht as m,pt as p,bt as t}