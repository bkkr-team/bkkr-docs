var __awaiter=this&&this.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function a(e){try{s(n.next(e))}catch(e){o(e)}}function u(e){try{s(n["throw"](e))}catch(e){o(e)}}function s(e){e.done?r(e.value):i(e.value).then(a,u)}s((n=n.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(e){return function(t){return s([e,t])}}function s(a){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,i&&(o=a[0]&2?i["return"]:a[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;if(i=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:r.label++;return{value:a[1],done:false};case 5:r.label++;i=a[1];a=[0];continue;case 7:a=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(a[0]===6&&r.label<o[1]){r.label=o[1];o=a;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(a);break}if(o[2])r.ops.pop();r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e];i=0}finally{n=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var __spreadArray=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};System.register(["./p-ddd3d159.system.js"],(function(e){"use strict";var t,r,n,i,o;return{setters:[function(e){t=e.r;r=e.c;n=e.h;i=e.H;o=e.g}],execute:function(){var a=":host{display:block}:host(.accordion-group-expand-inset) ::slotted(bkkr-accordion.accordion-expanding),:host(.accordion-group-expand-inset) ::slotted(bkkr-accordion.accordion-expanded){border-bottom:none}";var u=e("bkkr_accordion_group",function(){function e(e){t(this,e);this.bkkrChange=r(this,"bkkrChange",7);this.animated=true;this.disabled=false;this.readonly=false;this.expand="accordion"}e.prototype.valueChanged=function(){var e=this,t=e.value,r=e.multiple;if(!r&&Array.isArray(t)){this.value=t[0]}else{this.bkkrChange.emit({value:this.value})}};e.prototype.disabledChanged=function(){return __awaiter(this,void 0,void 0,(function(){var e,t,r,n,i;return __generator(this,(function(o){switch(o.label){case 0:e=this.disabled;return[4,this.getAccordions()];case 1:t=o.sent();for(r=0,n=t;r<n.length;r++){i=n[r];i.disabled=e}return[2]}}))}))};e.prototype.readonlyChanged=function(){return __awaiter(this,void 0,void 0,(function(){var e,t,r,n,i;return __generator(this,(function(o){switch(o.label){case 0:e=this.readonly;return[4,this.getAccordions()];case 1:t=o.sent();for(r=0,n=t;r<n.length;r++){i=n[r];i.readonly=e}return[2]}}))}))};e.prototype.onKeydown=function(e){return __awaiter(this,void 0,void 0,(function(){var t,r,n,i,o,a;return __generator(this,(function(u){switch(u.label){case 0:t=document.activeElement;if(!t){return[2]}r=t.tagName==="BKKR-ACCORDION"?t:t.closest("bkkr-accordion");if(!r){return[2]}n=r.closest("bkkr-accordion-group");if(n!==this.el){return[2]}return[4,this.getAccordions()];case 1:i=u.sent();o=i.findIndex((function(e){return e===r}));if(o===-1){return[2]}if(e.key==="ArrowDown"){a=this.findNextAccordion(i,o)}else if(e.key==="ArrowUp"){a=this.findPreviousAccordion(i,o)}else if(e.key==="Home"){a=i[0]}else if(e.key==="End"){a=i[i.length-1]}if(a!==undefined&&a!==t){e.preventDefault();a.focus()}return[2]}}))}))};e.prototype.componentDidLoad=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){if(this.disabled){this.disabledChanged()}if(this.readonly){this.readonlyChanged()}return[2]}))}))};e.prototype.requestAccordionToggle=function(e,t){return __awaiter(this,void 0,void 0,(function(){var r,n,i,o,a,u,s,u;return __generator(this,(function(c){r=this,n=r.multiple,i=r.value,o=r.readonly,a=r.disabled;if(o||a){return[2]}if(t){if(n){u=i||[];s=u.find((function(t){return t===e}));if(s===undefined&&e!==undefined){this.value=__spreadArray(__spreadArray([],u),[e])}}else{this.value=e}}else{if(n){u=i||[];this.value=u.filter((function(t){return t!==e}))}else{this.value=undefined}}return[2]}))}))};e.prototype.findNextAccordion=function(e,t){var r=e[t+1];if(r===undefined){return e[0]}return r};e.prototype.findPreviousAccordion=function(e,t){var r=e[t-1];if(r===undefined){return e[e.length-1]}return r};e.prototype.getAccordions=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){return[2,Array.from(this.el.querySelectorAll("bkkr-accordion"))]}))}))};e.prototype.render=function(){var e;var t=this,r=t.disabled,o=t.readonly,a=t.expand;return n(i,{class:(e={"accordion-group-disabled":r,"accordion-group-readonly":o},e["accordion-group-expand-"+a]=true,e),role:"presentation"},n("slot",null))};Object.defineProperty(e.prototype,"el",{get:function(){return o(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{value:["valueChanged"],disabled:["disabledChanged"],readonly:["readonlyChanged"]}},enumerable:false,configurable:true});return e}());u.style=a}}}));